






<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >




  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-44e67b0cd5d5.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light_high_contrast-b51c2fae25e8.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-cb035ed575b8.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark_high_contrast-99e9b1169976.css" /><link data-color-theme="light" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light-44e67b0cd5d5.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-b51c2fae25e8.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-dadcba82130c.css" /><link data-color-theme="light_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind_high_contrast-cdc36145225e.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-0ca195e3b5f3.css" /><link data-color-theme="light_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia_high_contrast-f9fb5556a83f.css" /><link data-color-theme="dark" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark-cb035ed575b8.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-99e9b1169976.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-9541c4141757.css" /><link data-color-theme="dark_colorblind_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind_high_contrast-bc604fc65912.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-384776200fd7.css" /><link data-color-theme="dark_tritanopia_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia_high_contrast-489c70dedd0a.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-1545a2e9e540.css" /><link data-color-theme="dark_dimmed_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed_high_contrast-4c1792a987c3.css" />

  <style type="text/css">
    :root {
      --tab-size-preference: 4;
    }

    pre, code {
      tab-size: var(--tab-size-preference);
    }
  </style>

    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-15839d47b75d.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-a5c85403da8c.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-abde950b7df1.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-490b3f68bf33.css" />
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/repository-5d735668c600.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/code-9c9b8dc61e74.css" />

  

  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["actions_custom_images_public_preview_visibility","actions_custom_images_storage_billing_ui_visibility","actions_enable_snapshot_keyword","actions_image_version_event","alternate_user_config_repo","api_insights_show_missing_data_banner","attestations_filtering","attestations_sorting","billing_hide_expired_credits","billing_split_pru_skus","billing_split_pru_skus","billing_unfiltered_discounts","client_version_header","codespaces_prebuild_region_target_update","contentful_lp_footnotes","copilot_agent_cli_public_preview","copilot_agent_task_list_v2","copilot_agent_tasks_btn_code_nav","copilot_agent_tasks_btn_code_view","copilot_agent_tasks_btn_code_view_lines","copilot_api_agentic_issue_marshal_yaml","copilot_api_github_draft_update_issue_skill","copilot_chat_agents_empty_state","copilot_chat_attach_multiple_images","copilot_chat_file_redirect","copilot_chat_input_commands","copilot_chat_reduce_quota_checks","copilot_chat_search_bar_redirect","copilot_chat_selection_attachments","copilot_chat_vision_in_claude","copilot_chat_vision_skip_thread_create","copilot_coding_agent_task_response","copilot_custom_copilots","copilot_custom_copilots_feature_preview","copilot_duplicate_thread","copilot_extensions_deprecation_notice","copilot_features_raycast_logo","copilot_file_block_ref_matching","copilot_free_to_paid_telem","copilot_ftp_hyperspace_upgrade_prompt","copilot_ftp_settings_upgrade","copilot_ftp_upgrade_to_pro_from_models","copilot_ftp_your_copilot_settings","copilot_immersive_structured_model_picker","copilot_immersive_task_hyperlinking","copilot_immersive_task_within_chat_thread","copilot_insights_column_chart_axis_legibility_fix","copilot_insights_public_preview","copilot_insights_usage_export_ndjson","copilot_no_floating_button","copilot_read_shared_conversation","copilot_security_alert_assignee_options","copilot_spaces_as_attachments","copilot_spaces_ga","copilot_spark_empty_state","copilot_spark_loading_webgl","copilot_spark_progressive_error_handling","copilot_spark_use_billing_headers","copilot_stable_conversation_view","copilot_swe_agent_progress_commands","copilot_swe_agent_use_subagents","copilot_workbench_agent_seed_tool","copilot_workbench_cache","copilot_workbench_preview_analytics","copilot_workbench_skip_repo_on_codespace","copilot_workbench_use_single_prompt","deployment_record_api","direct_to_salesforce","disable_dashboard_universe_2025_private_preview","dotcom_chat_client_side_skills","failbot_report_error_react_apps_on_page","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","global_search_multi_orgs","hpc_improve_dom_insertion_observer","hyperspace_2025_logged_out_batch_1","hyperspace_nudges_universe25","hyperspace_nudges_universe25_post_event","inp_reduced_threshold","insert_before_patch","issue_fields_report_usage","issues_copilot_cross_repo_assign","issues_react_blur_item_picker_on_close","issues_react_bots_timeline_pagination","issues_react_prohibit_title_fallback","issues_react_remove_placeholders","issues_sticky_sidebar","kb_convert_to_space","lifecycle_label_name_updates","link_contact_sales_swp_marketo","marketing_pages_search_explore_provider","mcp_registry_install","memex_mwl_filter_field_delimiter","new_traffic_page_banner","open_agent_session_in_vscode_insiders","pinned_issue_fields","primer_react_segmented_control_tooltip","primer_react_unified_portal_root","primer_react_use_styled_react_theming","react_fetch_graphql_validate_base_url","record_sso_banner_metrics","remove_child_patch","repos_insights_remove_new_url","sample_network_conn_type","scheduled_reminders_updated_limits","site_features_copilot_universe","site_homepage_collaborate_video","site_homepage_contentful","site_homepage_eyebrow_banner","site_homepage_universe_animations","site_msbuild_webgl_hero","spark_fix_rename","spark_force_push_after_checkout","spark_improve_image_upload","spark_kv_encocoded_keys","spark_show_data_access_on_publish","spark_sync_repository_after_iteration","viewscreen_sandbox","webp_support","workbench_store_readonly"],"copilotApiOverrideUrl":"https://api.githubcopilot.com"}</script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/high-contrast-cookie-f3788027bd8d.js"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-1cc776af0381.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-468bf7cab607.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_stacktrace-parser_dist_stack-trace-parser_esm_js-node_modules_github_bro-2f4e04-280c10ec004d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/environment-b4e74adb6411.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-3eee64e5ddf0.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-9ab93471824e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-ef89d23fcc0a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-0d7d60-ad3a87b2f0eb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-754f5b5e9e7e.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-665e70-ac788066c220.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-d41270eb61be.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-777ce2-9ec8c103bf42.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-9e1d42c09c62.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-91c24873dcb9.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec-f11c694928ba.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-9012bef51135.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-c1896e-ba47f43192a8.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-9ba0881c72fb.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-8eb9b2209bcd.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_hotkey_dist_index_js-node_modules_github_hydro-analytics-client_d-502318-b6850e6a8b08.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-7154bb-4c81ec053a86.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/packages_document-metadata_document-metadata_ts-packages_failbot_failbot_ts-06156f7d8d1a.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/packages_updatable-content_updatable-content_ts-38f5e2f7c2a7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_details-6493f1-cecb020e2bb7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_throttled-input_ts-047775-cfe8770908d1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-d8c5bfe37d1d.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-debf59ec3fe9.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-ef6d0f-20d6767cecc0.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-d89a4ddd4532.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_virtualized-list_es_index_js-node_modules_github_template-parts_lib_inde-f69fd1-ead47121f2f7.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-0d71a9-129b4f34d384.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_ref-selector_ts-63ecfa2887c1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/codespaces-8cfd06ba3e39.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-3eebbd-7f6bf4b8b391.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_delegated-events_di-e161aa-9086b9aee9d1.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_github_remote--abdaf7-71f92102de66.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/repositories-7c2a36f9c401.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_catalyst_lib_inde-96937f-70732ff56a20.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/code-menu-614eb4e0c016.js" defer="defer"></script>
  
  <script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-cdd6dd11a475.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-25ef56e89e94.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/react-core-4aba40ae1474.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-dfcd3f5e8531.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-825c28-cdae255a4bbc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_hydro-analytics-c-c228f9-e9af1d9bff76.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_mutation_js-node_modules_tanstack_query-9bf7e4-2246c69bea10.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_swc_helpers_esm__class_private_method_get_js-node_modules_swc_helpers_es-d6b1a6-13297632eddc.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/packages_notifications-subscriptions-menu_entry_ts-packages_promise-with-resolvers-polyfill_p-15cb60-472d7ae7ad1c.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/notifications-subscriptions-menu-4f0464db38d4.js" defer="defer"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/notifications-subscriptions-menu.bab8822ac328fb95c70d.module.css" />

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/notifications-subscriptions-menu.bab8822ac328fb95c70d.module.css" />


  <title>GitHub - jet/equinox: .NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross-stream projections/subscriptions/reactions</title>



  <meta name="route-pattern" content="/:user_id/:repository" data-turbo-transient>
  <meta name="route-controller" content="files" data-turbo-transient>
  <meta name="route-action" content="disambiguate" data-turbo-transient>
  <meta name="fetch-nonce" content="v2:d8b972e4-9933-bd08-a289-908efd99a4db">

    
  <meta name="current-catalog-service-hash" content="f3abb0cc802f3d7b95fc8762b94bdcb13bf39634c40c357301c4aa1d67a256fb">


  <meta name="request-id" content="5FC1:1157AD:537E0C:6A8129:69058104" data-pjax-transient="true"/><meta name="html-safe-nonce" content="c99212a733397f4193cd5536d70e638d8a14e297e3a1deb40f72f67f43400c49" data-pjax-transient="true"/><meta name="visitor-payload" content="eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiI1RkMxOjExNTdBRDo1MzdFMEM6NkE4MTI5OjY5MDU4MTA0IiwidmlzaXRvcl9pZCI6IjU3MzQ5Nzg2NDEzNjUxMzk3MTUiLCJyZWdpb25fZWRnZSI6ImlhZCIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-pjax-transient="true"/><meta name="visitor-hmac" content="8dda35d7836820f4faaada94dcfb81d6714940ad66ec0a7b666db7638e11c26c" data-pjax-transient="true"/>


    <meta name="hovercard-subject-tag" content="repository:101387536" data-turbo-transient>


  <meta name="github-keyboard-shortcuts" content="repository,copilot" data-turbo-transient="true" />
  

  <meta name="selected-link" value="repo_source" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;" data-turbo-transient="true" />

  




    <meta name="user-login" content="">

  

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content=".NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross-stream projections/subscriptions/reactions - jet/equinox">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/jet/equinox" />

      <meta name="twitter:image" content="https://opengraph.githubassets.com/454709d457bdb83fe253240f53f4583d2c4ac0967abee5f6fda34868070cabb8/jet/equinox" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="GitHub - jet/equinox: .NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross-stream projections/subscriptions/reactions" /><meta name="twitter:description" content=".NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross..." />
  <meta property="og:image" content="https://opengraph.githubassets.com/454709d457bdb83fe253240f53f4583d2c4ac0967abee5f6fda34868070cabb8/jet/equinox" /><meta property="og:image:alt" content=".NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross..." /><meta property="og:image:width" content="1200" /><meta property="og:image:height" content="600" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="GitHub - jet/equinox: .NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross-stream projections/subscriptions/reactions" /><meta property="og:url" content="https://github.com/jet/equinox" /><meta property="og:description" content=".NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see https://github.com/jet/propulsion for cross..." />
  




      <meta name="hostname" content="github.com">



        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="9890aecdee21df493c1ea7e1fcff6415eb8cc0af6ed8c7ce9734fcd5fe65cf1a" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="21a43568025709b66240454fc92d4f09335a96863f8ab1c46b4a07f6a5b67102" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="64aa48ca69ddc4d1267863e96c8a5c11e0cb33842931f16e1441b54a84bcc1ad" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="b390268bacc1336925a16a0d32843839c3db64b65cf390fb0f19a7510eee3e4f" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta data-hydrostats="publish">
  <meta name="go-import" content="github.com/jet/equinox git https://github.com/jet/equinox.git">

  <meta name="octolytics-dimension-user_id" content="2504855" /><meta name="octolytics-dimension-user_login" content="jet" /><meta name="octolytics-dimension-repository_id" content="101387536" /><meta name="octolytics-dimension-repository_nwo" content="jet/equinox" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="101387536" /><meta name="octolytics-dimension-repository_network_root_nwo" content="jet/equinox" />



      <link rel="canonical" href="https://github.com/jet/equinox" data-turbo-transient>


    <meta name="turbo-body-classes" content="logged-out env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <meta name="release" content="6f0a50c83824a7b7b3ed4ac8a758c063075591b0">
  <meta name="ui-target" content="full">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />


  <link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
    <div data-turbo-body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
      



    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/keyboard-shortcuts-dialog.2de9c7d6456a311fce49.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>





      

          

              
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_gsap_index_js-6265bea06e74.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-94fd67-dc050877d1bf.js" defer="defer"></script>
<script crossorigin="anonymous" type="application/javascript" src="https://github.githubassets.com/assets/sessions-917229b8a853.js" defer="defer"></script>

<header class="HeaderMktg header-logged-out js-details-container js-header Details f4 py-3" role="banner" data-is-top="true" data-color-mode=light data-light-theme=light data-dark-theme=dark>
  <h2 class="sr-only">Navigation Menu</h2>

  <button type="button" class="HeaderMktg-backdrop d-lg-none border-0 position-fixed top-0 left-0 width-full height-full js-details-target" aria-label="Toggle navigation">
    <span class="d-none">Toggle navigation</span>
  </button>

  <div class="d-flex flex-column flex-lg-row flex-items-center px-3 px-md-4 px-lg-5 height-full position-relative z-1">
    <div class="d-flex flex-justify-between flex-items-center width-full width-lg-auto">
      <div class="flex-1">
        <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="js-details-target js-nav-padding-recalculate js-header-menu-toggle Button--link Button--medium Button d-lg-none color-fg-inherit p-1">  <span class="Button-content">
    <span class="Button-label"><div class="HeaderMenu-toggle-bar rounded my-1"></div>
            <div class="HeaderMenu-toggle-bar rounded my-1"></div>
            <div class="HeaderMenu-toggle-bar rounded my-1"></div></span>
  </span>
</button>
      </div>

      <a class="mr-lg-3 color-fg-inherit flex-order-2 js-prevent-focus-on-mobile-nav"
        href="/"
        aria-label="Homepage"
        data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to go to homepage&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Logomark;ref_loc:Header&quot;}">
        <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path>
</svg>
      </a>

      <div class="d-flex flex-1 flex-order-2 text-right d-lg-none gap-2 flex-justify-end">
          <a
            href="/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"
            class="HeaderMenu-link HeaderMenu-button d-inline-flex f5 no-underline border color-border-default rounded-2 px-2 py-1 color-fg-inherit js-prevent-focus-on-mobile-nav"
            data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7befb3be1b67b4552a0f3f9e2d77d37e8881431208a6353595d6009558f098ee"
            data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to Sign in&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Sign in;ref_loc:Header&quot;}"
          >
            Sign in
          </a>
              <div class="AppHeader-appearanceSettings">
    <react-partial-anchor>
      <button data-target="react-partial-anchor.anchor" id="icon-button-8061ed92-293d-4612-853f-dafcb0b69426" aria-labelledby="tooltip-b70f0926-bb6c-48d5-9bc8-a0977db344cd" type="button" disabled="disabled" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium AppHeader-button HeaderMenu-link border cursor-wait">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sliders Button-visual">
    <path d="M15 2.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75Zm-8.5.75v1.25a.75.75 0 0 0 1.5 0v-4a.75.75 0 0 0-1.5 0V2H1.75a.75.75 0 0 0 0 1.5H6.5Zm1.25 5.25a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5h6ZM15 8a.75.75 0 0 1-.75.75H11.5V10a.75.75 0 1 1-1.5 0V6a.75.75 0 0 1 1.5 0v1.25h2.75A.75.75 0 0 1 15 8Zm-9 5.25v-2a.75.75 0 0 0-1.5 0v1.25H1.75a.75.75 0 0 0 0 1.5H4.5v1.25a.75.75 0 0 0 1.5 0v-2Zm9 0a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75Z"></path>
</svg>
</button><tool-tip id="tooltip-b70f0926-bb6c-48d5-9bc8-a0977db344cd" for="icon-button-8061ed92-293d-4612-853f-dafcb0b69426" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Appearance settings</tool-tip>

      <template data-target="react-partial-anchor.template">
        <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/appearance-settings.6c63a6de228d6520804d.module.css" />

<react-partial
  partial-name="appearance-settings"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


      </template>
    </react-partial-anchor>
  </div>

      </div>
    </div>


    <div class="HeaderMenu js-header-menu height-fit position-lg-relative d-lg-flex flex-column flex-auto top-0">
      <div class="HeaderMenu-wrapper d-flex flex-column flex-self-start flex-lg-row flex-auto rounded rounded-lg-0">
            <nav class="HeaderMenu-nav" aria-label="Global">
              <ul class="d-lg-flex list-style-none">
                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Platform
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>

      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 dropdown-menu-wide">
        <div class="d-lg-flex dropdown-menu-wide">
            <div class="HeaderMenu-column px-lg-4">
                <div class="">

                  <ul class="list-style-none f5" >
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_copilot&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_copilot_link_platform_navbar&quot;}" href="https://github.com/features/copilot">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-copilot color-fg-subtle mr-3">
    <path d="M23.922 16.992c-.861 1.495-5.859 5.023-11.922 5.023-6.063 0-11.061-3.528-11.922-5.023A.641.641 0 0 1 0 16.736v-2.869a.841.841 0 0 1 .053-.22c.372-.935 1.347-2.292 2.605-2.656.167-.429.414-1.055.644-1.517a10.195 10.195 0 0 1-.052-1.086c0-1.331.282-2.499 1.132-3.368.397-.406.89-.717 1.474-.952 1.399-1.136 3.392-2.093 6.122-2.093 2.731 0 4.767.957 6.166 2.093.584.235 1.077.546 1.474.952.85.869 1.132 2.037 1.132 3.368 0 .368-.014.733-.052 1.086.23.462.477 1.088.644 1.517 1.258.364 2.233 1.721 2.605 2.656a.832.832 0 0 1 .053.22v2.869a.641.641 0 0 1-.078.256ZM12.172 11h-.344a4.323 4.323 0 0 1-.355.508C10.703 12.455 9.555 13 7.965 13c-1.725 0-2.989-.359-3.782-1.259a2.005 2.005 0 0 1-.085-.104L4 11.741v6.585c1.435.779 4.514 2.179 8 2.179 3.486 0 6.565-1.4 8-2.179v-6.585l-.098-.104s-.033.045-.085.104c-.793.9-2.057 1.259-3.782 1.259-1.59 0-2.738-.545-3.508-1.492a4.323 4.323 0 0 1-.355-.508h-.016.016Zm.641-2.935c.136 1.057.403 1.913.878 2.497.442.544 1.134.938 2.344.938 1.573 0 2.292-.337 2.657-.751.384-.435.558-1.15.558-2.361 0-1.14-.243-1.847-.705-2.319-.477-.488-1.319-.862-2.824-1.025-1.487-.161-2.192.138-2.533.529-.269.307-.437.808-.438 1.578v.021c0 .265.021.562.063.893Zm-1.626 0c.042-.331.063-.628.063-.894v-.02c-.001-.77-.169-1.271-.438-1.578-.341-.391-1.046-.69-2.533-.529-1.505.163-2.347.537-2.824 1.025-.462.472-.705 1.179-.705 2.319 0 1.211.175 1.926.558 2.361.365.414 1.084.751 2.657.751 1.21 0 1.902-.394 2.344-.938.475-.584.742-1.44.878-2.497Z"></path><path d="M14.5 14.25a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Zm-5 0a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          GitHub Copilot

        </div>

        Write better code with AI
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_spark&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_spark_link_platform_navbar&quot;}" href="https://github.com/features/spark">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-sparkle-fill color-fg-subtle mr-3">
    <path d="M11.296 1.924c.24-.656 1.168-.656 1.408 0l.717 1.958a11.25 11.25 0 0 0 6.697 6.697l1.958.717c.657.24.657 1.168 0 1.408l-1.958.717a11.25 11.25 0 0 0-6.697 6.697l-.717 1.958c-.24.657-1.168.657-1.408 0l-.717-1.958a11.25 11.25 0 0 0-6.697-6.697l-1.958-.717c-.656-.24-.656-1.168 0-1.408l1.958-.717a11.25 11.25 0 0 0 6.697-6.697l.717-1.958Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          GitHub Spark

            <span class="HeaderMenu-label">
              New
            </span>
        </div>

        Build and deploy intelligent apps
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_models&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_models_link_platform_navbar&quot;}" href="https://github.com/features/models">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-ai-model color-fg-subtle mr-3">
    <path d="M19.375 8.5a3.25 3.25 0 1 1-3.163 4h-3a3.252 3.252 0 0 1-4.443 2.509L7.214 17.76a3.25 3.25 0 1 1-1.342-.674l1.672-2.957A3.238 3.238 0 0 1 6.75 12c0-.907.371-1.727.97-2.316L6.117 6.846A3.253 3.253 0 0 1 1.875 3.75a3.25 3.25 0 1 1 5.526 2.32l1.603 2.836A3.25 3.25 0 0 1 13.093 11h3.119a3.252 3.252 0 0 1 3.163-2.5ZM10 10.25a1.75 1.75 0 1 0-.001 3.499A1.75 1.75 0 0 0 10 10.25ZM5.125 2a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5Zm12.5 9.75a1.75 1.75 0 1 0 3.5 0 1.75 1.75 0 0 0-3.5 0Zm-14.25 8.5a1.75 1.75 0 1 0 3.501-.001 1.75 1.75 0 0 0-3.501.001Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          GitHub Models

            <span class="HeaderMenu-label">
              New
            </span>
        </div>

        Manage and compare prompts
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_advanced_security&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_advanced_security_link_platform_navbar&quot;}" href="https://github.com/security/advanced-security">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-shield-check color-fg-subtle mr-3">
    <path d="M16.53 9.78a.75.75 0 0 0-1.06-1.06L11 13.19l-1.97-1.97a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5-5Z"></path><path d="m12.54.637 8.25 2.675A1.75 1.75 0 0 1 22 4.976V10c0 6.19-3.771 10.704-9.401 12.83a1.704 1.704 0 0 1-1.198 0C5.77 20.705 2 16.19 2 10V4.976c0-.758.489-1.43 1.21-1.664L11.46.637a1.748 1.748 0 0 1 1.08 0Zm-.617 1.426-8.25 2.676a.249.249 0 0 0-.173.237V10c0 5.46 3.28 9.483 8.43 11.426a.199.199 0 0 0 .14 0C17.22 19.483 20.5 15.461 20.5 10V4.976a.25.25 0 0 0-.173-.237l-8.25-2.676a.253.253 0 0 0-.154 0Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          GitHub Advanced Security

        </div>

        Find and fix vulnerabilities
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;actions&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;actions_link_platform_navbar&quot;}" href="https://github.com/features/actions">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-workflow color-fg-subtle mr-3">
    <path d="M1 3a2 2 0 0 1 2-2h6.5a2 2 0 0 1 2 2v6.5a2 2 0 0 1-2 2H7v4.063C7 16.355 7.644 17 8.438 17H12.5v-2.5a2 2 0 0 1 2-2H21a2 2 0 0 1 2 2V21a2 2 0 0 1-2 2h-6.5a2 2 0 0 1-2-2v-2.5H8.437A2.939 2.939 0 0 1 5.5 15.562V11.5H3a2 2 0 0 1-2-2Zm2-.5a.5.5 0 0 0-.5.5v6.5a.5.5 0 0 0 .5.5h6.5a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5ZM14.5 14a.5.5 0 0 0-.5.5V21a.5.5 0 0 0 .5.5H21a.5.5 0 0 0 .5-.5v-6.5a.5.5 0 0 0-.5-.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Actions

        </div>

        Automate any workflow
      </div>

    
</a></li>

                  </ul>
                </div>
            </div>
            <div class="HeaderMenu-column px-lg-4 pb-3 pb-lg-0 border-lg-right">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                  <ul class="list-style-none f5" >
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;codespaces&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;codespaces_link_platform_navbar&quot;}" href="https://github.com/features/codespaces">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-codespaces color-fg-subtle mr-3">
    <path d="M3.5 3.75C3.5 2.784 4.284 2 5.25 2h13.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 18.75 13H5.25a1.75 1.75 0 0 1-1.75-1.75Zm-2 12c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v4a1.75 1.75 0 0 1-1.75 1.75H3.25a1.75 1.75 0 0 1-1.75-1.75ZM5.25 3.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h13.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Zm-2 12a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h17.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25Z"></path><path d="M10 17.75a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Codespaces

        </div>

        Instant dev environments
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;issues&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;issues_link_platform_navbar&quot;}" href="https://github.com/features/issues">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-issue-opened color-fg-subtle mr-3">
    <path d="M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Zm9.5 2a2 2 0 1 1-.001-3.999A2 2 0 0 1 12 14Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Issues

        </div>

        Plan and track work
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_review&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_review_link_platform_navbar&quot;}" href="https://github.com/features/code-review">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-code-review color-fg-subtle mr-3">
    <path d="M10.3 6.74a.75.75 0 0 1-.04 1.06l-2.908 2.7 2.908 2.7a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 0 1 1.06.04Zm3.44 1.06a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.908-2.7-2.908-2.7Z"></path><path d="M1.5 4.25c0-.966.784-1.75 1.75-1.75h17.5c.966 0 1.75.784 1.75 1.75v12.5a1.75 1.75 0 0 1-1.75 1.75h-9.69l-3.573 3.573A1.458 1.458 0 0 1 5 21.043V18.5H3.25a1.75 1.75 0 0 1-1.75-1.75ZM3.25 4a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 .75.75v3.19l3.72-3.72a.749.749 0 0 1 .53-.22h10a.25.25 0 0 0 .25-.25V4.25a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Code Review

        </div>

        Manage code changes
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;discussions&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;discussions_link_platform_navbar&quot;}" href="https://github.com/features/discussions">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-comment-discussion color-fg-subtle mr-3">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"></path><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Discussions

        </div>

        Collaborate outside of code
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;code_search&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;code_search_link_platform_navbar&quot;}" href="https://github.com/features/code-search">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-code-square color-fg-subtle mr-3">
    <path d="M10.3 8.24a.75.75 0 0 1-.04 1.06L7.352 12l2.908 2.7a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 0 1 1.06.04Zm3.44 1.06a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.908-2.7-2.908-2.7Z"></path><path d="M2 3.75C2 2.784 2.784 2 3.75 2h16.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0 1 20.25 22H3.75A1.75 1.75 0 0 1 2 20.25Zm1.75-.25a.25.25 0 0 0-.25.25v16.5c0 .138.112.25.25.25h16.5a.25.25 0 0 0 .25-.25V3.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Code Search

        </div>

        Find more, search less
      </div>

    
</a></li>

                  </ul>
                </div>
            </div>
            <div class="HeaderMenu-column px-lg-4">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 mb-3 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="platform-explore-heading">Explore</span>

                  <ul class="list-style-none f5" aria-labelledby="platform-explore-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;why_github&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;why_github_link_platform_navbar&quot;}" href="https://github.com/why-github">
      Why GitHub

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;documentation&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;documentation_link_platform_navbar&quot;}" href="https://docs.github.com">
      Documentation

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_skills&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_skills_link_platform_navbar&quot;}" href="https://skills.github.com">
      GitHub Skills

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;blog&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;blog_link_platform_navbar&quot;}" href="https://github.blog">
      Blog

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                  </ul>
                </div>
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="platform-integrations-heading">Integrations</span>

                  <ul class="list-style-none f5" aria-labelledby="platform-integrations-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_marketplace&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_marketplace_link_platform_navbar&quot;}" href="https://github.com/marketplace">
      GitHub Marketplace

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;mcp_registry&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;mcp_registry_link_platform_navbar&quot;}" href="https://github.com/mcp">
      MCP Registry

    
</a></li>

                  </ul>
                </div>
            </div>
        </div>

          <div class="HeaderMenu-trailing-link rounded-bottom-2 mt-lg-4 px-lg-4 py-4 py-lg-3 f5 text-semibold">
            <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_features&quot;,&quot;context&quot;:&quot;platform&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_features_link_platform_navbar&quot;}" href="https://github.com/features">
              View all features
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-right HeaderMenu-trailing-link-icon">
    <path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</a>          </div>
      </div>
</li>


                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Solutions
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>

      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 dropdown-menu-wide">
        <div class="d-lg-flex dropdown-menu-wide">
            <div class="HeaderMenu-column px-lg-4 pb-3 pb-lg-0 border-lg-right">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="solutions-by-company-size-heading">By company size</span>

                  <ul class="list-style-none f5" aria-labelledby="solutions-by-company-size-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;enterprises&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;enterprises_link_solutions_navbar&quot;}" href="https://github.com/enterprise">
      Enterprises

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;small_and_medium_teams&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;small_and_medium_teams_link_solutions_navbar&quot;}" href="https://github.com/team">
      Small and medium teams

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;startups&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;startups_link_solutions_navbar&quot;}" href="https://github.com/enterprise/startups">
      Startups

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;nonprofits&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;nonprofits_link_solutions_navbar&quot;}" href="/solutions/industry/nonprofits">
      Nonprofits

    
</a></li>

                  </ul>
                </div>
            </div>
            <div class="HeaderMenu-column px-lg-4 pb-3 pb-lg-0 border-lg-right">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="solutions-by-use-case-heading">By use case</span>

                  <ul class="list-style-none f5" aria-labelledby="solutions-by-use-case-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;app_modernization&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;app_modernization_link_solutions_navbar&quot;}" href="/solutions/use-case/app-modernization">
      App Modernization

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devsecops&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devsecops_link_solutions_navbar&quot;}" href="/solutions/use-case/devsecops">
      DevSecOps

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devops&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devops_link_solutions_navbar&quot;}" href="/solutions/use-case/devops">
      DevOps

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;ci_cd&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;ci_cd_link_solutions_navbar&quot;}" href="/solutions/use-case/ci-cd">
      CI/CD

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_use_cases&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_use_cases_link_solutions_navbar&quot;}" href="/solutions/use-case">
      View all use cases

    
</a></li>

                  </ul>
                </div>
            </div>
            <div class="HeaderMenu-column px-lg-4">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="solutions-by-industry-heading">By industry</span>

                  <ul class="list-style-none f5" aria-labelledby="solutions-by-industry-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;healthcare&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;healthcare_link_solutions_navbar&quot;}" href="/solutions/industry/healthcare">
      Healthcare

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;financial_services&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;financial_services_link_solutions_navbar&quot;}" href="/solutions/industry/financial-services">
      Financial services

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;manufacturing&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;manufacturing_link_solutions_navbar&quot;}" href="/solutions/industry/manufacturing">
      Manufacturing

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;government&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;government_link_solutions_navbar&quot;}" href="/solutions/industry/government">
      Government

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_industries&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_industries_link_solutions_navbar&quot;}" href="/solutions/industry">
      View all industries

    
</a></li>

                  </ul>
                </div>
            </div>
        </div>

          <div class="HeaderMenu-trailing-link rounded-bottom-2 mt-lg-4 px-lg-4 py-4 py-lg-3 f5 text-semibold">
            <a data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all_solutions&quot;,&quot;context&quot;:&quot;solutions&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_solutions_link_solutions_navbar&quot;}" href="/solutions">
              View all solutions
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-right HeaderMenu-trailing-link-icon">
    <path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</a>          </div>
      </div>
</li>


                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Resources
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>

      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4 dropdown-menu-wide">
        <div class="d-lg-flex dropdown-menu-wide">
            <div class="HeaderMenu-column px-lg-4 pb-3 pb-lg-0 border-lg-right">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 pb-3">

                      <span class="d-block h4 color-fg-default my-1" id="resources-topics-heading">Topics</span>

                  <ul class="list-style-none f5" aria-labelledby="resources-topics-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;ai&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;ai_link_resources_navbar&quot;}" href="/resources/articles?topic=ai">
      AI

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;devops&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;devops_link_resources_navbar&quot;}" href="/resources/articles?topic=devops">
      DevOps

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;security&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;security_link_resources_navbar&quot;}" href="/resources/articles?topic=security">
      Security

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;software_development&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;software_development_link_resources_navbar&quot;}" href="/resources/articles?topic=software-development">
      Software Development

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;view_all&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;view_all_link_resources_navbar&quot;}" href="/resources/articles">
      View all

    
</a></li>

                  </ul>
                </div>
            </div>
            <div class="HeaderMenu-column px-lg-4">
                <div class="border-bottom border-lg-bottom-0 pb-lg-0 border-bottom-0">

                      <span class="d-block h4 color-fg-default my-1" id="resources-explore-heading">Explore</span>

                  <ul class="list-style-none f5" aria-labelledby="resources-explore-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary Link--external" target="_blank" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;learning_pathways&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;learning_pathways_link_resources_navbar&quot;}" href="https://resources.github.com/learn/pathways">
      Learning Pathways

    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link-external HeaderMenu-external-icon color-fg-subtle">
    <path d="M3.75 2h3.5a.75.75 0 0 1 0 1.5h-3.5a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-3.5a.75.75 0 0 1 1.5 0v3.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25v-8.5C2 2.784 2.784 2 3.75 2Zm6.854-1h4.146a.25.25 0 0 1 .25.25v4.146a.25.25 0 0 1-.427.177L13.03 4.03 9.28 7.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.75-3.75-1.543-1.543A.25.25 0 0 1 10.604 1Z"></path>
</svg>
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;events_amp_webinars&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;events_amp_webinars_link_resources_navbar&quot;}" href="https://github.com/resources/events">
      Events &amp; Webinars

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;ebooks_amp_whitepapers&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;ebooks_amp_whitepapers_link_resources_navbar&quot;}" href="https://github.com/resources/whitepapers">
      Ebooks &amp; Whitepapers

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;customer_stories&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;customer_stories_link_resources_navbar&quot;}" href="https://github.com/customer-stories">
      Customer Stories

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;partners&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;partners_link_resources_navbar&quot;}" href="https://github.com/partners">
      Partners

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;executive_insights&quot;,&quot;context&quot;:&quot;resources&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;executive_insights_link_resources_navbar&quot;}" href="https://github.com/solutions/executive-insights">
      Executive Insights

    
</a></li>

                  </ul>
                </div>
            </div>
        </div>

      </div>
</li>


                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Open Source
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>

      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4">
        <div class="d-lg-flex dropdown-menu-wide">
            <div class="HeaderMenu-column px-lg-4">
                <div class="border-bottom mb-3 mb-lg-3 pb-3">

                  <ul class="list-style-none f5" >
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_sponsors&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_sponsors_link_open_source_navbar&quot;}" href="/sponsors">
      
      <div>
        <div class="color-fg-default h4">
          GitHub Sponsors

        </div>

        Fund open source developers
      </div>

    
</a></li>

                  </ul>
                </div>
                <div class="border-bottom mb-3 mb-lg-3 pb-3">

                  <ul class="list-style-none f5" >
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;the_readme_project&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;the_readme_project_link_open_source_navbar&quot;}" href="https://github.com/readme">
      
      <div>
        <div class="color-fg-default h4">
          The ReadME Project

        </div>

        GitHub community articles
      </div>

    
</a></li>

                  </ul>
                </div>
                <div class="border-bottom border-bottom-0">

                      <span class="d-block h4 color-fg-default my-1" id="open-source-repositories-heading">Repositories</span>

                  <ul class="list-style-none f5" aria-labelledby="open-source-repositories-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;topics&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;topics_link_open_source_navbar&quot;}" href="https://github.com/topics">
      Topics

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;trending&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;trending_link_open_source_navbar&quot;}" href="https://github.com/trending">
      Trending

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;collections&quot;,&quot;context&quot;:&quot;open_source&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;collections_link_open_source_navbar&quot;}" href="https://github.com/collections">
      Collections

    
</a></li>

                  </ul>
                </div>
            </div>
        </div>

      </div>
</li>


                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
      <button type="button" class="HeaderMenu-link border-0 width-full width-lg-auto px-0 px-lg-2 py-lg-2 no-wrap d-flex flex-items-center flex-justify-between js-details-target" aria-expanded="false">
        Enterprise
        <svg opacity="0.5" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-chevron-down HeaderMenu-icon ml-1">
    <path d="M12.78 5.22a.749.749 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.06 0L3.22 6.28a.749.749 0 1 1 1.06-1.06L8 8.939l3.72-3.719a.749.749 0 0 1 1.06 0Z"></path>
</svg>
      </button>

      <div class="HeaderMenu-dropdown dropdown-menu rounded m-0 p-0 pt-2 pt-lg-4 position-relative position-lg-absolute left-0 left-lg-n3 pb-2 pb-lg-4">
        <div class="d-lg-flex dropdown-menu-wide">
            <div class="HeaderMenu-column px-lg-4">
                <div class="border-bottom mb-3 mb-lg-3 pb-3">

                  <ul class="list-style-none f5" >
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;enterprise_platform&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;enterprise_platform_link_enterprise_navbar&quot;}" href="/enterprise">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-stack color-fg-subtle mr-3">
    <path d="M11.063 1.456a1.749 1.749 0 0 1 1.874 0l8.383 5.316a1.751 1.751 0 0 1 0 2.956l-8.383 5.316a1.749 1.749 0 0 1-1.874 0L2.68 9.728a1.751 1.751 0 0 1 0-2.956Zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422Z"></path><path d="M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"></path><path d="M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.749 1.749 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Enterprise platform

        </div>

        AI-powered developer platform
      </div>

    
</a></li>

                  </ul>
                </div>
                <div class="border-bottom border-bottom-0">

                      <span class="d-block h4 color-fg-default my-1" id="enterprise-available-add-ons-heading">Available add-ons</span>

                  <ul class="list-style-none f5" aria-labelledby="enterprise-available-add-ons-heading">
                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;github_advanced_security&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;github_advanced_security_link_enterprise_navbar&quot;}" href="https://github.com/security/advanced-security">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-shield-check color-fg-subtle mr-3">
    <path d="M16.53 9.78a.75.75 0 0 0-1.06-1.06L11 13.19l-1.97-1.97a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l5-5Z"></path><path d="m12.54.637 8.25 2.675A1.75 1.75 0 0 1 22 4.976V10c0 6.19-3.771 10.704-9.401 12.83a1.704 1.704 0 0 1-1.198 0C5.77 20.705 2 16.19 2 10V4.976c0-.758.489-1.43 1.21-1.664L11.46.637a1.748 1.748 0 0 1 1.08 0Zm-.617 1.426-8.25 2.676a.249.249 0 0 0-.173.237V10c0 5.46 3.28 9.483 8.43 11.426a.199.199 0 0 0 .14 0C17.22 19.483 20.5 15.461 20.5 10V4.976a.25.25 0 0 0-.173-.237l-8.25-2.676a.253.253 0 0 0-.154 0Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          GitHub Advanced Security

        </div>

        Enterprise-grade security features
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description mb-lg-3" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;copilot_for_business&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;copilot_for_business_link_enterprise_navbar&quot;}" href="/features/copilot/copilot-business">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-copilot color-fg-subtle mr-3">
    <path d="M23.922 16.992c-.861 1.495-5.859 5.023-11.922 5.023-6.063 0-11.061-3.528-11.922-5.023A.641.641 0 0 1 0 16.736v-2.869a.841.841 0 0 1 .053-.22c.372-.935 1.347-2.292 2.605-2.656.167-.429.414-1.055.644-1.517a10.195 10.195 0 0 1-.052-1.086c0-1.331.282-2.499 1.132-3.368.397-.406.89-.717 1.474-.952 1.399-1.136 3.392-2.093 6.122-2.093 2.731 0 4.767.957 6.166 2.093.584.235 1.077.546 1.474.952.85.869 1.132 2.037 1.132 3.368 0 .368-.014.733-.052 1.086.23.462.477 1.088.644 1.517 1.258.364 2.233 1.721 2.605 2.656a.832.832 0 0 1 .053.22v2.869a.641.641 0 0 1-.078.256ZM12.172 11h-.344a4.323 4.323 0 0 1-.355.508C10.703 12.455 9.555 13 7.965 13c-1.725 0-2.989-.359-3.782-1.259a2.005 2.005 0 0 1-.085-.104L4 11.741v6.585c1.435.779 4.514 2.179 8 2.179 3.486 0 6.565-1.4 8-2.179v-6.585l-.098-.104s-.033.045-.085.104c-.793.9-2.057 1.259-3.782 1.259-1.59 0-2.738-.545-3.508-1.492a4.323 4.323 0 0 1-.355-.508h-.016.016Zm.641-2.935c.136 1.057.403 1.913.878 2.497.442.544 1.134.938 2.344.938 1.573 0 2.292-.337 2.657-.751.384-.435.558-1.15.558-2.361 0-1.14-.243-1.847-.705-2.319-.477-.488-1.319-.862-2.824-1.025-1.487-.161-2.192.138-2.533.529-.269.307-.437.808-.438 1.578v.021c0 .265.021.562.063.893Zm-1.626 0c.042-.331.063-.628.063-.894v-.02c-.001-.77-.169-1.271-.438-1.578-.341-.391-1.046-.69-2.533-.529-1.505.163-2.347.537-2.824 1.025-.462.472-.705 1.179-.705 2.319 0 1.211.175 1.926.558 2.361.365.414 1.084.751 2.657.751 1.21 0 1.902-.394 2.344-.938.475-.584.742-1.44.878-2.497Z"></path><path d="M14.5 14.25a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Zm-5 0a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Copilot for business

        </div>

        Enterprise-grade AI features
      </div>

    
</a></li>

                      <li>
  <a class="HeaderMenu-dropdown-link d-block no-underline position-relative py-2 Link--secondary d-flex flex-items-center Link--has-description" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;premium_support&quot;,&quot;context&quot;:&quot;enterprise&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;premium_support_link_enterprise_navbar&quot;}" href="/premium-support">
      <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-comment-discussion color-fg-subtle mr-3">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"></path><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"></path>
</svg>
      <div>
        <div class="color-fg-default h4">
          Premium Support

        </div>

        Enterprise-grade 24/7 support
      </div>

    
</a></li>

                  </ul>
                </div>
            </div>
        </div>

      </div>
</li>


                  <li class="HeaderMenu-item position-relative flex-wrap flex-justify-between flex-items-center d-block d-lg-flex flex-lg-nowrap flex-lg-items-center js-details-container js-header-menu-item">
    <a class="HeaderMenu-link no-underline px-0 px-lg-2 py-3 py-lg-2 d-block d-lg-inline-block" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;platform&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;platform_link_global_navbar&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

              </ul>
            </nav>

        <div class="d-flex flex-column flex-lg-row width-full flex-justify-end flex-lg-items-center text-center mt-3 mt-lg-0 text-lg-left ml-lg-3">
                


<qbsearch-input class="search-input" data-scope="repo:jet/equinox" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="7t_Aczr6zWgVgfm0UKpkCLZWXg-NOIbKAaldrlQ7sYi34MiXLBigYAk2ixpgoeWA1Bbq5FOXbyOktYVodkvoEA" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="jet/equinox" data-current-org="jet" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-nl-search-enabled="false" data-retain-scroll-position="true">
  <div
    class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center mr-4 rounded"
    data-action="click:qbsearch-input#searchInputContainerClicked"
  >
      <button
        type="button"
        class="header-search-button placeholder  input-button form-control d-flex flex-1 flex-self-stretch flex-items-center no-wrap width-full py-0 pl-2 pr-0 text-left border-0 box-shadow-none"
        data-target="qbsearch-input.inputButton"
        aria-label="Search or jump to"
        aria-haspopup="dialog"
        placeholder="Search or jump to..."
        data-hotkey=s,/
        autocapitalize="off"
        data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}"
        data-action="click:qbsearch-input#handleExpand"
      >
        <div class="mr-2 color-fg-muted">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
        </div>
        <span class="flex-1" data-target="qbsearch-input.inputButtonText">Search or jump to...</span>
          <div class="d-flex" data-target="qbsearch-input.hotkeyIndicator">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" aria-hidden="true" class="mr-1"><path fill="none" stroke="#979A9C" opacity=".4" d="M3.5.5h12c1.7 0 3 1.3 3 3v13c0 1.7-1.3 3-3 3h-12c-1.7 0-3-1.3-3-3v-13c0-1.7 1.3-3 3-3z"></path><path fill="#979A9C" d="M11.8 6L8 15.1h-.9L10.8 6h1z"></path></svg>
          </div>
      </button>

    <input type="hidden" name="type" class="js-site-search-type-field">

    
<div class="Overlay--hidden " data-modal-dialog-overlay>
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-large Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">
      
          <div data-view-component="true">        <div class="search-suggestions position-fixed width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container"
          style="border-radius: 12px;"
          data-target="qbsearch-input.queryBuilderContainer"
          hidden
        >
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="query-builder-test-form" action="" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div
        class="QueryBuilder-StyledInput width-fit "
        data-target="query-builder.styledInput"
      >
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div
            aria-hidden="true"
            class="QueryBuilder-StyledInputContent"
            data-target="query-builder.styledInputContent"
          ></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-cd593b77-e83e-4e9a-9c1c-68f6c7ec9307" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" />
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="hidden" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
</template>

<template id="code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="file-code-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-code">
    <path d="M4 1.75C4 .784 4.784 0 5.75 0h5.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 14.25 15h-9a.75.75 0 0 1 0-1.5h9a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 10 4.25V1.5H5.75a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Zm1.72 4.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l1.47-1.47-1.47-1.47a.75.75 0 0 1 0-1.06ZM3.28 7.78 1.81 9.25l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Zm8.22-6.218V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path>
</svg>
</template>

<template id="history-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-history">
    <path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path>
</svg>
</template>

<template id="repo-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
</template>

<template id="bookmark-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bookmark">
    <path d="M3 2.75C3 1.784 3.784 1 4.75 1h6.5c.966 0 1.75.784 1.75 1.75v11.5a.75.75 0 0 1-1.227.579L8 11.722l-3.773 3.107A.751.751 0 0 1 3 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.91l3.023-2.489a.75.75 0 0 1 .954 0l3.023 2.49V2.75a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="plus-circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus-circle">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm7.25-3.25v2.5h2.5a.75.75 0 0 1 0 1.5h-2.5v2.5a.75.75 0 0 1-1.5 0v-2.5h-2.5a.75.75 0 0 1 0-1.5h2.5v-2.5a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="circle-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
</template>

<template id="trash-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-trash">
    <path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path>
</svg>
</template>

<template id="team-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
</template>

<template id="project-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-project">
    <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"></path>
</svg>
</template>

<template id="pencil-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
</template>

<template id="copilot-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot">
    <path d="M7.998 15.035c-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.201-.508-.254-1.084-.254-1.656 0-.87.128-1.769.693-2.484.579-.733 1.494-1.124 2.724-1.261 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095v1.872c0 .766-3.351 3.795-8.002 3.795Zm0-1.485c2.28 0 4.584-1.11 5.002-1.433V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-1.146 0-2.059-.327-2.71-.991A3.222 3.222 0 0 1 8 6.303a3.24 3.24 0 0 1-.544.743c-.65.664-1.563.991-2.71.991-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433ZM6.762 2.83c-.193-.206-.637-.413-1.682-.297-1.019.113-1.479.404-1.713.7-.247.312-.369.789-.369 1.554 0 .793.129 1.171.308 1.371.162.181.519.379 1.442.379.853 0 1.339-.235 1.638-.54.315-.322.527-.827.617-1.553.117-.935-.037-1.395-.241-1.614Zm4.155-.297c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Z"></path><path d="M6.25 9.037a.75.75 0 0 1 .75.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 .75-.75Zm4.25.75v1.501a.75.75 0 0 1-1.5 0V9.787a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</template>

<template id="copilot-error-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copilot-error">
    <path d="M16 11.24c0 .112-.072.274-.21.467L13 9.688V7.862l-.023-.116c-.49.21-1.075.291-1.727.291-.198 0-.388-.009-.571-.029L6.833 5.226a4.01 4.01 0 0 0 .17-.782c.117-.935-.037-1.395-.241-1.614-.193-.206-.637-.413-1.682-.297-.683.076-1.115.231-1.395.415l-1.257-.91c.579-.564 1.413-.877 2.485-.996 1.206-.134 2.262.034 2.944.765.05.053.096.108.139.165.044-.057.094-.112.143-.165.682-.731 1.738-.899 2.944-.765 1.23.137 2.145.528 2.724 1.261.566.715.693 1.614.693 2.484 0 .572-.053 1.148-.254 1.656.066.228.098.429.126.612.012.076.024.148.037.218.924.385 1.522 1.471 1.591 2.095Zm-5.083-8.707c-1.044-.116-1.488.091-1.681.297-.204.219-.359.679-.242 1.614.091.726.303 1.231.618 1.553.299.305.784.54 1.638.54.922 0 1.28-.198 1.442-.379.179-.2.308-.578.308-1.371 0-.765-.123-1.242-.37-1.554-.233-.296-.693-.587-1.713-.7Zm2.511 11.074c-1.393.776-3.272 1.428-5.43 1.428-4.562 0-7.873-2.914-7.998-3.749V9.338c.085-.628.677-1.686 1.588-2.065.013-.07.024-.143.036-.218.029-.183.06-.384.126-.612-.18-.455-.241-.963-.252-1.475L.31 4.107A.747.747 0 0 1 0 3.509V3.49a.748.748 0 0 1 .625-.73c.156-.026.306.047.435.139l14.667 10.578a.592.592 0 0 1 .227.264.752.752 0 0 1 .046.249v.022a.75.75 0 0 1-1.19.596Zm-1.367-.991L5.635 7.964a5.128 5.128 0 0 1-.889.073c-.652 0-1.236-.081-1.727-.291l-.023.116v4.255c.419.323 2.722 1.433 5.002 1.433 1.539 0 3.089-.505 4.063-.934Z"></path>
</svg>
</template>

<template id="workflow-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-workflow">
    <path d="M0 1.75C0 .784.784 0 1.75 0h3.5C6.216 0 7 .784 7 1.75v3.5A1.75 1.75 0 0 1 5.25 7H4v4a1 1 0 0 0 1 1h4v-1.25C9 9.784 9.784 9 10.75 9h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0 1 14.25 16h-3.5A1.75 1.75 0 0 1 9 14.25v-.75H5A2.5 2.5 0 0 1 2.5 11V7h-.75A1.75 1.75 0 0 1 0 5.25Zm1.75-.25a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Zm9 9a.25.25 0 0 0-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25v-3.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="book-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
</template>

<template id="code-review-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-review">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 13H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25v-8.5C0 1.784.784 1 1.75 1ZM1.5 2.75v8.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm5.28 1.72a.75.75 0 0 1 0 1.06L5.31 7l1.47 1.47a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018l-2-2a.75.75 0 0 1 0-1.06l2-2a.75.75 0 0 1 1.06 0Zm2.44 0a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L10.69 7 9.22 5.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</template>

<template id="codespaces-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
</template>

<template id="comment-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment">
    <path d="M1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 13.25 12H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 13.543V12H2.75A1.75 1.75 0 0 1 1 10.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
</template>

<template id="comment-discussion-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</template>

<template id="organization-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-organization">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="rocket-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-rocket">
    <path d="M14.064 0h.186C15.216 0 16 .784 16 1.75v.186a8.752 8.752 0 0 1-2.564 6.186l-.458.459c-.314.314-.641.616-.979.904v3.207c0 .608-.315 1.172-.833 1.49l-2.774 1.707a.749.749 0 0 1-1.11-.418l-.954-3.102a1.214 1.214 0 0 1-.145-.125L3.754 9.816a1.218 1.218 0 0 1-.124-.145L.528 8.717a.749.749 0 0 1-.418-1.11l1.71-2.774A1.748 1.748 0 0 1 3.31 4h3.204c.288-.338.59-.665.904-.979l.459-.458A8.749 8.749 0 0 1 14.064 0ZM8.938 3.623h-.002l-.458.458c-.76.76-1.437 1.598-2.02 2.5l-1.5 2.317 2.143 2.143 2.317-1.5c.902-.583 1.74-1.26 2.499-2.02l.459-.458a7.25 7.25 0 0 0 2.123-5.127V1.75a.25.25 0 0 0-.25-.25h-.186a7.249 7.249 0 0 0-5.125 2.123ZM3.56 14.56c-.732.732-2.334 1.045-3.005 1.148a.234.234 0 0 1-.201-.064.234.234 0 0 1-.064-.201c.103-.671.416-2.273 1.15-3.003a1.502 1.502 0 1 1 2.12 2.12Zm6.94-3.935c-.088.06-.177.118-.266.175l-2.35 1.521.548 1.783 1.949-1.2a.25.25 0 0 0 .119-.213ZM3.678 8.116 5.2 5.766c.058-.09.117-.178.176-.266H3.309a.25.25 0 0 0-.213.119l-1.2 1.95ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
</template>

<template id="shield-check-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield-check">
    <path d="m8.533.133 5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667l5.25-1.68a1.748 1.748 0 0 1 1.066 0Zm-.61 1.429.001.001-5.25 1.68a.251.251 0 0 0-.174.237V7c0 1.36.275 2.666 1.057 3.859.784 1.194 2.121 2.342 4.366 3.298a.196.196 0 0 0 .154 0c2.245-.957 3.582-2.103 4.366-3.297C13.225 9.666 13.5 8.358 13.5 7V3.48a.25.25 0 0 0-.174-.238l-5.25-1.68a.25.25 0 0 0-.153 0ZM11.28 6.28l-3.5 3.5a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.97-2.97a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="heart-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heart">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
</svg>
</template>

<template id="server-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-server">
    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v4c0 .372-.116.717-.314 1 .198.283.314.628.314 1v4a1.75 1.75 0 0 1-1.75 1.75H1.75A1.75 1.75 0 0 1 0 12.75v-4c0-.358.109-.707.314-1a1.739 1.739 0 0 1-.314-1v-4C0 1.784.784 1 1.75 1ZM1.5 2.75v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Zm.25 5.75a.25.25 0 0 0-.25.25v4c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-4a.25.25 0 0 0-.25-.25ZM7 4.75A.75.75 0 0 1 7.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 7 4.75ZM7.75 10h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM3 4.75A.75.75 0 0 1 3.75 4h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 4.75ZM3.75 10h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</template>

<template id="globe-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-globe">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"></path>
</svg>
</template>

<template id="issue-opened-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</template>

<template id="device-mobile-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-mobile">
    <path d="M3.75 0h8.5C13.216 0 14 .784 14 1.75v12.5A1.75 1.75 0 0 1 12.25 16h-8.5A1.75 1.75 0 0 1 2 14.25V1.75C2 .784 2.784 0 3.75 0ZM3.5 1.75v12.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM8 13a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</template>

<template id="package-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-package">
    <path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"></path>
</svg>
</template>

<template id="credit-card-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-credit-card">
    <path d="M10.75 9a.75.75 0 0 0 0 1.5h1.5a.75.75 0 0 0 0-1.5h-1.5Z"></path><path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25ZM14.5 6.5h-13v5.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Zm0-2.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25V5h13Z"></path>
</svg>
</template>

<template id="play-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
</template>

<template id="gift-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
</template>

<template id="code-square-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</template>

<template id="device-desktop-icon">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-desktop">
    <path d="M14.25 1c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.752.752 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5C0 1.784.784 1 1.75 1ZM1.75 2.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25ZM9.018 12H6.982a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5Z"></path>
</svg>
</template>

        <div class="position-relative">
                <ul
                  role="listbox"
                  class="ActionListWrap QueryBuilder-ListWrap"
                  aria-label="Suggestions"
                  data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  "
                  data-target="query-builder.resultsList"
                  data-persist-list=false
                  id="query-builder-test-results"
                  tabindex="-1"
                ></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-cd593b77-e83e-4e9a-9c1c-68f6c7ec9307" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only"></div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">Search syntax tips</a>            <div class="d-flex flex-1"></div>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="code-search-feedback-form" data-turbo="false" action="/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" data-csrf="true" name="authenticity_token" value="E9IHWGyMAW+KtF9OqZ0YyP8oPvIp3baF7ptns8T7y3vBls334piXir7y3VKlpRGdDoxlckkP38EB4971eio7Fw==" />
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--disableScroll">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --></option></form><form id="custom-scopes-dialog-form" data-turbo="false" action="/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" data-csrf="true" name="authenticity_token" value="f37QEgSrcX6l3Kl0+59mABAtcMDrN1TFRlXa4xezEsrP/7MjYybeDQfCucdAMSd21NmzfZMbe+v75eQQnZKVlg==" />
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required>
              <input
                type="text"
                name="custom_scope_name"
                id="custom_scope_name"
                data-target="custom-scopes.customScopesNameField"
                class="form-control"
                autocomplete="off"
                placeholder="github-ruby"
                required
                maxlength="50">
              <input type="hidden" data-csrf="true" value="lh6evoZOJ6DNGpc/WIINJy0bpSehzYANGF+lmBqUgQNz5p/DiWAFXTD/fu5iDk+8Scdn7NGW4IN1oo2okzcGoA==" />
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input
              type="text"
              name="custom_scope_query"
              id="custom_scope_query"
              data-target="custom-scopes.customScopesQueryField"
              class="form-control"
              autocomplete="off"
              placeholder="(repo:mona/a OR repo:mona/b) AND lang:python"
              required
              maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>


            <div class="position-relative HeaderMenu-link-wrap d-lg-inline-block">
              <a
                href="/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"
                class="HeaderMenu-link HeaderMenu-link--sign-in HeaderMenu-button flex-shrink-0 no-underline d-none d-lg-inline-flex border border-lg-0 rounded px-2 py-1"
                style="margin-left: 12px;"
                data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7befb3be1b67b4552a0f3f9e2d77d37e8881431208a6353595d6009558f098ee"
                data-analytics-event="{&quot;category&quot;:&quot;Marketing nav&quot;,&quot;action&quot;:&quot;click to go to homepage&quot;,&quot;label&quot;:&quot;ref_page:Marketing;ref_cta:Sign in;ref_loc:Header&quot;}"
              >
                Sign in
              </a>
            </div>

              <a href="/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=jet%2Fequinox"
                class="HeaderMenu-link HeaderMenu-link--sign-up HeaderMenu-button flex-shrink-0 d-flex d-lg-inline-flex no-underline border color-border-default rounded px-2 py-1"
                data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7befb3be1b67b4552a0f3f9e2d77d37e8881431208a6353595d6009558f098ee"
                data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;;ref_cta:Sign up;ref_loc:header logged out&quot;}"
              >
                Sign up
              </a>

                <div class="AppHeader-appearanceSettings">
    <react-partial-anchor>
      <button data-target="react-partial-anchor.anchor" id="icon-button-4f1da7ca-1127-4b06-9a20-54fc3c6a1da9" aria-labelledby="tooltip-8d986612-4aaf-4fe3-9740-b48da94eecc3" type="button" disabled="disabled" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium AppHeader-button HeaderMenu-link border cursor-wait">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sliders Button-visual">
    <path d="M15 2.75a.75.75 0 0 1-.75.75h-4a.75.75 0 0 1 0-1.5h4a.75.75 0 0 1 .75.75Zm-8.5.75v1.25a.75.75 0 0 0 1.5 0v-4a.75.75 0 0 0-1.5 0V2H1.75a.75.75 0 0 0 0 1.5H6.5Zm1.25 5.25a.75.75 0 0 0 0-1.5h-6a.75.75 0 0 0 0 1.5h6ZM15 8a.75.75 0 0 1-.75.75H11.5V10a.75.75 0 1 1-1.5 0V6a.75.75 0 0 1 1.5 0v1.25h2.75A.75.75 0 0 1 15 8Zm-9 5.25v-2a.75.75 0 0 0-1.5 0v1.25H1.75a.75.75 0 0 0 0 1.5H4.5v1.25a.75.75 0 0 0 1.5 0v-2Zm9 0a.75.75 0 0 1-.75.75h-6a.75.75 0 0 1 0-1.5h6a.75.75 0 0 1 .75.75Z"></path>
</svg>
</button><tool-tip id="tooltip-8d986612-4aaf-4fe3-9740-b48da94eecc3" for="icon-button-4f1da7ca-1127-4b06-9a20-54fc3c6a1da9" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Appearance settings</tool-tip>

      <template data-target="react-partial-anchor.template">
        <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/appearance-settings.6c63a6de228d6520804d.module.css" />

<react-partial
  partial-name="appearance-settings"
  data-ssr="false"
  data-attempted-ssr="false"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>


      </template>
    </react-partial-anchor>
  </div>

          <button type="button" class="sr-only js-header-menu-focus-trap d-block d-lg-none">Resetting focus</button>
        </div>
      </div>
    </div>
  </div>
</header>

      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-942776e6-4634-4a90-9488-64875107304c" aria-labelledby="tooltip-43a020fd-0526-4877-bb85-d789d20a0a9f" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-43a020fd-0526-4877-bb85-d789d20a0a9f" for="icon-button-942776e6-4634-4a90-9488-64875107304c" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>


  
</div>
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container" >
      
  





    
    

    






  
  <div id="repository-container-header"  class="pt-3 hide-full-screen" style="background-color: var(--page-header-bgColor, var(--color-page-header-bg));" data-turbo-replace>

      <div class="d-flex flex-nowrap flex-justify-end mb-3  px-3 px-lg-5" style="gap: 1rem;">

        <div class="flex-auto min-width-0 width-fit">
            
  <div class=" d-flex flex-wrap flex-items-center wb-break-word f3 text-normal">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo color-fg-muted mr-2">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>
    
    <span class="author flex-self-stretch" itemprop="author">
      <a class="url fn" rel="author" data-hovercard-type="organization" data-hovercard-url="/orgs/jet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/jet">
        jet
</a>    </span>
    <span class="mx-1 flex-self-stretch color-fg-muted">/</span>
    <strong itemprop="name" class="mr-2 flex-self-stretch">
      <a data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jet/equinox">equinox</a>
    </strong>

    <span></span><span class="Label Label--secondary v-align-middle mr-1">Public</span>
  </div>


        </div>

        <div id="repository-details-container" class="flex-shrink-0" data-turbo-replace style="max-width: 70%;">
            <ul class="pagehead-actions flex-shrink-0 d-none d-md-inline" style="padding: 2px 0;">
    
      

  <li>
            <a href="/login?return_to=%2Fjet%2Fequinox" rel="nofollow" id="repository-details-watch-button" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7e18836a81111a2f8a5e44149dce24ffc3c8ab4ffdb920671df317ac0a9e83e6" aria-label="You must be signed in to change notification settings" data-view-component="true" class="btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell mr-2">
    <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path>
</svg>Notifications
</a>    <tool-tip id="tooltip-3f453664-97dc-4c5b-8132-29c09926cd1f" for="repository-details-watch-button" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to change notification settings</tool-tip>

  </li>

  <li>
          <a icon="repo-forked" id="fork-button" href="/login?return_to=%2Fjet%2Fequinox" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;repo details fork button&quot;,&quot;repository_id&quot;:101387536,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="a2c8f9ea4dde0a405fc4a258973bca8bcc25be779d4b3ac3c9072b33ea8510ef" data-view-component="true" class="btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>Fork
    <span id="repo-network-counter" data-pjax-replace="true" data-turbo-replace="true" title="70" data-view-component="true" class="Counter">70</span>
</a>
  </li>

  <li>
        <div data-view-component="true" class="BtnGroup d-flex">
        <a href="/login?return_to=%2Fjet%2Fequinox" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:101387536,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="9919a31c3979a6098eba0b5b6e08f21ea04a0d98b08baebbdff6f6748b2c5ccc" aria-label="You must be signed in to star a repository" data-view-component="true" class="tooltipped tooltipped-sw btn-sm btn">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star v-align-text-bottom d-inline-block mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg><span data-view-component="true" class="d-inline">
          Star
</span>          <span id="repo-stars-counter-star" aria-label="489 users starred this repository" data-singular-suffix="user starred this repository" data-plural-suffix="users starred this repository" data-turbo-replace="true" title="489" data-view-component="true" class="Counter js-social-count">489</span>
</a></div>
  </li>

</ul>

        </div>
      </div>

        <div id="responsive-meta-container" data-turbo-replace>
      <div class="d-block d-md-none mb-2 px-3 px-md-4 px-lg-5">
      <p class="f4 mb-3 ">
        .NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see <a href="https://github.com/jet/propulsion" class="Link--inTextBlock">https://github.com/jet/propulsion</a> for cross-stream projections/subscriptions/reactions
      </p>
      <div class="mb-2 d-flex flex-items-center Link--secondary">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link flex-shrink-0 mr-2">
    <path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path>
</svg>
        <span class="flex-auto min-width-0 css-truncate css-truncate-target width-fit">
          <a title="https://github.com/jet/dotnet-templates" role="link" target="_blank" class="text-bold" rel="noopener noreferrer" href="https://github.com/jet/dotnet-templates">github.com/jet/dotnet-templates</a>
        </span>
      </div>

    
      <h3 class="sr-only">License</h3>
  <div class="mb-2">
    <a href="/jet/equinox/blob/master/LICENSE"
      class="Link--muted"
      
      data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}"
    >
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-1 mr-sm-1 mr-md-2 mr-lg-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
     Apache-2.0 license
    </a>
  </div>


    <div class="mb-3">
        <a class="Link--secondary no-underline mr-3" href="/jet/equinox/stargazers">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star mr-1">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
          <span class="text-bold">489</span>
          stars
</a>        <a class="Link--secondary no-underline mr-3" href="/jet/equinox/forks">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-1">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
          <span class="text-bold">70</span>
          forks
</a>        <a class="Link--secondary no-underline mr-3 d-inline-block" href="/jet/equinox/branches">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-branch mr-1">
    <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
</svg>
          <span>Branches</span>
</a>        <a class="Link--secondary no-underline d-inline-block" href="/jet/equinox/tags">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag mr-1">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
          <span>Tags</span>
</a>        <a class="Link--secondary no-underline d-inline-block" href="/jet/equinox/activity">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pulse mr-1">
    <path d="M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z"></path>
</svg>
          <span>Activity</span>
</a>    </div>

      <div class="d-flex flex-wrap gap-2">
        <div class="flex-1">
            <div data-view-component="true" class="BtnGroup d-flex">
        <a href="/login?return_to=%2Fjet%2Fequinox" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;star button&quot;,&quot;repository_id&quot;:101387536,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="9919a31c3979a6098eba0b5b6e08f21ea04a0d98b08baebbdff6f6748b2c5ccc" aria-label="You must be signed in to star a repository" data-view-component="true" class="tooltipped tooltipped-sw btn-sm btn btn-block">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star v-align-text-bottom d-inline-block mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg><span data-view-component="true" class="d-inline">
          Star
</span>
</a></div>
        </div>
        <div class="flex-1">
                <a href="/login?return_to=%2Fjet%2Fequinox" rel="nofollow" id="files-overview-watch-button" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;notification subscription menu watch&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/jet/equinox&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="7e18836a81111a2f8a5e44149dce24ffc3c8ab4ffdb920671df317ac0a9e83e6" aria-label="You must be signed in to change notification settings" data-view-component="true" class="btn-sm btn btn-block">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell mr-2">
    <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path>
</svg>Notifications
</a>    <tool-tip id="tooltip-3a0b6483-44fd-4711-a7cc-adb3368ea987" for="files-overview-watch-button" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to change notification settings</tool-tip>

        </div>
        <span>
          

        </span>
      </div>
  </div>

</div>


          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav px-3 px-md-4 px-lg-5">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="/jet/equinox" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /jet/equinox" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" aria-current="page" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="/jet/equinox/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /jet/equinox/issues" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="9" data-view-component="true" class="Counter">9</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="/jet/equinox/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /jet/equinox/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="10" data-view-component="true" class="Counter">10</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="discussions-tab" href="/jet/equinox/discussions" data-tab-item="i3discussions-tab" data-selected-links="repo_discussions /jet/equinox/discussions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g g" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Discussions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        <span data-content="Discussions">Discussions</span>
          <span id="discussions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="/jet/equinox/actions" data-tab-item="i4actions-tab" data-selected-links="repo_actions /jet/equinox/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="/jet/equinox/security" data-tab-item="i5security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /jet/equinox/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span data-content="Security">Security</span>
          <include-fragment src="/jet/equinox/security/overall-count" accept="text/fragment+html" data-nonce="v2:d8b972e4-9933-bd08-a289-908efd99a4db" data-view-component="true">
  
  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="/jet/equinox/pulse" data-tab-item="i6insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /jet/equinox/pulse" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <action-menu data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-button" popovertarget="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-overlay" aria-controls="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-list" aria-haspopup="true" aria-labelledby="tooltip-9d5dbe39-1fff-49e0-b082-32d6fc339095" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-9d5dbe39-1fff-49e0-b082-32d6fc339095" for="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Additional navigation options</tool-tip>


<anchored-position data-target="action-menu.overlay" id="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-overlay" anchor="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-button" id="action-menu-b1a8fd3a-67c9-460f-a018-b21b4bb2cd87-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="hidden" data-menu-item="i0code-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-3b10e62d-570c-4d14-9108-51a3437e4b95" href="/jet/equinox" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i1issues-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-eab7951c-25e3-446f-ae89-9b3f8fcf4839" href="/jet/equinox/issues" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i2pull-requests-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-1fcdfc90-128a-41bd-a764-950c70fc8e42" href="/jet/equinox/pulls" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i3discussions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-23a6293f-a660-4826-b2b8-5ef6e4c34e24" href="/jet/equinox/discussions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Discussions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i4actions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-dec7a46f-21dc-45d5-8b5e-961c3c36d8f2" href="/jet/equinox/actions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Actions
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i5security-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-ef49f5d1-4805-4526-a6a6-5a708a13664e" href="/jet/equinox/security" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Security
</span>      
</a>
  
</li>
        <li hidden="hidden" data-menu-item="i6insights-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-a7f1ed9c-95d3-465f-8a87-39c1c5110bbe" href="/jet/equinox/pulse" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Insights
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></div>
</nav>

  </div>

  



<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
    <div id="repo-content-pjax-container" class="repository-content " >
    



    
      
  <h1 class='sr-only'>jet/equinox</h1>
  <div class="clearfix container-xl px-md-4 px-lg-5 px-3">
    <div>

  <div style="max-width: 100%" data-view-component="true" class="Layout Layout--flowRow-until-md react-repos-overview-margin Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end">
  <div data-view-component="true" class="Layout-main">      <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.5e7f07b3b8c1e951002c.module.css" />
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/app_assets_modules_react-partials_repos-overview_components_OverviewContent_module_css-app_as-2f8a17.0268c3a576b1dbc77d72.module.css" />

<react-partial
  partial-name="repos-overview"
  data-ssr="true"
  data-attempted-ssr="true"
  data-react-profiling="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"initialPayload":{"allShortcutsEnabled":false,"path":"/","repo":{"id":101387536,"defaultBranch":"master","name":"equinox","ownerLogin":"jet","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2017-08-25T09:15:13.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/2504855?v=4","public":true,"private":false,"isOrgOwned":true},"currentUser":null,"refInfo":{"name":"master","listCacheKey":"v0:1758713254.0","canEdit":false,"refType":"branch","currentOid":"4095493936cfb41bcc82cd960988d39de77a1f3a"},"tree":{"items":[{"name":"diagrams","path":"diagrams","contentType":"directory"},{"name":"samples","path":"samples","contentType":"directory"},{"name":"src","path":"src","contentType":"directory"},{"name":"tests","path":"tests","contentType":"directory"},{"name":"tools","path":"tools","contentType":"directory"},{"name":".editorconfig","path":".editorconfig","contentType":"file"},{"name":".gitattributes","path":".gitattributes","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":".gitpod.yml","path":".gitpod.yml","contentType":"file"},{"name":"CHANGELOG.md","path":"CHANGELOG.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"DOCUMENTATION.md","path":"DOCUMENTATION.md","contentType":"file"},{"name":"Directory.Build.props","path":"Directory.Build.props","contentType":"file"},{"name":"Directory.Build.targets","path":"Directory.Build.targets","contentType":"file"},{"name":"Equinox.sln","path":"Equinox.sln","contentType":"file"},{"name":"Equinox.sln.DotSettings","path":"Equinox.sln.DotSettings","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"SECURITY.md","path":"SECURITY.md","contentType":"file"},{"name":"azure-pipelines.yml","path":"azure-pipelines.yml","contentType":"file"},{"name":"build.proj","path":"build.proj","contentType":"file"},{"name":"build.ps1","path":"build.ps1","contentType":"file"},{"name":"docker-compose-cosmos.sh","path":"docker-compose-cosmos.sh","contentType":"file"},{"name":"docker-compose.env","path":"docker-compose.env","contentType":"file"},{"name":"docker-compose.yml","path":"docker-compose.yml","contentType":"file"},{"name":"global.json","path":"global.json","contentType":"file"},{"name":"nuget.config","path":"nuget.config","contentType":"file"}],"templateDirectorySuggestionUrl":null,"readme":null,"totalCount":27,"showBranchInfobar":false},"fileTree":null,"fileTreeProcessingTime":null,"foldersToFetch":[],"treeExpanded":false,"symbolsExpanded":false,"copilotSWEAgentEnabled":false,"isOverview":true,"overview":{"banners":{"shouldRecommendReadme":false,"isPersonalRepo":false,"showUseActionBanner":false,"actionSlug":null,"actionId":null,"showProtectBranchBanner":false,"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_repo","releasePath":"/jet/equinox/releases/new?marketplace=true","showPublishActionBanner":false},"interactionLimitBanner":null,"showInvitationBanner":false,"inviterName":null,"actionsMigrationBannerInfo":{"releaseTags":[],"showImmutableActionsMigrationBanner":false,"initialMigrationStatus":null},"showDeployBanner":false,"detectedStack":{"framework":null,"packageManager":null}},"codeButton":{"contactPath":"/contact","isEnterprise":false,"local":{"protocolInfo":{"httpAvailable":true,"sshAvailable":null,"httpUrl":"https://github.com/jet/equinox.git","showCloneWarning":null,"sshUrl":null,"sshCertificatesRequired":null,"sshCertificatesAvailable":null,"ghCliUrl":"gh repo clone jet/equinox","defaultProtocol":"http","newSshKeyUrl":"/settings/ssh/new","setProtocolPath":"/users/set_protocol"},"platformInfo":{"cloneUrl":"https://desktop.github.com","showVisualStudioCloneButton":false,"visualStudioCloneUrl":"https://windows.github.com","showXcodeCloneButton":false,"xcodeCloneUrl":"xcode://clone?repo=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox","zipballUrl":"/jet/equinox/archive/refs/heads/master.zip"}},"newCodespacePath":"/codespaces/new?hide_repo_select=true\u0026repo=101387536"},"popovers":{"rename":null,"renamedParentRepo":null},"commitCount":"819","overviewFiles":[{"displayName":"README.md","repoName":"equinox","refName":"master","path":"README.md","preferredFileType":"readme","tabName":"README","richText":"\u003carticle class=\"markdown-body entry-content container-lg\" itemprop=\"text\"\u003e\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eEquinox \u003ca href=\"https://dev.azure.com/jet-opensource/opensource/_build/latest?definitionId=4?branchName=master\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/d0a12ecf2c7e146e320907dc2dd357dde2da759c89d2f780809953d9b7cf8c7e/68747470733a2f2f6465762e617a7572652e636f6d2f6a65742d6f70656e736f757263652f6f70656e736f757263652f5f617069732f6275696c642f7374617475732f6a65742e657175696e6f783f6272616e63684e616d653d6d6173746572\" alt=\"Build Status\" data-canonical-src=\"https://dev.azure.com/jet-opensource/opensource/_apis/build/status/jet.equinox?branchName=master\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca href=\"https://github.com/jet/equinox/releases\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/62b61e8bc1aca181995c3c9d53d0afbfc55e24fae5b064b71b64a0746724c49c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6a65742f657175696e6f782e737667\" alt=\"release\" data-canonical-src=\"https://img.shields.io/github/release/jet/equinox.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/cb588cb04c1ae5feff6bf8f57ed302badfc6c90d3a34a85f13509cb1a20fe8bf/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f767072652f657175696e6f78\" alt=\"NuGet\" data-canonical-src=\"https://img.shields.io/nuget/vpre/equinox\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca href=\"/jet/equinox/blob/master/LICENSE\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/5491f014394e4ab97cd27aa6747db0c023a79b7d3194faaca350af2a89c894cb/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6a65742f457175696e6f782e737667\" alt=\"license\" data-canonical-src=\"https://img.shields.io/github/license/jet/Equinox.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/915216567226b6478adb516f236bda2cf2fabb609b1c73bcf1f750a6b07e4d2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c616e6775616765732f636f64652d73697a652f6a65742f657175696e6f782e737667\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/915216567226b6478adb516f236bda2cf2fabb609b1c73bcf1f750a6b07e4d2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c616e6775616765732f636f64652d73697a652f6a65742f657175696e6f782e737667\" alt=\"code size\" data-canonical-src=\"https://img.shields.io/github/languages/code-size/jet/equinox.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/95c1b51267fe1bbe0f4939085942b4ecf251d50bdf05cd8aa2cce1c0372a6d63/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f444f43554d454e544154494f4e2d5749502d696d706f7274616e742e7376673f7374796c653d706f706f7574\" alt=\"docs status\" data-canonical-src=\"https://img.shields.io/badge/DOCUMENTATION-WIP-important.svg?style=popout\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e \u003ca href=\"https://discord.gg/sEZGSHNNbH\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/5f623f4e7902977130b95bb0e4b62db37437e31300d05dc639574ee7a7b931e9/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3531343738333839393434303737353136383f636f6c6f723d626c7565266c6162656c3d43686174253230696e253230657175696e6f782532306f6e2532304444442d435152532d4553253230446973636f7264\" alt=\"Discord\" data-canonical-src=\"https://img.shields.io/discord/514783899440775168?color=blue\u0026amp;label=Chat%20in%20equinox%20on%20DDD-CQRS-ES%20Discord\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/h1\u003e\u003ca id=\"user-content-equinox-------\" class=\"anchor\" aria-label=\"Permalink: Equinox \" href=\"#equinox-------\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eEquinox is a set of low dependency libraries that allow for event-sourced processing against stream-based stores handling:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eSnapshots\u003c/li\u003e\n\u003cli\u003eCaching\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Optimistic_concurrency_control\" rel=\"nofollow\"\u003eOptimistic concurrency control\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eNot a framework\u003c/strong\u003e; \u003cem\u003eyou\u003c/em\u003e compose the libraries into an architecture that fits your apps' evolving needs.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIt does not and will not handle projections and subscriptions. See \u003ca href=\"https://github.com/jet/propulsion\"\u003ePropulsion\u003c/a\u003e for that.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTable of Contents\u003c/h1\u003e\u003ca id=\"user-content-table-of-contents\" class=\"anchor\" aria-label=\"Permalink: Table of Contents\" href=\"#table-of-contents\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#getting-started\"\u003eGetting Started\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#design-motivation\"\u003eDesign Motivation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#features\"\u003eFeatures\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#currently-supported-data-stores\"\u003eCurrently Supported Data Stores\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#components\"\u003eComponents\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#core-library\"\u003eCore library\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#serialization-support\"\u003eSerialization Support\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#data-store-libraries\"\u003eData Store Libraries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#projection-libraries\"\u003eProjection Libraries\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#tools\"\u003eTools\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#starter-project-templates-and-sample-applications\"\u003eStarter Project Templates and Sample Applications\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#overview\"\u003eOverview\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#templates\"\u003eTemplates\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#samples\"\u003eSamples\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#building\"\u003eBuilding\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#releasing\"\u003eReleasing\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#faq\"\u003eFAQ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#acknowledgements\"\u003eAcknowledgements\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#further-reading\"\u003eFurther Reading\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eGetting Started\u003c/h1\u003e\u003ca id=\"user-content-getting-started\" class=\"anchor\" aria-label=\"Permalink: Getting Started\" href=\"#getting-started\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eIf you want to start with code samples that run in F# interactive, \u003ca href=\"https://github.com/jet/equinox/blob/master/samples/Tutorial/Counter.fsx#L20\"\u003ethere's a simple \u003ccode\u003eCounter\u003c/code\u003e example using \u003ccode\u003eEquinox.MemoryStore\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eIf you are experienced with event sourcing, CosmosDB and F#, you might gain most from this \u003ca href=\"https://github.com/jet/equinox/blob/master/samples/Tutorial/Cosmos.fsx#L42\"\u003e100 LOC end-to-end example using CosmosDB\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eIf you are familiar with basic event sourcing mechanisms and want a meatier example of applying Equinox to a problem, \u003ca href=\"https://github.com/nordfjord\"\u003eEinar Norfjr\u003c/a\u003e's article, \u003ca href=\"https://nordfjord.io/2022/12/05/equinox.html\" rel=\"nofollow\"\u003eThe Equinox Programming model\u003c/a\u003e walks through a \u003ca href=\"https://github.com/nordfjord/minimal-equinox\"\u003ecomplete end-to-end sample\u003c/a\u003e covering the key design considerations.\u003c/li\u003e\n\u003cli\u003eIf you are experienced with CosmosDB and something like \u003ca href=\"https://github.com/Dzoukr/CosmoStore\"\u003eCosmoStore\u003c/a\u003e, but want to understand what sort of facilities Equinox adds on top of raw event management, see the \u003ca href=\"https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#access-strategies\"\u003eAccess Strategies guide\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDesign Motivation\u003c/h1\u003e\u003ca id=\"user-content-design-motivation\" class=\"anchor\" aria-label=\"Permalink: Design Motivation\" href=\"#design-motivation\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eEquinox's design is informed by discussions, talks and countless hours of hard and thoughtful work invested into many previous systems, \u003ca href=\"https://github.com/NEventStore\"\u003eframeworks\u003c/a\u003e, \u003ca href=\"https://github.com/thinkbeforecoding/FsUno.Prod\"\u003esamples\u003c/a\u003e, \u003ca href=\"https://github.com/bartelink/FunDomain\"\u003eforks of samples\u003c/a\u003e, the outstanding continuous work of the \u003ca href=\"https://github.com/eventstore\"\u003eEventStore\u003c/a\u003e founders and team and the wider \u003ca href=\"https://groups.google.com/forum/#!forum/dddcqrs\" rel=\"nofollow\"\u003eDDD-CQRS-ES\u003c/a\u003e community. It would be unfair to single out even a small number of people despite the immense credit that is due. Some aspects of the implementation are distilled from \u003ca href=\"http://gorodinski.com/blog/2013/02/17/domain-driven-design-with-fsharp-and-eventstore/\" rel=\"nofollow\"\u003e\u003ccode\u003eJet.com\u003c/code\u003e systems dating all the way back to 2013\u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAn event sourcing system usually needs to address the following concerns:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003eStoring events with good performance and debugging capabilities\u003c/li\u003e\n\u003cli\u003eTransaction processing\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eOptimistic concurrency (handle loading conflicting events and retrying if another transaction overlaps on the same stream)\u003c/li\u003e\n\u003cli\u003eFolding events into a State, updating as new events are added\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eDecoding events using codecs and formats\u003c/li\u003e\n\u003cli\u003eFramework and application integration\u003c/li\u003e\n\u003cli\u003eProjections and Reactions\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003eDesigning something that supports all of these as a single integrated solution results in an inflexible and difficult to use framework.\nThus, Equinox focuses on two central aspects of event sourcing: items 1 and 2 on the list above.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eOf course, the other concerns can't be ignored; thus, they are supported via other libraries that focus on them:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/jet/FsCodec\"\u003eFsCodec\u003c/a\u003e supports encoding and decoding (concern 3)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/jet/propulsion\"\u003ePropulsion\u003c/a\u003e supports projections and reactions (concern 5)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eIntegration with other frameworks (e.g., Equinox wiring into ASP.NET Core) is something that is intentionally avoided; as you build your application, the nature of how you integrate things will naturally evolve.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eWe believe the fact Equinox is a library is critical:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eIt gives you the ability to pick your preferred way of supporting your event sourcing system.\u003c/li\u003e\n\u003cli\u003eThere's less coupling to worry about as your application evolves over time.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eIf you're looking to learn more about and/or discuss Event Sourcing and it's myriad benefits, trade-offs and pitfalls as you apply it to your Domain, look no further than the thriving 4000+ member community on the \u003ca href=\"https://github.com/ddd-cqrs-es/community\"\u003eDDD-CQRS-ES Discord\u003c/a\u003e; you'll get patient and impartial world class advice 24x7 (there are \u003ca href=\"https://discord.com/channels/514783899440775168/1002635005429825657\" rel=\"nofollow\"\u003e#equinox\u003c/a\u003e, \u003ca href=\"https://discord.com/channels/514783899440775168/762672037113757746\" rel=\"nofollow\"\u003e#eventstore\u003c/a\u003e and \u003ca href=\"https://discord.com/channels/514783899440775168/762671996550774804\" rel=\"nofollow\"\u003e#sql-stream-store\u003c/a\u003e channels for questions or feedback).\u003c/em\u003e (\u003ca href=\"https://discord.gg/sEZGSHNNbH\" rel=\"nofollow\"\u003einvite link\u003c/a\u003e)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eFeatures\u003c/h1\u003e\u003ca id=\"user-content-features\" class=\"anchor\" aria-label=\"Permalink: Features\" href=\"#features\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eDesigned not to invade application code; your domain tests can be written directly against your models.\u003c/li\u003e\n\u003cli\u003eCore ideas and features of the library are extracted from ideas and lessons learned from existing production software.\u003c/li\u003e\n\u003cli\u003eTest coverage for it's core features. In addition there are baseline and specific tests for each supported storage system and a comprehensive test and benchmarking story\u003c/li\u003e\n\u003cli\u003ePluggable event serialization. All encoding is specified in terms of the \u003ca href=\"https://github.com/jet/FsCodec#IEventCodec\"\u003e\u003ccode\u003eFsCodec.IEventCodec\u003c/code\u003e contract\u003c/a\u003e. \u003ca href=\"https://github.com/jet/FsCodec\"\u003eFsCodec\u003c/a\u003e provides for pluggable encoding of events based on:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eNewtonsoftJson.Codec\u003c/code\u003e: a \u003ca href=\"https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores/\" rel=\"nofollow\"\u003eversionable convention-based approach\u003c/a\u003e (using \u003ccode\u003eTypeshape\u003c/code\u003e's \u003ccode\u003eUnionContractEncoder\u003c/code\u003e under the covers), providing for serializer-agnostic schema evolution with minimal boilerplate\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eSystemTextJson.Codec\u003c/code\u003e: a replacement to support Microsoft's default serializer - \u003ca href=\"https://docs.microsoft.com/en-us/dotnet/api/system.text.json?view=netcore-3.1\" rel=\"nofollow\"\u003eSystem.Text.Json\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eBox.Codec\u003c/code\u003e: lightweight \u003ca href=\"https://github.com/jet/FsCodec#boxcodec\"\u003enon-serializing substitute equivalent to \u003ccode\u003eNewtonsoftJson.Codec\u003c/code\u003e for use in unit and integration tests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCodec\u003c/code\u003e: an explicitly coded pair of \u003ccode\u003eencode\u003c/code\u003e and \u003ccode\u003etryDecode\u003c/code\u003e functions for when you need to customize\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eCaching using the .NET \u003ccode\u003eMemoryCache\u003c/code\u003e to:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eMinimize round trips; consistent implementation across stores  \u003ca href=\"https://github.com/jet/equinox/pull/161\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/161/hovercard\"\u003e@DSilence\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eMinimize latency and bandwidth / Request Charges by maintaining the folded state, without needing the Domain Model folded state to be serializable\u003c/li\u003e\n\u003cli\u003eEnable read through caching, coalescing concurrent reads via opt-in \u003ccode\u003eLoadOption.AllowStale\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMature and comprehensive logging (using \u003ca href=\"https://github.com/serilog/serilog\"\u003eSerilog\u003c/a\u003e internally), with optimal performance and pluggable integration with your apps hosting context (we ourselves typically feed log info to Splunk and the metrics embedded in the \u003ccode\u003eSerilog.Events.LogEvent\u003c/code\u003e Properties to Prometheus; see relevant tests for examples)\u003c/li\u003e\n\u003cli\u003eOpenTelemetry Integration (presently only implemented in \u003ccode\u003eEquinox.Core\u003c/code\u003e and \u003ccode\u003eEquinox.MessageDb\u003c/code\u003e ... \u003ccode\u003e#help-wanted\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eEquinox.EventStore\u003c/code\u003e, \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e: In-stream Rolling Snapshots\u003c/strong\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eNo additional round trips to the store needed at either the Load or Sync points in the flow\u003c/li\u003e\n\u003cli\u003eSupport for multiple co-existing compaction schemas for a given stream (A 'compaction' event/snapshot is an Event). This is done by the \u003ca href=\"https://github.com/jet/FsCodec#IEventCodec\"\u003e\u003ccode\u003eFsCodec.IEventCodec\u003c/code\u003e\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eCompaction events typically do not get deleted (consistent with how EventStoreDB works), although it is safe to do so in concept (there are no assumptions that the events must be contiguous and/or that the number of events implies a specific version etc)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eWhile snapshotting can deliver excellent performance especially when allied with the Cache, \u003ca href=\"https://eventstore.org/docs/event-sourcing-basics/rolling-snapshots/index.html\" rel=\"nofollow\"\u003eit's not a panacea, as noted in this EventStore article on the topic\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eEquinox.MessageDb\u003c/code\u003e: Adjacent Snapshots\u003c/strong\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eMaintains snapshot events in an adjacent, separated \u003ccode\u003e{Category}:snapshot-{StreamId}\u003c/code\u003e stream (in contrast to the EventStoreDb and SqlStreamStore \u003ccode\u003eRollingState\u003c/code\u003e strategy, which embeds the snapshots directly within the stream in question)\u003c/li\u003e\n\u003cli\u003eGenerating \u0026amp; storing the snapshot takes place subsequent to the normal appending of events, once every \u003ccode\u003ebatchSize\u003c/code\u003e events. This means the state of the stream can be reconstructed with exactly 2 round-trips to the database (caching can of course remove the snapshot reads on subsequent calls)\u003c/li\u003e\n\u003cli\u003eNote there's no logic in the system (or in message-db as a whole) to prune snapshots (although it's safe to remove them at any time, including for the 'current' one - a fresh one will get rewritten upon the next successful event append)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e 'Tip with Unfolds' schema\u003c/strong\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eIn contrast to \u003ccode\u003eEquinox.EventStore\u003c/code\u003e's \u003ccode\u003eAccessStrategy.RollingSnapshots\u003c/code\u003e, when using \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e, optimized command processing is managed via the \u003ccode\u003eTip\u003c/code\u003e - a document per stream with an identity enabling syncing the read/write position via a single \u003ca href=\"https://devblogs.microsoft.com/cosmosdb/point-reads-versus-queries\" rel=\"nofollow\"\u003epoint-read\u003c/a\u003e. The \u003ccode\u003eTip\u003c/code\u003e maintains the following:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eIt records the current write position for the stream which is used for \u003ca href=\"https://en.wikipedia.org/wiki/Optimistic_concurrency_control\" rel=\"nofollow\"\u003eoptimistic concurrency control\u003c/a\u003e - i.e. the index at which the next events will be appended for a given stream (events and the Tip share a common logical partition key)\u003c/li\u003e\n\u003cli\u003eIt maintains the current \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#Cosmos-Storage-Model\"\u003eunfolds\u003c/a\u003e / snapshot data which is \u003ccode\u003edeflate+base64\u003c/code\u003e compressed.\u003c/li\u003e\n\u003cli\u003eIt can maintain events in a buffer when the tip accumulation limit is reached. The limit is up to a specified count or \u003ccode\u003eJSON.stringify\u003c/code\u003e length. When the limit is met, events are shifted to a immutable \u003ccode\u003eBatch\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eHas the benefits of the in-stream Rolling Snapshots approach while reducing latency and RU provisioning requirements due to meticulously tuned Request Charge costs:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eWhen the stream is empty, the initial \u003ccode\u003eLoad\u003c/code\u003e operation involves a single point read that yields a \u003ccode\u003e404 NotFound\u003c/code\u003e response, costing 1.0 RU\u003c/li\u003e\n\u003cli\u003eWhen coupled with the cache, a typical read is a point read [with \u003ccode\u003eIfNoneMatch\u003c/code\u003e on an etag], costing 1.0 RU if in-date [to get the \u003ccode\u003e304 Not Modified\u003c/code\u003e response] (when the stream is empty, a \u003ccode\u003e404 NotFound\u003c/code\u003e response, also costing 1.0 RU)\u003c/li\u003e\n\u003cli\u003eWrites are a single invocation of the \u003ccode\u003eSync\u003c/code\u003e stored procedure which:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eDoes a point read\u003c/li\u003e\n\u003cli\u003ePerforms a concurrency check\u003c/li\u003e\n\u003cli\u003eUses that check to apply the write OR returns the conflicting events and unfolds\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eNo additional round trips to the store needed at either the \u003ccode\u003eLoad\u003c/code\u003e or \u003ccode\u003eSync\u003c/code\u003e points in the flow\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eIt should be noted that from a querying perspective, the \u003ccode\u003eTip\u003c/code\u003e shares the same structure as \u003ccode\u003eBatch\u003c/code\u003e documents (a potential future extension would be to carry some events in the \u003ccode\u003eTip\u003c/code\u003e as \u003ca href=\"https://github.com/jet/equinox/pull/58\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/58/hovercard\"\u003esome interim versions of the implementation once did\u003c/a\u003e, see also \u003ca href=\"https://github.com/jet/equinox/pull/109\" data-hovercard-type=\"issue\" data-hovercard-url=\"/jet/equinox/issues/109/hovercard\"\u003e#109\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e \u003ccode\u003eRollingState\u003c/code\u003e and \u003ccode\u003eCustom\u003c/code\u003e 'non-event-sourced' modes\u003c/strong\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eUses 'Tip with Unfolds' encoding to avoid having to write event documents at all. This option benefits from the caching and consistency management mechanisms because the cost of writing and storing infinitely increasing events are removed. Search for \u003ccode\u003etransmute\u003c/code\u003e or \u003ccode\u003eRollingState\u003c/code\u003e in the \u003ccode\u003esamples\u003c/code\u003e and/or see \u003ca href=\"https://github.com/jet/propulsion/blob/master/src/Propulsion.EventStore/Checkpoint.fs\"\u003ethe \u003ccode\u003eCheckpoint\u003c/code\u003e Aggregate in Propulsion\u003c/a\u003e. One chief use of this mechanism is for tracking Summary Event feeds in \u003ca href=\"https://github.com/jet/dotnet-templates/tree/master/propulsion-summary-consumer\"\u003ethe \u003ccode\u003edotnet-templates\u003c/code\u003e \u003ccode\u003esummaryConsumer\u003c/code\u003e template\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e\u003c/strong\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eMost features and behaviors are as per \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e, with the following key differences:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eInstead of using a Stored Procedure as \u003ccode\u003eCosmosStore\u003c/code\u003e does, the implementation involves:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003econditional \u003ccode\u003ePutItem\u003c/code\u003e and \u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html\" rel=\"nofollow\"\u003e\u003ccode\u003eUpdateItem\u003c/code\u003e\u003c/a\u003e requests to accumulate events in the Tip (where there is space available).\u003c/li\u003e\n\u003cli\u003eAll event writes are guaranteed to first be inserted or appended to the Tip (to guarantee the DynamoDB Streams output is correctly ordered)\n\u003ca href=\"https://github.com/jet/equinox/pull/401\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/401/hovercard\"\u003esee #401\u003c/a\u003e and \u003ca href=\"https://github.com/jet/propulsion/pull/222\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/propulsion/pull/222/hovercard\"\u003ePropulsion #222\u003c/a\u003e  \u003ca href=\"https://github.com/epNickColeman\"\u003e@epNickColeman\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eAt the point where the Tip exceeds any of the configured and/or implicit limits, a \u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TransactWriteItems.html\" rel=\"nofollow\"\u003e\u003ccode\u003eTransactWriteItems\u003c/code\u003e\u003c/a\u003e request is used (see \u003ca href=\"https://github.com/fsprojects/FSharp.AWS.DynamoDB/pull/48\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/fsprojects/FSharp.AWS.DynamoDB/pull/48/hovercard\"\u003eimplementation in \u003ccode\u003eFSharp.AWS.DynamoDB\u003c/code\u003e\u003c/a\u003e):\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003emaximum event count (not limited by default)\u003c/li\u003e\n\u003cli\u003emaximum accumulated event size (default 32KiB)\u003c/li\u003e\n\u003cli\u003eDynamoDB Item Size Limit (hard limit of 400KiB)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eDynamoDB does not support an etag-checked Read API, which means a cache hit is not as efficient as it is on CosmosDB (and the data hence travels and is deserialized unnecessarily)\u003c/li\u003e\n\u003cli\u003eConcurrency conflicts necessitate an additional roundtrip to resync \u003ca href=\"https://stackoverflow.com/questions/71622525\" rel=\"nofollow\"\u003eas the DynamoDB Service does not yield the item in the event of a \u003ccode\u003eConditionalCheckFailedException\u003c/code\u003e\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eNOTE: As of 30 June 2023, DDB now supports returning the conflicting events; TODO implement resync without an extra roundtrip via \u003ca class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"1787302777\" data-permission-text=\"Title is private\" data-url=\"https://github.com/fsprojects/FSharp.AWS.DynamoDB/issues/68\" data-hovercard-type=\"issue\" data-hovercard-url=\"/fsprojects/FSharp.AWS.DynamoDB/issues/68/hovercard\" href=\"https://github.com/fsprojects/FSharp.AWS.DynamoDB/issues/68\"\u003efsprojects/FSharp.AWS.DynamoDB#68\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.Cosmos.Core.Events.appendAtEnd\u003c/code\u003e/\u003ccode\u003eNonIdempotentAppend\u003c/code\u003e has not been ported (there's no obvious clean and efficient way to do a conditional insert/update/split as the CosmosDB stored proc can, and this is a low usage feature)\u003c/li\u003e\n\u003cli\u003eThe implementation uses \u003ca href=\"https://github.com/fsprojects/FSharp.AWS.DynamoDB\"\u003ethe excellent \u003ccode\u003eFSharp.AWS.DynamoDB\u003c/code\u003e library\u003c/a\u003e) (which wraps the standard AWS \u003ccode\u003eAWSSDK.DynamoDBv2\u003c/code\u003e SDK Package), and leans on \u003ca href=\"https://github.com/pierregoudjo/dynamodb_conditional_writes\"\u003esignificant preparatory research\u003c/a\u003e  \u003ca href=\"https://github.com/pierregoudjo\"\u003e@pierregoudjo\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCosmosStore\u003c/code\u003e dictates (as of V4) that event bodies be supplied as \u003ccode\u003eSystem.Text.Json.JsonElement\u003c/code\u003es (in order that events can be included in the Document/ Items as JSON directly. This is also to underscore the fact that the only reasonable format to use is valid JSON; binary data would need to be base64 encoded. \u003ccode\u003eDynamoStore\u003c/code\u003e accepts and yields event bodies as arbitrary \u003ccode\u003eReadOnlyMemory\u0026lt;byte\u0026gt;\u003c/code\u003e BLOBs (the AWS SDK round-trips such blobs as a \u003ccode\u003eMemoryStream\u003c/code\u003e and does not impose any restrictions on the blobs in terms of required format).\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCosmosStore\u003c/code\u003e defaults to compressing (with \u003ccode\u003eSystem.IO.Compression.DeflateStream\u003c/code\u003e) event bodies for Unfolds; \u003ccode\u003eDynamoStore\u003c/code\u003e round-trips an \u003ccode\u003eencoding: int\u003c/code\u003e value, which enables the \u003ccode\u003eIEventCodec\u003c/code\u003e to manage that concern. Regardless, minimizing Request Charges is imperative when request size directly maps to financial charges, 429s, reduced throughput and a lowered scaling ceiling.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAzure CosmosDB's ChangeFeed API intrinsically supports replays of all the events in a Store, whereas the DynamoDB Streams facility only retains 24h of actions. As a result, there are ancillary components that provide equivalent functionality composed of:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.DynamoStore.Lambda\u003c/code\u003e: an AWS Lambda that is configured via a DynamoDB Streams Trigger to Index the Events (represented as Equinox Streams, typically in a separated \u003ccode\u003e\u0026lt;tableName\u0026gt;-index\u003c/code\u003e Table) as they are appended\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.DynamoStore.DynamoStoreSource\u003c/code\u003e: consumes the Index Streams akin to how \u003ccode\u003ePropulsion.CosmosStore.CosmosStoreSource\u003c/code\u003e consumes the CosmosDB Change Feed\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCurrently Supported Data Stores\u003c/h1\u003e\u003ca id=\"user-content-currently-supported-data-stores\" class=\"anchor\" aria-label=\"Permalink: Currently Supported Data Stores\" href=\"#currently-supported-data-stores\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eMemoryStore\u003c/code\u003e: In-memory store (volatile, for unit or integration test purposes). Fulfils the full contract Equinox imposes on a store, but without I/O costs \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox.MemoryStore/MemoryStore.fs\"\u003e(it's ~100 LOC wrapping a \u003ccode\u003eConcurrentDictionary\u003c/code\u003e)\u003c/a\u003e. Also enables \u003ca href=\"https://github.com/jet/FsCodec#boxcodec\"\u003etake serialization/deserialization out of the picture\u003c/a\u003e in tests. See also \u003ca href=\"https://github.com/jet/dotnet-templates#eqxshipping\"\u003e\u003ccode\u003ePropulsion.MemoryStore\u003c/code\u003e Change Feed Simulator for integration testing of Reactors\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html\" rel=\"nofollow\"\u003eAmazon Dynamo DB\u003c/a\u003e: Shares most features with \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e (\u003ca href=\"https://github.com/jet/equinox/pull/321\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/321/hovercard\"\u003efrom which it was ported in #321\u003c/a\u003e). See above for detailed comparison.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://docs.microsoft.com/en-us/azure/cosmos-db\" rel=\"nofollow\"\u003eAzure Cosmos DB\u003c/a\u003e: contains some fragments of code dating back to 2016, however \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#Cosmos-Storage-Model\"\u003ethe storage model\u003c/a\u003e was arrived at based on intensive benchmarking (squash-merged in \u003ca href=\"https://github.com/jet/equinox/pull/42\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/42/hovercard\"\u003e#42\u003c/a\u003e). The V2, 3 and 4 release lines are being used in production systems. (The V3 release provides support for significantly more efficient packing of events (\u003ca href=\"https://github.com/jet/equinox/pull/251\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/251/hovercard\"\u003estoring events in the 'Tip'\u003c/a\u003e)).  \u003ca href=\"https://github.com/dongdongcai\"\u003e@dongdongcai\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://eventstore.org/\" rel=\"nofollow\"\u003eEventStoreDB\u003c/a\u003e: this codebase itself has been in production since 2017 (see commit history), with key elements dating back to approx 2016. Current versions require EventStoreDB Server editions \u003ccode\u003e21.10\u003c/code\u003e or later, and communicate over the modern gRPC interface.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"http://docs.eventide-project.org/user-guide/message-db\" rel=\"nofollow\"\u003eMessageDB\u003c/a\u003e: bindings for the \u003ccode\u003emessage-db\u003c/code\u003e Postgres event storage system. \u003ca href=\"http://docs.eventide-project.org/user-guide/message-db\" rel=\"nofollow\"\u003eSee \u003ccode\u003eMessageDB\u003c/code\u003e docs\u003c/a\u003e.  \u003ca href=\"https://github.com/nordfjord\"\u003e@nordfjord\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://github.com/SQLStreamStore/SQLStreamStore\"\u003eSqlStreamStore\u003c/a\u003e: bindings for the powerful and widely used (\u003cstrong\u003ebut presently unmaintained\u003c/strong\u003e) SQL-backed Event Storage system, derived from the EventStoreDB adapter. \u003ca href=\"https://sqlstreamstore.readthedocs.io/en/latest/#introduction\" rel=\"nofollow\"\u003eSee SqlStreamStore docs\u003c/a\u003e.  \u003ca href=\"https://github.com/rajivhost\"\u003e@rajivhost\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eNOTE: The underlying \u003ccode\u003eSqlStreamStore\u003c/code\u003e project is presently unmaintained; as such its hard to recommend using it for production scenarios\u003c/strong\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor SQL Server, the implementation works, people are believed to be using it to varying degrees and there are no obviously better replacements. However it should be pointed out that something as simple as fixing a bug in a SqlStreamStore.SqlServer library is not a paved path - there is no CI system for it, and nobody to call\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor MySql, it's pretty much the same as for SQL Server, with the proviso that it's likely that it's had (and has) significantly lower adoption and/or proper scrutiny.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor Postgres, \u003cem\u003e\u003ccode\u003eEquinox.MessageDb\u003c/code\u003e\u003c/em\u003e is a better choice as the underlying \u003ca href=\"http://docs.eventide-project.org/user-guide/message-db/\" rel=\"nofollow\"\u003eMessageDB\u003c/a\u003e project is actively maintained and has significantly better documentation than SqlStreamStore. The other thing to point out is that \u003ccode\u003eEquinox.SqlStreamStore.Postgres\u003c/code\u003e does not depend on the final version of \u003ccode\u003eSqlStreamStore.Postgres\u003c/code\u003e as there are no equivalent releases of the \u003ccode\u003e.Mysql\u003c/code\u003e and \u003ccode\u003e.SqlServer\u003c/code\u003e variants.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eComponents\u003c/h1\u003e\u003ca id=\"user-content-components\" class=\"anchor\" aria-label=\"Permalink: Components\" href=\"#components\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe components within this repository are delivered as multi-targeted Nuget packages supporting \u003ccode\u003enet6.0\u003c/code\u003e (F# \u0026gt;= 6) profiles; each of the constituent elements is designed to be easily swappable as dictated by the task at hand. Each of the components can be inlined or customized easily:-\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCore library\u003c/h2\u003e\u003ca id=\"user-content-core-library\" class=\"anchor\" aria-label=\"Permalink: Core library\" href=\"#core-library\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eEquinox\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/a318fc9537ab578b5680322ced23b9a820667be7f7739680a9e2d9bda47dbe24/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e737667\" alt=\"NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Store-agnostic decision flow runner that manages the optimistic concurrency protocol and application-level API surface, together with the default [\u003ccode\u003eSystem.Runtime.Caching.MemoryCache\u003c/code\u003e-based] \u003ccode\u003eCache\u003c/code\u003e implementation. (\u003ca href=\"https://www.fuget.org/packages/Equinox\" rel=\"nofollow\"\u003edepends\u003c/a\u003e only on \u003ccode\u003eFSharp.Core\u003c/code\u003e v \u003ccode\u003e6.0.7\u003c/code\u003e, \u003ccode\u003eFsCodec\u003c/code\u003e v \u003ccode\u003e3.0.0\u003c/code\u003e, \u003ccode\u003eSystem.Runtime.Caching\u003c/code\u003e, \u003ccode\u003eSerilog\u003c/code\u003e (but not specific Serilog sinks, i.e. you configure to emit to \u003ccode\u003eNLog\u003c/code\u003e etc)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSerialization support\u003c/h2\u003e\u003ca id=\"user-content-serialization-support\" class=\"anchor\" aria-label=\"Permalink: Serialization support\" href=\"#serialization-support\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eFsCodec\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/FsCodec/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/fdf23632b5549990feb4cbd845745047183f7c4dc7b582818a177250fd0e9311/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e737667\" alt=\"Codec NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/FsCodec.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Defines minimal \u003ccode\u003eIEventData\u003c/code\u003e, \u003ccode\u003eITimelineEvent\u003c/code\u003e and \u003ccode\u003eIEventCodec\u003c/code\u003e contracts, which are the sole aspects the Stores bind to. No dependencies.\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/jet/FsCodec/blob/master/src/FsCodec/FsCodec.fs#L31\"\u003e\u003ccode\u003eFsCodec.IEventCodec\u003c/code\u003e\u003c/a\u003e: defines a base interface for a serializer/deserializer.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eFsCodec.Codec\u003c/code\u003e: enables plugging in a serializer and/or Union Encoder of your choice (typically this is used to supply a pair of functions:- \u003ccode\u003eencode\u003c/code\u003e and \u003ccode\u003etryDecode\u003c/code\u003e)\n(\u003ca href=\"https://www.fuget.org/packages/FsCodec\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on nothing\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eFsCodec.NewtonsoftJson\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/FsCodec.NewtonsoftJson/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/c24e346f7277e6e514cfc4885d9847cc256d9afd1c1be14433e351d59d7c0ece/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e4e6577746f6e736f66744a736f6e2e737667\" alt=\"Newtonsoft.Json Codec NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/FsCodec.NewtonsoftJson.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eAs described in \u003ca href=\"https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores/\" rel=\"nofollow\"\u003ea scheme for the serializing Events modelled as an F# Discriminated Union\u003c/a\u003e, allows tagging of F# Discriminated Union cases in a versionable manner with low-dependencies using\u003ca href=\"https://github.com/eiriktsarpalis/TypeShape\"\u003eTypeShape\u003c/a\u003e's \u003ca href=\"https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores\" rel=\"nofollow\"\u003e\u003ccode\u003eUnionContractEncoder\u003c/code\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003euses Json.net to serialize the event bodies.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eFsCodec.Box.Codec\u003c/code\u003e: Testing substitute for \u003ccode\u003eFsCodec.NewtonsoftJson.Codec\u003c/code\u003e, included in same package.\u003c/li\u003e\n\u003cli\u003e(\u003ca href=\"https://www.fuget.org/packages/FsCodec.NewtonsoftJson\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eFsCodec\u003c/code\u003e, \u003ccode\u003eNewtonsoft.Json \u0026gt;= 11.0.2\u003c/code\u003e, \u003ccode\u003eTypeShape\u003c/code\u003e, see \u003ca href=\"https://github.com/jet/FsCodec\"\u003eFsCodec repo\u003c/a\u003e for details)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eFsCodec.SystemTextJson\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/FsCodec.SystemTextJson/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/24a56edb443bd0eab5b39439e777108a71a2445705ad090244d8860b34c3c68f/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e53797374656d546578744a736f6e2e737667\" alt=\"SystemTextJson Codec NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/FsCodec.SystemTextJson.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Drop in replacement that allows one to target the .NET \u003ccode\u003eSystem.Text.Json\u003c/code\u003e serializer solely by changing the referenced namespace.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eData Store libraries\u003c/h2\u003e\u003ca id=\"user-content-data-store-libraries\" class=\"anchor\" aria-label=\"Permalink: Data Store libraries\" href=\"#data-store-libraries\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.Core\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.Core/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/c536e53cbef45d3bd0e3e1e5ad8db00b9afa0c0002d802bd179e3f4ce9ec94d7/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f72652e737667\" alt=\"NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.Core.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Hosts generic utility types frequently useful alongside Equinox: \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox.Core/TaskCell.fs#L36\"\u003e\u003ccode\u003eTaskCell\u003c/code\u003e\u003c/a\u003e, \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox.Core/Batching.fs#L44\"\u003e\u003ccode\u003eBatcher\u003c/code\u003e, \u003ccode\u003eBatcherCache\u003c/code\u003e, \u003ccode\u003eBatcherDictionary\u003c/code\u003e\u003c/a\u003e. (\u003ca href=\"https://www.fuget.org/packages/Equinox.Core\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eSystem.Runtime.Caching\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.MemoryStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.MemoryStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/d6e2fbb9ee3f00339053de54c008863c563a735e2088cc6c5964122b8c2fed62/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4d656d6f727953746f72652e737667\" alt=\"MemoryStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.MemoryStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: In-memory store for integration testing/performance base-lining/providing out-of-the-box zero dependency storage for examples. (\u003ca href=\"https://www.fuget.org/packages/Equinox.MemoryStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.CosmosStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/64d7c5b36d4dc4947b298a2f57fa38e3e3f9ed2b17e64d8788c19eb8b6fd08a9/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f736d6f7353746f72652e737667\" alt=\"CosmosStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.CosmosStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Azure CosmosDB Adapter with integrated 'unfolds' feature, facilitating optimal read performance in terms of latency and RU costs, instrumented to meet Jet's production monitoring requirements. (\u003ca href=\"https://www.fuget.org/packages/Equinox.CosmosStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eMicrosoft.Azure.Cosmos\u003c/code\u003e \u0026gt;= \u003ccode\u003e3.43.1\u003c/code\u003e, \u003ccode\u003eSystem.Text.Json\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.CosmosStore.Prometheus\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.CosmosStore.Prometheus/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/1490b2e1cb0f0143f6ba2bac4209536d0f38844e2ea5d566686306c534231f97/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f736d6f7353746f72652e50726f6d6574686575732e737667\" alt=\"CosmosStore.Prometheus NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.CosmosStore.Prometheus.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Integration package providing a \u003ccode\u003eSerilog.Core.ILogEventSink\u003c/code\u003e that extracts detailed metrics information attached to the \u003ccode\u003eLogEvent\u003c/code\u003es and feeds them to the \u003ccode\u003eprometheus-net\u003c/code\u003e's \u003ccode\u003ePrometheus.Metrics\u003c/code\u003e static instance. (\u003ca href=\"https://www.fuget.org/packages/Equinox.CosmosStore.Prometheus\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e, \u003ccode\u003eprometheus-net \u0026gt;= 3.6.0\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.DynamoStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/4be61512eb2f5c07d82b32a77754cf57f2f77ce8b121a3933e7d32bba9f57bae/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e44796e616d6f53746f72652e737667\" alt=\"DynamoStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.DynamoStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Amazon DynamoDB Adapter with integrated 'unfolds' feature, facilitating optimal read performance in terms of latency and RC costs, patterned after \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e. (\u003ca href=\"https://www.fuget.org/packages/Equinox.DynamoStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eFSharp.AWS.DynamoDB\u003c/code\u003e \u0026gt;= \u003ccode\u003e0.12.3-beta\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.DynamoStore.Prometheus\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.DynamoStore.Prometheus/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/96b77763871162b2db09a6f01c50e1c01dbbe525d8a4ffe5ff75b3d0139fb2b5/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e44796e616d6f53746f72652e50726f6d6574686575732e737667\" alt=\"DynamoStore.Prometheus NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.DynamoStore.Prometheus.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Integration package providing a \u003ccode\u003eSerilog.Core.ILogEventSink\u003c/code\u003e that extracts detailed metrics information attached to the \u003ccode\u003eLogEvent\u003c/code\u003es and feeds them to the \u003ccode\u003eprometheus-net\u003c/code\u003e's \u003ccode\u003ePrometheus.Metrics\u003c/code\u003e static instance. (\u003ca href=\"https://www.fuget.org/packages/Equinox.CosmosStore.Prometheus\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e, \u003ccode\u003eprometheus-net \u0026gt;= 3.6.0\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.EventStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.EventStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/0b2c3fc4ff9cf00b296f9d03171a78d196dc4b387a689e2f031a4ae69d94cc9b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4576656e7453746f72652e737667\" alt=\"EventStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.EventStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"https://eventstore.org/\" rel=\"nofollow\"\u003eEventStoreDB\u003c/a\u003e Adapter designed to meet Jet's production monitoring requirements. (\u003ca href=\"https://www.fuget.org/packages/Equinox.EventStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eEventStore.Client \u0026gt;= 22.0.0\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e), EventStore Server version \u003ccode\u003e21.10\u003c/code\u003e or later). \u003cstrong\u003eNO NOT use for new projects - the TCP interface to EventStoreDB has long been deprecated, this package is only provided to ease migration scenarios and will be removed in due course\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.EventStoreDb\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.EventStoreDb/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/4d7271ebbf4a5da736e8eff92324ebf7f54d900f7c40b93b257e8a559728be01/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4576656e7453746f726544622e737667\" alt=\"EventStoreDb NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.EventStoreDb.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Production-strength \u003ca href=\"https://eventstore.org/\" rel=\"nofollow\"\u003eEventStoreDB\u003c/a\u003e Adapter. (\u003ca href=\"https://www.fuget.org/packages/Equinox.EventStoreDb\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eEventStore.Client.Grpc.Streams\u003c/code\u003e \u0026gt;= \u003ccode\u003e22.0.0\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e, EventStore Server version \u003ccode\u003e21.10\u003c/code\u003e or later)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.MessageDb\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.MessageDb/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/fca682a8b9b5c12c0a4ff6c45c8a232db38b973f14cab5ddb587f49e0cde2e66/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4d65737361676544622e737667\" alt=\"MessageDb NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.MessageDb.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"http://docs.eventide-project.org/user-guide/message-db/\" rel=\"nofollow\"\u003eMessageDb\u003c/a\u003e Adapter. (\u003ca href=\"https://www.fuget.org/packages/Equinox.MessageDb\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eNpgsql\u003c/code\u003e \u0026gt;= \u003ccode\u003e7.0.7\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e))\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.SqlStreamStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/712de457d86031b8c9c2b145aadb409c1fb69c8cca949a8c6b64c7da36d27ed0/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e737667\" alt=\"SqlStreamStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.SqlStreamStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"https://github.com/SQLStreamStore/SQLStreamStore\"\u003eSqlStreamStore\u003c/a\u003e Adapter derived from \u003ccode\u003eEquinox.EventStore\u003c/code\u003e - provides core facilities (but does not connect to a specific database; see sibling \u003ccode\u003eSqlStreamStore\u003c/code\u003e.* packages). (\u003ca href=\"https://www.fuget.org/packages/Equinox.SqlStreamStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox\u003c/code\u003e, \u003ccode\u003eSqlStreamStore \u0026gt;= 1.2.0-beta.8\u003c/code\u003e, \u003ccode\u003eFSharp.Control.TaskSeq\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.SqlStreamStore.MsSql\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.SqlStreamStore.MsSql/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/bfdf6fd37522bbdecfcca4537bb71265e3e00086d1c1cdd8f2a1170794893438/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e4d7353716c2e737667\" alt=\"MsSql NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.SqlStreamStore.MsSql.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"https://sqlstreamstore.readthedocs.io/en/latest/sqlserver\" rel=\"nofollow\"\u003eSqlStreamStore.MsSql\u003c/a\u003e Sql Server \u003ccode\u003eConnector\u003c/code\u003e implementation for \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e package). (\u003ca href=\"https://www.fuget.org/packages/Equinox.SqlStreamStore.MsSql\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e, \u003ccode\u003eSqlStreamStore.MsSql \u0026gt;= 1.2.0-beta.8\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.SqlStreamStore.MySql\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.SqlStreamStore.MySql/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/e82bc1bca5fcd10f6fea895d930617b8b2b6963f71bf3631524c1c80e71ee971/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e4d7953716c2e737667\" alt=\"MySql NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.SqlStreamStore.MySql.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ccode\u003eSqlStreamStore.MySql\u003c/code\u003e MySQL \u003ccode\u003eConnector\u003c/code\u003e implementation for \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e package). (\u003ca href=\"https://www.fuget.org/packages/Equinox.SqlStreamStore.MySql\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e, \u003ccode\u003eSqlStreamStore.MySql \u0026gt;= 1.2.0-beta.8\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.SqlStreamStore.Postgres\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.SqlStreamStore.Postgres/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/4ee4c24b4c6d42bc05552404b751fe076a632579cf43dde427b44162e73480d3/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e506f7374677265732e737667\" alt=\"Postgres NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.SqlStreamStore.Postgres.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"https://sqlstreamstore.readthedocs.io/en/latest/postgres\" rel=\"nofollow\"\u003eSqlStreamStore.Postgres\u003c/a\u003e PostgreSQL \u003ccode\u003eConnector\u003c/code\u003e implementation for \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e package). (\u003ca href=\"https://www.fuget.org/packages/Equinox.SqlStreamStore.Postgres\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e, \u003ccode\u003eSqlStreamStore.Postgres \u0026gt;= 1.2.0-beta.8\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProjection libraries\u003c/h2\u003e\u003ca id=\"user-content-projection-libraries\" class=\"anchor\" aria-label=\"Permalink: Projection libraries\" href=\"#projection-libraries\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eEquinox does not focus on projection logic - each store brings its own strengths, needs, opportunities and idiosyncrasies. Here's a list of some relevant libraries from sibling projects that get used with regard to this:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eFsKafka\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/FsKafka/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/b150e1f0a4b05726d359d0c1fde0aab1fd02bd82860928e2593b58352beab10b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f46734b61666b612e737667\" alt=\"FsKafka NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/FsKafka.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Wraps \u003ccode\u003eConfluent.Kafka\u003c/code\u003e to provide efficient batched Kafka Producer and Consumer configurations, with basic logging instrumentation. Used in the \u003ca href=\"https://github.com/jet/propulsion#dotnet-tool-provisioning--projections-test-tool\"\u003e\u003ccode\u003epropulsion sync kafka\u003c/code\u003e\u003c/a\u003e tool command; see \u003ca href=\"https://github.com/jet/dotnet-templates#propulsion-related\"\u003e\u003ccode\u003edotnet new proProjector -k; dotnet new proConsumer\u003c/code\u003e to generate a sample app\u003c/a\u003e using it (see the \u003ccode\u003eBatchedAsync\u003c/code\u003e and \u003ccode\u003eBatchedSync\u003c/code\u003e modules in \u003ccode\u003eExamples.fs\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/26c494bfa0c86de81b264193472ca8d9ffd7bfb6fba442201d46a9295d405cd8/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e737667\" alt=\"Propulsion NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: A library that provides an easy way to implement projection logic. It defines \u003ccode\u003ePropulsion.Streams.StreamEvent\u003c/code\u003e used to interop with \u003ccode\u003ePropulsion.*\u003c/code\u003e in processing pipelines for the \u003ccode\u003eproProjector\u003c/code\u003e and \u003ccode\u003eproSync\u003c/code\u003e templates in the \u003ca href=\"https://github.com/jet/dotnet-templates\"\u003etemplates repo\u003c/a\u003e, together with the \u003ccode\u003eIngestion\u003c/code\u003e, \u003ccode\u003eStreams\u003c/code\u003e, \u003ccode\u003eProgress\u003c/code\u003e and \u003ccode\u003eParallel\u003c/code\u003e modules that get composed into those processing pipelines. (\u003ca href=\"https://www.fuget.org/packages/Propulsion\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eSerilog\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.Cosmos\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.Cosmos/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/30091e24ed8b95684d60dd1ae57703c7b0ed3d66d69b9cdea71fdd9659325a3c/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e436f736d6f732e737667\" alt=\"Propulsion.Cosmos NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.Cosmos.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Wraps the \u003ca href=\"https://github.com/Azure/azure-documentdb-changefeedprocessor-dotnet\"\u003eMicrosoft .NET \u003ccode\u003eChangeFeedProcessor\u003c/code\u003e library\u003c/a\u003e providing a \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#change-feed-processors\"\u003eprocessor loop\u003c/a\u003e that maintains a continuous query loop per CosmosDB Physical Partition (Range) yielding new or updated documents (optionally unrolling events written by \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e for processing or forwarding). (\u003ca href=\"https://www.fuget.org/packages/Propulsion.Cosmos\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.Cosmos\u003c/code\u003e, \u003ccode\u003eMicrosoft.Azure.DocumentDb.ChangeFeedProcessor \u0026gt;= 2.2.5\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.CosmosStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.CosmosStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/72b69adcc6ea7f81b005a16f3f8647e470ed453f4a94e6db5b21cad3711e4018/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e436f736d6f7353746f72652e737667\" alt=\"Propulsion.CosmosStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.CosmosStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Wraps the CosmosDB V3 SDK's Change Feed API, providing a \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#change-feed-processors\"\u003eprocessor loop\u003c/a\u003e that maintains a continuous query loop per CosmosDB Physical Partition (Range) yielding new or updated documents (optionally unrolling events written by \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e for processing or forwarding). Used in the \u003ca href=\"/jet/equinox/blob/master/dotnet-tool-provisioning--benchmarking-tool\"\u003e\u003ccode\u003epropulsion sync stats from cosmos\u003c/code\u003e\u003c/a\u003e tool command; see \u003ca href=\"#quickstart\"\u003e\u003ccode\u003edotnet new proProjector\u003c/code\u003e to generate a sample app\u003c/a\u003e using it. (\u003ca href=\"https://www.fuget.org/packages/Propulsion.CosmosStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.DynamoStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.DynamoStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/7ebc714ed002cbb1643f7e25e79b9784a09c9e61fa3f0c44a457eedf4dd1d97f/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e44796e616d6f53746f72652e737667\" alt=\"Propulsion.DynamoStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.DynamoStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Provides a \u003ccode\u003eDynamoStoreSource\u003c/code\u003e that provides equivalent functionality to \u003ccode\u003ePropulsion.CosmosStore\u003c/code\u003e in concert with \u003ccode\u003ePropulsion.DynamoStore.Lambda\u003c/code\u003e; (\u003ca href=\"https://www.fuget.org/packages/Propulsion.DynamoStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.DynamoStore.Lambda\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.DynamoStore.Lambda/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/ec41222e98764de45b8b841aa77e42592d4140be6f08c99cf6e2b61b239d0d83/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e44796e616d6f53746f72652e4c616d6264612e737667\" alt=\"Propulsion.DynamoStore.Lambda NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.DynamoStore.Lambda.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Indexes events written by \u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e via a DynamoDB Streams-triggered Lambda. (Depends on \u003ccode\u003ePropulsion.DynamoStore\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.EventStore\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.EventStore/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/12f8078312176f912c044ee9f5466cb6fa2b0e326937ae5625ba7d792803fb3b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4576656e7453746f72652e737667\" alt=\"Propulsion.EventStore NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.EventStore.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e Used in the \u003ca href=\"/jet/equinox/blob/master/dotnet-tool-provisioning--benchmarking-tool\"\u003e\u003ccode\u003epropulsion sync stats from es\u003c/code\u003e\u003c/a\u003e tool command; see \u003ca href=\"#quickstart\"\u003e\u003ccode\u003edotnet new proSync\u003c/code\u003e to generate a sample app\u003c/a\u003e using it. (\u003ca href=\"https://www.fuget.org/packages/Propulsion.EventStore\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.EventStore\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.EventStoreDb\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.EventStoreDb/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/8b1a90e5f1d071c3cf597a0f0df69a4f2f98abcfa88456c6bdd5ce86ed5cf464/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4576656e7453746f726544622e737667\" alt=\"Propulsion.EventStoreDb NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.EventStoreDb.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e Consumes from \u003ccode\u003eEventStoreDB\u003c/code\u003e v \u003ccode\u003e21.10\u003c/code\u003e or later using the gRPC interface. (\u003ca href=\"https://www.fuget.org/packages/Propulsion.EventStoreDb\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eEquinox.EventStoreDb\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.MessageDb\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.MessageDb\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/d1ad39feb2b6f9a9c9ad7c73dd3c16cdb52405da04b8d56d91da323c3818a8c2/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4d65737361676544622e737667\" alt=\"Propulsion.MessageDb NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.MessageDb.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e Consumes from a \u003ccode\u003eMessageDB\u003c/code\u003e store (in Postgres) using \u003ccode\u003eNpgsql\u003c/code\u003e. (\u003ca href=\"https://www.fuget.org/packages/Propulsion.MessageDb\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eNpgsql\u003c/code\u003e, \u003ccode\u003ePropulsion.Feed\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePropulsion.Kafka\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Propulsion.Kafka/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/9d4cd9b12aa110fa4ae7bcfc1312ead3ac8b3134b9c7636fefa8e714a4703b23/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4b61666b612e737667\" alt=\"Propulsion.Kafka NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Propulsion.Kafka.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: Provides a canonical \u003ccode\u003eRenderedSpan\u003c/code\u003e that can be used as a default format when projecting events via e.g. the Producer/Consumer pair in \u003ccode\u003edotnet new proProjector -k; dotnet new proConsumer\u003c/code\u003e. (\u003ca href=\"https://www.fuget.org/packages/Propulsion.Kafka\" rel=\"nofollow\"\u003edepends\u003c/a\u003e on \u003ccode\u003eNewtonsoft.Json \u0026gt;= 11.0.2\u003c/code\u003e, \u003ccode\u003ePropulsion\u003c/code\u003e, \u003ccode\u003eFsKafka\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ccode\u003edotnet tool\u003c/code\u003e provisioning / benchmarking tool\u003c/h2\u003e\u003ca id=\"user-content-dotnet-tool-provisioning--benchmarking-tool\" class=\"anchor\" aria-label=\"Permalink: dotnet tool provisioning / benchmarking tool\" href=\"#dotnet-tool-provisioning--benchmarking-tool\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEquinox.Tool\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.Tool/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/c1398411fca56b2e99e0b6a44ce1f8d4850e58498cc9e05342ece85847bddefe/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e546f6f6c2e737667\" alt=\"Tool NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.Tool.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ecan render events from any of the stores via \u003ccode\u003eeqx dump\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eincorporates a benchmark scenario runner, running load tests composed of transactions in \u003ccode\u003esamples/Store\u003c/code\u003e and \u003ccode\u003esamples/TodoBackend\u003c/code\u003e against any supported store; this allows perf tuning and measurement in terms of both latency and transaction charge aspects. (Install via: \u003ccode\u003edotnet tool install Equinox.Tool -g\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003ecan configure indices in Azure CosmosDB for an \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e Container via \u003ccode\u003eeqx init\u003c/code\u003e. See \u003ca href=\"#store-data-in-azure-cosmosdb\"\u003ehere\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003ecan search for streams and/or perform a JSON export based on name (\u003ccode\u003ep\u003c/code\u003e) or Uncompressed \u003ccode\u003eu\u003c/code\u003enfold values for an \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e Container in Azure CosmosDB`. See \u003ca href=\"#eqx-query\"\u003ehere\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003ecan create tables in Amazon DynamoDB for \u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e via \u003ccode\u003eeqx initaws\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003ecan initialize databases for \u003ccode\u003eSqlStreamStore\u003c/code\u003e via \u003ccode\u003eeqx initsql\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eStarter Project Templates and Sample Applications\u003c/h2\u003e\u003ca id=\"user-content-starter-project-templates-and-sample-applications\" class=\"anchor\" aria-label=\"Permalink: Starter Project Templates and Sample Applications\" href=\"#starter-project-templates-and-sample-applications\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.Templates\u003c/code\u003e \u003ca href=\"https://www.nuget.org/packages/Equinox.Templates/\" rel=\"nofollow\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/a42a31ba0c150a18df7bcc20e04640fd86c24d360f487202b16b645e041eebad/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e54656d706c617465732e737667\" alt=\"Templates NuGet\" data-canonical-src=\"https://img.shields.io/nuget/v/Equinox.Templates.svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e: \u003ca href=\"https://github.com/jet/dotnet-templates\"\u003eThe templates repo\u003c/a\u003e has C# and F# sample apps. (Install via \u003ccode\u003edotnet new -i Equinox.Templates \u0026amp;\u0026amp; dotnet new eqx --list\u003c/code\u003e). See \u003ca href=\"#quickstart\"\u003ethe quickstart\u003c/a\u003e for examples of how to use it.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/jet/equinox/blob/master/samples/Store\"\u003e\u003ccode\u003esamples/Store\u003c/code\u003e (in this repo)\u003c/a\u003e: Example domain types reflecting examples of how one applies Equinox to a diverse set of stream-based models\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/jet/equinox/blob/master/samples/TodoBackend\"\u003e\u003ccode\u003esamples/TodoBackend\u003c/code\u003e (in this repo)\u003c/a\u003e: Standard \u003ca href=\"https://todobackend.com\" rel=\"nofollow\"\u003ehttps://todobackend.com\u003c/a\u003e compliant backend\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/jet/equinox/blob/master/samples/Tutorial\"\u003e\u003ccode\u003esamples/Tutorial\u003c/code\u003e (in this repo)\u003c/a\u003e: Annotated \u003ccode\u003e.fsx\u003c/code\u003e files with sample Aggregate impls\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eOverview\u003c/h1\u003e\u003ca id=\"user-content-overview\" class=\"anchor\" aria-label=\"Permalink: Overview\" href=\"#overview\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eThe Propulsion Perspective\u003c/h2\u003e\u003ca id=\"user-content-the-propulsion-perspective\" class=\"anchor\" aria-label=\"Permalink: The Propulsion Perspective\" href=\"#the-propulsion-perspective\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eEquinox and Propulsion have a \u003ca href=\"https://en.wikipedia.org/wiki/Yin_and_yang\" rel=\"nofollow\"\u003eYin and yang\u003c/a\u003e relationship; the use cases for both naturally interlock and overlap. It can be relevant to peruse \u003ca href=\"https://github.com/jet/propulsion/blob/master/DOCUMENTATION.md#overview\"\u003ethe Propulsion Documentation's Overview Diagrams\u003c/a\u003e for the complementary perspective (TL;DR its largely the same topology, with elements that are central here de-emphasized over there, and vice versa)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"https://c4model.com\" rel=\"nofollow\"\u003eC4\u003c/a\u003e Context diagram\u003c/h2\u003e\u003ca id=\"user-content-c4-context-diagram\" class=\"anchor\" aria-label=\"Permalink: C4 Context diagram\" href=\"#c4-context-diagram\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eEquinox focuses on the \u003cstrong\u003eConsistent Processing\u003c/strong\u003e element of building an event-sourced system, offering tailored components that interact with a specific \u003cstrong\u003eConsistent Event Store\u003c/strong\u003e, as laid out here in this \u003ca href=\"https://c4model.com\" rel=\"nofollow\"\u003eC4\u003c/a\u003e System Context Diagram:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/79d1514fa48c4142c6f7589485def0358864446f5b7766a3e20d5186dc47e699/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e746578742e70756d6c26666d743d737667\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/79d1514fa48c4142c6f7589485def0358864446f5b7766a3e20d5186dc47e699/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e746578742e70756d6c26666d743d737667\" alt=\"Equinox c4model.com Context Diagram\" data-canonical-src=\"http://www.plantuml.com/plantuml/proxy?cache=no\u0026amp;src=https://raw.github.com/jet/equinox/master/diagrams/context.puml\u0026amp;fmt=svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e Propulsion elements (which we consider External to Equinox) support the building of complementary facilities as part of an overall Application:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cstrong\u003eIngesters\u003c/strong\u003e: read stuff from outside the Bounded Context of the System. This kind of service covers aspects such as feeding reference data into \u003cstrong\u003eRead Models\u003c/strong\u003e, ingesting changes into a consistent model via \u003cstrong\u003eConsistent Processing\u003c/strong\u003e. \u003cem\u003eThese services are not acting in reaction to events emanating from the \u003cstrong\u003eConsistent Event Store\u003c/strong\u003e, as opposed to...\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003ePublishers\u003c/strong\u003e: react to events as they are arrive from the \u003cstrong\u003eConsistent Event Store\u003c/strong\u003e by filtering, rendering and producing to feeds for downstreams (here we label that \u003cem\u003ePublish Simple Notifications\u003c/em\u003e). \u003cem\u003eWhile these services may in some cases rely on synchronous queries via \u003cstrong\u003eConsistent Processing\u003c/strong\u003e, it's never transacting or driving follow-on work; which brings us to...\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eReactors\u003c/strong\u003e: drive reactive actions triggered by either upstream feeds, or events observed in the \u003cstrong\u003eConsistent Event Store\u003c/strong\u003e. \u003cem\u003eThese services handle anything beyond the duties of \u003cstrong\u003eIngesters\u003c/strong\u003e or \u003cstrong\u003ePublishers\u003c/strong\u003e, and will often drive follow-on processing via Process Managers and/or transacting via \u003cstrong\u003eConsistent Processing\u003c/strong\u003e. In some cases, a reactor app's function may be to progressively compose a notification for a \u003cstrong\u003ePublisher\u003c/strong\u003e to eventually publish.\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"https://c4model.com\" rel=\"nofollow\"\u003eC4\u003c/a\u003e Container diagram\u003c/h2\u003e\u003ca id=\"user-content-c4-container-diagram\" class=\"anchor\" aria-label=\"Permalink: C4 Container diagram\" href=\"#c4-container-diagram\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe relevant pieces of the above break down as follows, when we emphasize the \u003ca href=\"https://c4model.com\" rel=\"nofollow\"\u003eContainers\u003c/a\u003e aspects relevant to Equinox:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://camo.githubusercontent.com/426d24b668b50de1fbd8fbf91d3e1e0c4614dcd12eaabbd9d12df9b02fe2282a/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e7461696e65722e70756d6c26666d743d737667\"\u003e\u003cimg src=\"https://camo.githubusercontent.com/426d24b668b50de1fbd8fbf91d3e1e0c4614dcd12eaabbd9d12df9b02fe2282a/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e7461696e65722e70756d6c26666d743d737667\" alt=\"Equinox c4model.com Container Diagram\" data-canonical-src=\"http://www.plantuml.com/plantuml/proxy?cache=no\u0026amp;src=https://raw.github.com/jet/equinox/master/diagrams/container.puml\u0026amp;fmt=svg\" style=\"max-width: 100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003e\u003ca href=\"https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#overview\"\u003eSee Overview section in \u003ccode\u003eDOCUMENTATION\u003c/code\u003e.md for further drill down\u003c/a\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTEMPLATES\u003c/h2\u003e\u003ca id=\"user-content-templates\" class=\"anchor\" aria-label=\"Permalink: TEMPLATES\" href=\"#templates\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe best place to start, sample-wise is with the \u003ca href=\"#quickstart\"\u003eQuickStart\u003c/a\u003e, which walks you through sample code, tuned for approachability, from \u003ccode\u003edotnet new\u003c/code\u003e templates stored \u003ca href=\"https://github.com/jet/dotnet-templates\"\u003ein a dedicated repo\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSAMPLES\u003c/h2\u003e\u003ca id=\"user-content-samples\" class=\"anchor\" aria-label=\"Permalink: SAMPLES\" href=\"#samples\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003esamples/\u003c/code\u003e folder contains various further examples (some of the templates are derived from these), with the complementary goals of:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebeing a starting point to see how one might consume the libraries.\u003c/li\u003e\n\u003cli\u003eacting as \u003ca href=\"https://martinfowler.com/articles/consumerDrivenContracts.html\" rel=\"nofollow\"\u003eConsumer Driven Contracts\u003c/a\u003e to validate new and pin existing API designs.\u003c/li\u003e\n\u003cli\u003eproviding outline (not official and complete) guidance as to things that are valid to do in an application consuming Equinox components.\u003c/li\u003e\n\u003cli\u003eto validate that each specific Storage implementation can fulfill the needs of each of the example Services/Aggregates/Applications. (\u003cem\u003eunfortunately this concern makes a lot of the DI wiring more complex than a real application should be; it's definitely a non-goal for every Equinox app to be able to switch between backends, even though that's very much possible to achieve.\u003c/em\u003e)\u003c/li\u003e\n\u003cli\u003eprovide sample scripts referenced in the Tutorial\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-todobackend\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"/jet/equinox/blob/master/samples/TodoBackend\"\u003eTODOBACKEND, see samples/TodoBackend\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-todobackend-see-samplestodobackend\" class=\"anchor\" aria-label=\"Permalink: TODOBACKEND, see samples/TodoBackend\" href=\"#todobackend-see-samplestodobackend\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe repo contains a vanilla ASP.NET Core implementation of \u003ca href=\"https://www.todobackend.com\" rel=\"nofollow\"\u003ethe well-known TodoBackend Spec\u003c/a\u003e. \u003cstrong\u003eNB the implementation is largely dictated by spec; no architectural guidance expressed or implied ;)\u003c/strong\u003e. It can be run via:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\u0026amp; dotnet run --project samples/Web -S es # run against eventstore, omit `es` to use in-memory store, or see PROVISIONING EVENTSTORE\nstart https://www.todobackend.com/specs/index.html?https://localhost:5001/todos # for low-level debugging / validation of hosting arrangements\nstart https://www.todobackend.com/client/index.html?https://localhost:5001/todos # standard JavaScript UI\nstart http://localhost:5341/#/events # see logs triggered by `-S` above in https://getseq.net        \"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e\u0026amp; dotnet run --project samples/Web -S es # run against eventstore, omit `es` to use in-memory store, or see PROVISIONING EVENTSTORE\nstart https://www.todobackend.com/specs/index.html?https://localhost:5001/todos # for low-level debugging / validation of hosting arrangements\nstart https://www.todobackend.com/client/index.html?https://localhost:5001/todos # standard JavaScript UI\nstart http://localhost:5341/#/events # see logs triggered by `-S` above in https://getseq.net        \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"/jet/equinox/blob/master/samples/Store\"\u003eSTORE, see /samples/Store\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-store-see-samplesstore\" class=\"anchor\" aria-label=\"Permalink: STORE, see /samples/Store\" href=\"#store-see-samplesstore\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe core sample in this repo is the \u003ccode\u003eStore\u003c/code\u003e sample, which contains code and tests extracted from real implementations (with minor simplifications in some cases).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThese facts mean that:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003esome of the code may be less than approachable for a beginner (e.g. some of the code is in its present form for reasons of efficiency)\u003c/li\u003e\n\u003cli\u003esome of the code may not represent official best practice guidance that the authors would necessarily stand over (e.g., the CQRS pattern is not strictly adhered to in all circumstances; some command designs are not completely correct from an idempotency perspective)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eWhile these things can of course be perfected through PRs, this is definitely not top of the work list for the purposes of this repo. (We'd be delighted to place links to other samples, including cleanups / rewrites of these samples written with different testing platforms, web platforms, or DDD/CQRS/ES design flavors right here).\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"https://github.com/gregoryyoung/m-r/tree/master/SimpleCQRS\"\u003em-r\u003c/a\u003e port, \u003ca href=\"/jet/equinox/blob/master/samples/Store/Domain/InventoryItem.fs\"\u003esee samples/Store/Domain/InventoryItem.fs\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-m-r-port-see-samplesstoredomaininventoryitemfs\" class=\"anchor\" aria-label=\"Permalink: m-r port, see samples/Store/Domain/InventoryItem.fs\" href=\"#m-r-port-see-samplesstoredomaininventoryitemfs\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eFor fun, there's a direct translation of the \u003ccode\u003eInventoryItem\u003c/code\u003e Aggregate and Command Handler from Greg Young's \u003ca href=\"https://github.com/gregoryyoung/m-r/tree/master/SimpleCQRS\"\u003e\u003ccode\u003em-r\u003c/code\u003e\u003c/a\u003e demo project \u003ca href=\"https://github.com/jet/equinox/blob/master/samples/Store/Domain/InventoryItem.fs\"\u003eas one could write it in F# using Equinox\u003c/a\u003e. NB any typical presentation of this example includes copious provisos and caveats about it being a toy example written almost a decade ago.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"/jet/equinox/blob/master/samples/Tutorial\"\u003e\u003ccode\u003esamples/Tutorial\u003c/code\u003e (in this repo)\u003c/a\u003e: Annotated \u003ccode\u003e.fsx\u003c/code\u003e files with sample aggregate implementations\u003c/h3\u003e\u003ca id=\"user-content-samplestutorial-in-this-repo-annotated-fsx-files-with-sample-aggregate-implementations\" class=\"anchor\" aria-label=\"Permalink: samples/Tutorial (in this repo): Annotated .fsx files with sample aggregate implementations\" href=\"#samplestutorial-in-this-repo-annotated-fsx-files-with-sample-aggregate-implementations\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e\u003ca href=\"https://github.com/ameier38\"\u003e@ameier38\u003c/a\u003e's Tutorial\u003c/h3\u003e\u003ca id=\"user-content-ameier38s-tutorial\" class=\"anchor\" aria-label=\"Permalink: @ameier38's Tutorial\" href=\"#ameier38s-tutorial\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"https://andrewcmeier.com\" rel=\"nofollow\"\u003eAndrew Meier\u003c/a\u003e has written a very complete tutorial modeling a business domain using Equinox and EventStoreDB; includes Dockerized Suave API, test suite using Expecto, build automation using FAKE, and CI using Codefresh; see \u003ca href=\"https://github.com/ameier38/equinox-tutorial\"\u003ethe repo\u003c/a\u003e and its \u003ca href=\"https://andrewcmeier.com/bi-temporal-event-sourcing\" rel=\"nofollow\"\u003eoverview blog post\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eQuickStart\u003c/h2\u003e\u003ca id=\"user-content-quickstart\" class=\"anchor\" aria-label=\"Permalink: QuickStart\" href=\"#quickstart\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSpin up a \u003ca href=\"https://www.todobackend.com/\" rel=\"nofollow\"\u003eTodoBackend\u003c/a\u003e \u003ccode\u003e.fsproj\u003c/code\u003e app (\u003ca href=\"https://github.com/jet/equinox#store-libraries\"\u003estoring in \u003ccode\u003eEquinox.MemoryStore\u003c/code\u003e Simulator\u003c/a\u003e)\u003c/h3\u003e\u003ca id=\"user-content-spin-up-a-todobackend-fsproj-app-storing-in-equinoxmemorystore-simulator\" class=\"anchor\" aria-label=\"Permalink: Spin up a TodoBackend.fsproj app (storing in Equinox.MemoryStore Simulator)\" href=\"#spin-up-a-todobackend-fsproj-app-storing-in-equinoxmemorystore-simulator\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003col start=\"0\" dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eMake a scratch area\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"mkdir ExampleApp\ncd ExampleApp \"\u003e\u003cpre\u003emkdir ExampleApp\ncd ExampleApp \u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse a \u003ccode\u003edotnet new\u003c/code\u003e template to get fresh code in your repo\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet new -i Equinox.Templates # see source in https://github.com/jet/dotnet-templates\ndotnet new eqxweb -t # -t for todos, defaults to memory store (-m) # use --help to see options regarding storage subsystem configuration etc\"\u003e\u003cpre\u003edotnet new \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ei Equinox.Templates \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e see source in https://github.com/jet/dotnet-templates\u003c/span\u003e\ndotnet new eqxweb \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -t for todos, defaults to memory store (-m) # use --help to see options regarding storage subsystem configuration etc\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRun the \u003ccode\u003eTodoBackend\u003c/code\u003e:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet run --project Web\"\u003e\u003cpre\u003edotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject Web\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eRun the standard \u003ccode\u003eTodoMvc\u003c/code\u003e frontend against your locally-hosted, fresh backend (See generated \u003ccode\u003eREADME.md\u003c/code\u003e for more details)\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eTodo JavaScript client App: \u003ca href=\"https://www.todobackend.com/client/index.html?https://localhost:5001/todos\" rel=\"nofollow\"\u003ehttps://www.todobackend.com/client/index.html?https://localhost:5001/todos\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eRun individual JS specification tests: \u003ca href=\"https://www.todobackend.com/specs/index.html?https://localhost:5001/todos\" rel=\"nofollow\"\u003ehttps://www.todobackend.com/specs/index.html?https://localhost:5001/todos\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSpin up a \u003ca href=\"https://www.todobackend.com/\" rel=\"nofollow\"\u003eTodoBackend\u003c/a\u003e \u003ccode\u003e.csproj\u003c/code\u003e ... with C# code\u003c/h3\u003e\u003ca id=\"user-content-spin-up-a-todobackend-csproj--with-c-code\" class=\"anchor\" aria-label=\"Permalink: Spin up a TodoBackend.csproj ... with C# code\" href=\"#spin-up-a-todobackend-csproj--with-c-code\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhile Equinox is implemented in F#, and F# is a great fit for writing event-sourced domain models, \u003ca href=\"https://docs.microsoft.com/en-us/dotnet/fsharp/style-guide/component-design-guidelines\" rel=\"nofollow\"\u003ethe APIs are not F#-specific\u003c/a\u003e; there's a \u003ca href=\"https://github.com/jet/dotnet-templates/tree/master/equinox-web-csharp\"\u003eC# edition of the template\u003c/a\u003e. The instructions are identical to the rest, but you need to use the \u003ccode\u003eeqxwebcs\u003c/code\u003e template instead of \u003ccode\u003eeqxweb\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eStore data in \u003ca href=\"https://eventstore.org\" rel=\"nofollow\"\u003eEventStore\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-store-data-in-eventstore\" class=\"anchor\" aria-label=\"Permalink: Store data in EventStore\" href=\"#store-data-in-eventstore\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003einstall EventStore locally (requires admin privilege)\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor Windows, install with Chocolatey:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"cinst eventstore-oss -y # where cinst is an invocation of the Chocolatey Package Installer on Windows\"\u003e\u003cpre\u003ecinst eventstore\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eoss \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ey \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e where cinst is an invocation of the Chocolatey Package Installer on Windows\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eFor OSX, install with \u003ccode\u003ebrew cask install eventstore\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003estart the local EventStore instance on any OS:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eCheck out the github.com/jet/equinox repo\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker compose up\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eFor more complete instructions, follow \u003ca href=\"https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose\" rel=\"nofollow\"\u003ehttps://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003egenerate sample app with EventStore wiring from template and start\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet new eqxweb -t -e # -t for todos, -e for eventstore\ndotnet run --project Web\"\u003e\u003cpre\u003edotnet new eqxweb \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ee \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -t for todos, -e for eventstore\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject Web\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003ebrowse writes at \u003ca href=\"http://localhost:2113/web/index.html#/streams\" rel=\"nofollow\"\u003ehttp://localhost:2113/web/index.html#/streams\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eStore data in \u003ca href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/introduction\" rel=\"nofollow\"\u003eAzure CosmosDB\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-store-data-in-azure-cosmosdb\" class=\"anchor\" aria-label=\"Permalink: Store data in Azure CosmosDB\" href=\"#store-data-in-azure-cosmosdb\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eexport 3x env vars\u003c/em\u003e (see \u003ca href=\"#run-cosmosdb-benchmark-when-provisioned\"\u003eprovisioning instructions\u003c/a\u003e)\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$env:EQUINOX_COSMOS_CONNECTION=\u0026quot;AccountEndpoint=https://....;AccountKey=....=;\u0026quot;\n$env:EQUINOX_COSMOS_DATABASE=\u0026quot;equinox-test\u0026quot;\n$env:EQUINOX_COSMOS_CONTAINER=\u0026quot;equinox-test\u0026quot;\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003eEQUINOX_COSMOS_CONNECTION\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eAccountEndpoint=https://....;AccountKey=....=;\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003eEQUINOX_COSMOS_DATABASE\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eequinox-test\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003eEQUINOX_COSMOS_CONTAINER\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eequinox-test\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003euse the \u003ccode\u003eeqx\u003c/code\u003e tool to initialize the database and/or container (using preceding env vars)\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet tool uninstall Equinox.Tool -g\ndotnet tool install Equinox.Tool -g --prerelease\neqx init -ru 400 cosmos # generates a database+container, adds optimized indexes\"\u003e\u003cpre\u003edotnet tool uninstall Equinox.Tool \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg\ndotnet tool install Equinox.Tool \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eprerelease\neqx init \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eru \u003cspan class=\"pl-c1\"\u003e400\u003c/span\u003e cosmos \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e generates a database+container, adds optimized indexes\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003egenerate sample app from template, with CosmosDB wiring\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet new eqxweb -t -c # -t for todos, -c for cosmos\ndotnet run --project Web\"\u003e\u003cpre\u003edotnet new eqxweb \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -t for todos, -c for cosmos\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject Web\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eeqx\u003c/code\u003e tool to dump stats relating the contents of the CosmosDB store\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# run queries to determine how many streams, docs, events there are in the container\neqx -V stats -P cosmos # -P to run in parallel # -V to show underlying query being used\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run queries to determine how many streams, docs, events there are in the container\u003c/span\u003e\neqx \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eV stats \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eP cosmos \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -P to run in parallel # -V to show underlying query being used\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse the \u003ccode\u003eeqx\u003c/code\u003e tool to query streams and/or snapshots in a CosmosDB store\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-eqx-query\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# Add indexing of the `u`nfolds borne by Tip Items: 1) `c` for the case name 2) `d` for fields of uncompressed unfolds \neqx init -m serverless --indexunfolds cosmos -d db -c $EQUINOX_COSMOS_VIEWS\n\n# query all streams LIKE \u0026quot;$User-%\u0026quot; with `Snapshotted2` unfolds. Batches of up to 100,000 events\neqx query -cn '$User' -un Snapshotted2 cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000\n\n# use a wild card (LIKE) for the stream name \neqx query -cl '$Us%' -un Snapshotted cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000\n# \u0026gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE \u0026quot;$Us%\u0026quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \u0026quot;Snapshotted\u0026quot;) {}\n# \u0026gt; Page 7166s, 7166u, 0e 320.58RU 3.9s {}\n# \u0026gt; Page 1608s, 1608u, 0e 68.59RU 0.9s {}\n# \u0026gt; TOTALS 1c, 8774s, 389.17RU 4.7s {}   \n\n# Skip loading the _etag to simulate a query where you will only render the result (not `Transact` against it)\neqx query -cn '$User' -m readonly -un Snapshotted cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000\n# \u0026gt; Querying ReadOnly: SELECT c.u FROM c WHERE c.p LIKE \u0026quot;$User-%\u0026quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \u0026quot;Snapshotted\u0026quot;) {}\n# \u0026gt; Page 8774s, 8774u, 0e 342.33RU 3.8s {}\n# \u0026gt; TOTALS 0c, 8774s, 342.33RU 3.8s {} #  cheaper and only one batch as no .p or ._etag \n\n# add criteria filtering based on an Uncompressed Unfold\neqx query -cn '$User' -un EmailIndex -uc 'u.d.email = \u0026quot;a@b.com\u0026quot;' cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000\n# \u0026gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE \u0026quot;$User-%\u0026quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \u0026quot;EmailIndex\u0026quot; AND u.d.email = \u0026quot;a@b.com\u0026quot;) {}\n# \u0026gt; Page 0s, 0u, 0e 2.8RU 0.7s {}\n# \u0026gt; TOTALS 0c, 0s, 2.80RU 0.7s {} #  only 2.8RU if nothing is returned\n\n# DUMP ONE STREAM TO A FILE (equivalent to queries performed by CosmosStore.AccessStrategy.Unoptimized)\n# Can be imported into another store via `propulsion sync cosmos from json`\neqx query -sn 'user-f28fb6feea00550e93ca77b6f29899cd' -o dump-user.json cosmos -d db -c $EQUINOX_COSMOS_CONTAINER -b 9999\n# \u0026gt; Dumping Raw content to ./dump-user.json {}\n# \u0026gt; Querying Raw: SELECT * FROM c WHERE c.p = \u0026quot;user-f28fb6feea00550e93ca77b6f29899cd\u0026quot; AND 1=1 {}\n# \u0026gt; Page 9s, 1u, 10e 3.23RU 0.5s 0.0MiB age 0002.10:04:13 {} #  2.80 if no results, adds per KiB charge if there are results \n# \u0026gt; TOTALS 1c, 9s, 3.23RU R/W 0.0/0.0MiB 3.9s {}\n\n# DUMP FULL CONTENT OF THE CONTAINER TO A FILE\n# Can be imported into another store via `propulsion sync cosmos from json`\neqx query -o ../dump-240216.json cosmos -d db -c $EQUINOX_COSMOS_CONTAINER -b 9999                             \n# \u0026gt; Dumping Raw content to ~/dumps/dump-240216.json {}\n# \u0026gt; No StreamName or CategoryName/CategoryLike specified - Unfold Criteria better be unambiguous {}\n# \u0026gt; Querying Raw: SELECT * FROM c WHERE 1=1 AND 1=1 {}\n# \u0026gt; Page 2972s, 748u, 3112e 108.9RU 3.8s 4.0MiB age 0212.18:00:45 {}\n# \u0026gt; Page 3211s, 777u, 3161e 112.29RU 3.3s 4.0MiB age 0212.09:06:02 {}\n# \u0026gt; Page 3003s, 663u, 3172e 110.33RU 3.4s 4.0MiB age 0211.04:09:12 {}\n# \u0026lt;chop\u0026gt;\n# \u0026gt; Page 2768s, 498u, 3153e 107.46RU 3.0s 4.0MiB age 0016.13:09:02 {}\n# \u0026gt; Page 2806s, 505u, 3198e 107.17RU 3.0s 4.0MiB age 0010.18:52:45 {}\n# \u0026gt; Page 2903s, 601u, 3188e 107.53RU 3.1s 4.0MiB age 0004.05:24:51 {}\n# \u0026gt; Page 2638s, 316u, 3019e 93.09RU 2.5s 3.4MiB age 0000.05:08:38 {}\n# \u0026gt; TOTALS 11c, 206,356s, 7,886.75RU R/W 290.4/290.4MiB 225.3s {}\n\n# Prepare a breakdown of which categories are using the most capacity within the store\neqx -Q top cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# Page 3276\u0026gt;3276i 3276s    0e 3991u 4.00\u0026gt;4.00\u0026lt;4.22MiB 103.74RU  3.5s D+M 5.1 C+C 0.00 201ms age 0000.00:33:13 {}\n# Page 3177\u0026gt;3177i 3177s    0e 4593u 4.00\u0026gt;4.01\u0026lt;4.20MiB 105.22RU  3.2s D+M 4.7 C+C 0.00 146ms age 0000.02:23:48 {}\n# Page 2708\u0026gt;2708i 2708s    0e 5044u 4.00\u0026gt;4.00\u0026lt;4.19MiB 105.76RU  3.4s D+M 4.5 C+C 0.00  84ms age 0002.23:10:55 {}\n...\n# Page 4334\u0026gt;4334i 4334s    0e 5038u 4.00\u0026gt;4.00\u0026lt;4.19MiB 112.59RU  2.9s D+M 4.2 C+C 0.00 109ms age 0000.00:00:59 {}\n# Page 1637\u0026gt;1637i 1637s    0e 2939u 2.40\u0026gt;2.41\u0026lt;2.52MiB  64.12RU  1.7s D+M 2.5 C+C 0.00  39ms age 0000.00:18:03 {}\n# TOTALS 47,200i 9c 47,200s 0e 79,262u read 0.1GiB output 0.1GiB JSON 0.1GiB D+M(inflated) 0.1GiB C+C 0.00MiB Parse 1.516s Total 1,750.73RU 54.2s {}\n#    24064i   40.75MiB E       0     0.0 U   48128    33.6 D+M   35.0 C+C   0.0 $Friend {}\n#     6372i   13.18MiB E       0     0.0 U   12744    11.4 D+M   23.9 C+C   0.0 $Tenant {}\n#     6374i    5.41MiB E       0     0.0 U    6374     3.6 D+M    5.4 C+C   0.0 $Role0 {}\n#     5992i    5.09MiB E       0     0.0 U    5992     3.4 D+M    5.1 C+C   0.0 $Role {}\n#     1574i    1.95MiB E       0     0.0 U    1574     1.5 D+M    2.0 C+C   0.0 $Permission {}\n#     1575i    1.79MiB E       0     0.0 U    3150     1.3 D+M    1.2 C+C   0.0 $User {}\n#      445i    0.51MiB E       0     0.0 U     483     0.4 D+M    0.8 C+C   0.0 $Invoice3 {}\n#      410i    0.46MiB E       0     0.0 U     423     0.3 D+M    0.8 C+C   0.0 $Invoice2 {}\n#      394i    0.44MiB E       0     0.0 U     394     0.3 D+M    0.7 C+C   0.0 $Invoice {}\n\n# Drill into the Friend data (different test data to preceding article)\neqx top -cn '$Friend' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# Page 4787\u0026gt;4787i 4787s    0e 4787u 4.00\u0026gt;4.00\u0026lt;4.19MiB 218.54RU  3.6s D+M 4.5 C+C 0.00 259ms age 0013.22:52:15 {}\n# Page 4955\u0026gt;4955i 4955s    0e 4955u 4.00\u0026gt;4.00\u0026lt;4.19MiB 200.20RU  3.2s D+M 4.1 C+C 0.00 202ms age 0013.22:52:18 {}\n# Page 4715\u0026gt;4715i 4715s    0e 4715u 4.00\u0026gt;4.00\u0026lt;4.21MiB 201.26RU  3.2s D+M 4.4 C+C 0.00 145ms age 0013.22:52:22 {}\n# Page 4884\u0026gt;4884i 4884s    0e 4884u 4.00\u0026gt;4.00\u0026lt;4.20MiB 198.97RU  3.2s D+M 4.1 C+C 0.00  95ms age 0013.22:52:31 {}\n# Page 4620\u0026gt;4620i 4620s    0e 4620u 4.00\u0026gt;4.00\u0026lt;4.20MiB 194.76RU  3.0s D+M 4.7 C+C 0.00 140ms age 0013.22:52:28 {}\n# Page 4840\u0026gt;4840i 4840s    0e 4840u 4.00\u0026gt;4.00\u0026lt;4.19MiB 198.43RU  3.2s D+M 4.2 C+C 0.00 136ms age 0013.22:52:34 {}\n# Page 4791\u0026gt;4791i 4791s    0e 4791u 4.00\u0026gt;4.00\u0026lt;4.21MiB 200.20RU  3.0s D+M 4.2 C+C 0.00 137ms age 0014.02:23:24 {}\n# Page 3906\u0026gt;3906i 3906s    0e 3906u 3.01\u0026gt;3.02\u0026lt;3.15MiB 158.28RU  2.6s D+M 2.9 C+C 0.00 142ms age 0013.23:13:51 {}\n# TOTALS 37,498i 1c 37,498s 0e 37,498u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 1.264s Total 1,570.64RU 30.0s {}\n#    37498i   32.55MiB E       0     0.1 U   37498    21.7 D+M   33.2 C+C   0.0 $Friend {}\n\n# DRY RUN of deleting (note no `-f` supplied)\neqx destroy -cn '$Friend' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# W Dry-run of deleting items based on SELECT c.p, c.id, ARRAYLENGTH(c.e) AS es, ARRAYLENGTH(c.u) AS us FROM c WHERE c.p LIKE \u0026quot;$Friend%\u0026quot; {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.21\u0026gt;0.76   415.07RRU   1.4s 0.00WRU/s   0.0s {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.48\u0026gt;0.76   404.70RRU   0.8s 0.00WRU/s   0.0s {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.32\u0026gt;0.76   395.36RRU   1.1s 0.00WRU/s   0.0s {}\n# I Page  7501\u0026gt; 7501i    7501s      0e   7501u    6.01\u0026gt;0.57   299.60RRU   1.0s 0.00WRU/s   0.0s {}\n# I TOTALS 37,498i 1c 37,498s 0e 37,498u read 31.0MiB output 2.9MiB 1,514.73RRU Avg 0.00WRU/s Delete 0.00WRU Total 7.8s {}\n\n# Whack them (note the `--force` supplied)\neqx destroy -cn '$Friend' --force cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# W DESTROYING all Items WHERE c.p LIKE \u0026quot;$ResourceRole%\u0026quot; {}\n# I .. Deleted  6347i    6347s      0e   6347u 1,671.52WRU/s   30.0s {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.21\u0026gt;0.76   415.17RRU   1.2s 1,678.54WRU/s  47.2s {}\n# I .. Deleted  6363i    6363s      0e   6363u 1,703.29WRU/s   30.0s {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.48\u0026gt;0.76   404.70RRU   1.1s 1,685.49WRU/s  47.8s {}\n# I .. Deleted  6001i    6001s      0e   6001u 1,571.94WRU/s   30.0s {}\n# I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.32\u0026gt;0.76   395.36RRU   1.0s 1,582.18WRU/s  50.1s {}\n^C           \n\n# Get impatient; up the concurrency (-w 192) from the default 32 (note the `--force` supplied)\neqx destroy -cn '$Friend' --force -w 192 cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# W DESTROYING all Items WHERE c.p LIKE \u0026quot;$ResourceRole%\u0026quot; {}\n# I Page  3946\u0026gt; 3946i    3946s      0e   3946u    3.05\u0026gt;0.30   176.23RRU   0.8s 5,107.71WRU/s   6.1s {}\n# I TOTALS 3,946i 1c 3,946s 0e 3,946u read 3.0MiB output 0.3MiB 176.23RRU Avg 3,058.48WRU/s Delete 31,360.10WRU Total 10.3s {}\n\n# Analyze the largest streams in the '$Permission' category \neqx top -S -cl '$Perm%' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER\n# I Page  254\u0026gt; 254i  254s    0e  254u 4.33\u0026gt;4.33\u0026lt;4.65MiB 349.76RU  3.9s D+M 8.2 C+C 0.00 105ms age 0013.23:34:02 {}\n# I Page 1671\u0026gt;1671i 1671s    0e 1671u 2.39\u0026gt;2.40\u0026lt;2.54MiB  91.57RU  2.1s D+M 2.9 C+C 0.00  99ms age 0013.23:34:07 {}\n# I TOTALS 1,925i 1,925c 1,925s 0e 1,925u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 0.207s Total 441.33RU 9.4s {}\n# I     1925i    7.19MiB E       0     0.0 U    1925     6.6 D+M   11.1 C+C   0.0 $Permission {}\n# I        1i    1.75MiB E       0     0.0 U       1     1.8 D+M    3.1 C+C   0.0 $Permission-5292b7cd524d509bb969bd82abf39461 {}\n# I        1i    1.38MiB E       0     0.0 U       1     1.4 D+M    2.5 C+C   0.0 $Permission-244b72fb0238595494b5cb3f9bd1abf7 {}\n# I        1i    0.79MiB E       0     0.0 U       1     0.8 D+M    1.5 C+C   0.0 $Permission-68a13e8398b352c5b8e22ec18ab2bbb6 {}\n# I        1i    0.57MiB E       0     0.0 U       1     0.6 D+M    1.1 C+C   0.0 $Permission-ea4d1f46014a5bf6bbd97d3ec5723266 {}\n# I        1i    0.13MiB E       0     0.0 U       1     0.1 D+M    0.2 C+C   0.0 $Permission-65b58d132ff857bb81b08a5bb69732d2 {}\n# I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-a7bcc3370ad15ae68041745ca55166cf {}\n# I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-03032ccf597857d9aa9c64b10288af8c {}\"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Add indexing of the `u`nfolds borne by Tip Items: 1) `c` for the case name 2) `d` for fields of uncompressed unfolds \u003c/span\u003e\neqx init \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003em serverless \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eindexunfolds cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_VIEWS\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e query all streams LIKE \"$User-%\" with `Snapshotted2` unfolds. Batches of up to 100,000 events\u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$User\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eun Snapshotted2 cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_VIEWS\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e100000\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e use a wild card (LIKE) for the stream name \u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecl \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Us%\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eun Snapshotted cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_VIEWS\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e100000\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE \"$Us%\" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \"Snapshotted\") {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 7166s, 7166u, 0e 320.58RU 3.9s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 1608s, 1608u, 0e 68.59RU 0.9s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; TOTALS 1c, 8774s, 389.17RU 4.7s {}   \u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Skip loading the _etag to simulate a query where you will only render the result (not `Transact` against it)\u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$User\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003em readonly \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eun Snapshotted cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_VIEWS\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e100000\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Querying ReadOnly: SELECT c.u FROM c WHERE c.p LIKE \"$User-%\" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \"Snapshotted\") {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 8774s, 8774u, 0e 342.33RU 3.8s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; TOTALS 0c, 8774s, 342.33RU 3.8s {} #  cheaper and only one batch as no .p or ._etag \u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e add criteria filtering based on an Uncompressed Unfold\u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$User\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eun EmailIndex \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003euc \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003eu.d.email = \"a@b.com\"\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_VIEWS\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e100000\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE \"$User-%\" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = \"EmailIndex\" AND u.d.email = \"a@b.com\") {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 0s, 0u, 0e 2.8RU 0.7s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; TOTALS 0c, 0s, 2.80RU 0.7s {} #  only 2.8RU if nothing is returned\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e DUMP ONE STREAM TO A FILE (equivalent to queries performed by CosmosStore.AccessStrategy.Unoptimized)\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Can be imported into another store via `propulsion sync cosmos from json`\u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003esn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003euser-f28fb6feea00550e93ca77b6f29899cd\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eo dump\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003euser.json cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e9999\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Dumping Raw content to ./dump-user.json {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Querying Raw: SELECT * FROM c WHERE c.p = \"user-f28fb6feea00550e93ca77b6f29899cd\" AND 1=1 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 9s, 1u, 10e 3.23RU 0.5s 0.0MiB age 0002.10:04:13 {} #  2.80 if no results, adds per KiB charge if there are results \u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; TOTALS 1c, 9s, 3.23RU R/W 0.0/0.0MiB 3.9s {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e DUMP FULL CONTENT OF THE CONTAINER TO A FILE\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Can be imported into another store via `propulsion sync cosmos from json`\u003c/span\u003e\neqx query \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eo ..\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003edump\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003e240216.\u003c/span\u003ejson cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eb \u003cspan class=\"pl-c1\"\u003e9999\u003c/span\u003e                             \n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Dumping Raw content to ~/dumps/dump-240216.json {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; No StreamName or CategoryName/CategoryLike specified - Unfold Criteria better be unambiguous {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Querying Raw: SELECT * FROM c WHERE 1=1 AND 1=1 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 2972s, 748u, 3112e 108.9RU 3.8s 4.0MiB age 0212.18:00:45 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 3211s, 777u, 3161e 112.29RU 3.3s 4.0MiB age 0212.09:06:02 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 3003s, 663u, 3172e 110.33RU 3.4s 4.0MiB age 0211.04:09:12 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026lt;chop\u0026gt;\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 2768s, 498u, 3153e 107.46RU 3.0s 4.0MiB age 0016.13:09:02 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 2806s, 505u, 3198e 107.17RU 3.0s 4.0MiB age 0010.18:52:45 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 2903s, 601u, 3188e 107.53RU 3.1s 4.0MiB age 0004.05:24:51 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; Page 2638s, 316u, 3019e 93.09RU 2.5s 3.4MiB age 0000.05:08:38 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e \u0026gt; TOTALS 11c, 206,356s, 7,886.75RU R/W 290.4/290.4MiB 225.3s {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Prepare a breakdown of which categories are using the most capacity within the store\u003c/span\u003e\neqx \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eQ top cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 3276\u0026gt;3276i 3276s    0e 3991u 4.00\u0026gt;4.00\u0026lt;4.22MiB 103.74RU  3.5s D+M 5.1 C+C 0.00 201ms age 0000.00:33:13 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 3177\u0026gt;3177i 3177s    0e 4593u 4.00\u0026gt;4.01\u0026lt;4.20MiB 105.22RU  3.2s D+M 4.7 C+C 0.00 146ms age 0000.02:23:48 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 2708\u0026gt;2708i 2708s    0e 5044u 4.00\u0026gt;4.00\u0026lt;4.19MiB 105.76RU  3.4s D+M 4.5 C+C 0.00  84ms age 0002.23:10:55 {}\u003c/span\u003e\n...\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4334\u0026gt;4334i 4334s    0e 5038u 4.00\u0026gt;4.00\u0026lt;4.19MiB 112.59RU  2.9s D+M 4.2 C+C 0.00 109ms age 0000.00:00:59 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 1637\u0026gt;1637i 1637s    0e 2939u 2.40\u0026gt;2.41\u0026lt;2.52MiB  64.12RU  1.7s D+M 2.5 C+C 0.00  39ms age 0000.00:18:03 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e TOTALS 47,200i 9c 47,200s 0e 79,262u read 0.1GiB output 0.1GiB JSON 0.1GiB D+M(inflated) 0.1GiB C+C 0.00MiB Parse 1.516s Total 1,750.73RU 54.2s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e    24064i   40.75MiB E       0     0.0 U   48128    33.6 D+M   35.0 C+C   0.0 $Friend {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     6372i   13.18MiB E       0     0.0 U   12744    11.4 D+M   23.9 C+C   0.0 $Tenant {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     6374i    5.41MiB E       0     0.0 U    6374     3.6 D+M    5.4 C+C   0.0 $Role0 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     5992i    5.09MiB E       0     0.0 U    5992     3.4 D+M    5.1 C+C   0.0 $Role {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     1574i    1.95MiB E       0     0.0 U    1574     1.5 D+M    2.0 C+C   0.0 $Permission {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e     1575i    1.79MiB E       0     0.0 U    3150     1.3 D+M    1.2 C+C   0.0 $User {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e      445i    0.51MiB E       0     0.0 U     483     0.4 D+M    0.8 C+C   0.0 $Invoice3 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e      410i    0.46MiB E       0     0.0 U     423     0.3 D+M    0.8 C+C   0.0 $Invoice2 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e      394i    0.44MiB E       0     0.0 U     394     0.3 D+M    0.7 C+C   0.0 $Invoice {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Drill into the Friend data (different test data to preceding article)\u003c/span\u003e\neqx top \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Friend\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4787\u0026gt;4787i 4787s    0e 4787u 4.00\u0026gt;4.00\u0026lt;4.19MiB 218.54RU  3.6s D+M 4.5 C+C 0.00 259ms age 0013.22:52:15 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4955\u0026gt;4955i 4955s    0e 4955u 4.00\u0026gt;4.00\u0026lt;4.19MiB 200.20RU  3.2s D+M 4.1 C+C 0.00 202ms age 0013.22:52:18 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4715\u0026gt;4715i 4715s    0e 4715u 4.00\u0026gt;4.00\u0026lt;4.21MiB 201.26RU  3.2s D+M 4.4 C+C 0.00 145ms age 0013.22:52:22 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4884\u0026gt;4884i 4884s    0e 4884u 4.00\u0026gt;4.00\u0026lt;4.20MiB 198.97RU  3.2s D+M 4.1 C+C 0.00  95ms age 0013.22:52:31 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4620\u0026gt;4620i 4620s    0e 4620u 4.00\u0026gt;4.00\u0026lt;4.20MiB 194.76RU  3.0s D+M 4.7 C+C 0.00 140ms age 0013.22:52:28 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4840\u0026gt;4840i 4840s    0e 4840u 4.00\u0026gt;4.00\u0026lt;4.19MiB 198.43RU  3.2s D+M 4.2 C+C 0.00 136ms age 0013.22:52:34 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 4791\u0026gt;4791i 4791s    0e 4791u 4.00\u0026gt;4.00\u0026lt;4.21MiB 200.20RU  3.0s D+M 4.2 C+C 0.00 137ms age 0014.02:23:24 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Page 3906\u0026gt;3906i 3906s    0e 3906u 3.01\u0026gt;3.02\u0026lt;3.15MiB 158.28RU  2.6s D+M 2.9 C+C 0.00 142ms age 0013.23:13:51 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e TOTALS 37,498i 1c 37,498s 0e 37,498u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 1.264s Total 1,570.64RU 30.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e    37498i   32.55MiB E       0     0.1 U   37498    21.7 D+M   33.2 C+C   0.0 $Friend {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e DRY RUN of deleting (note no `-f` supplied)\u003c/span\u003e\neqx destroy \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Friend\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e W Dry-run of deleting items based on SELECT c.p, c.id, ARRAYLENGTH(c.e) AS es, ARRAYLENGTH(c.u) AS us FROM c WHERE c.p LIKE \"$Friend%\" {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.21\u0026gt;0.76   415.07RRU   1.4s 0.00WRU/s   0.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.48\u0026gt;0.76   404.70RRU   0.8s 0.00WRU/s   0.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.32\u0026gt;0.76   395.36RRU   1.1s 0.00WRU/s   0.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  7501\u0026gt; 7501i    7501s      0e   7501u    6.01\u0026gt;0.57   299.60RRU   1.0s 0.00WRU/s   0.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I TOTALS 37,498i 1c 37,498s 0e 37,498u read 31.0MiB output 2.9MiB 1,514.73RRU Avg 0.00WRU/s Delete 0.00WRU Total 7.8s {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Whack them (note the `--force` supplied)\u003c/span\u003e\neqx destroy \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Friend\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eforce cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e W DESTROYING all Items WHERE c.p LIKE \"$ResourceRole%\" {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I .. Deleted  6347i    6347s      0e   6347u 1,671.52WRU/s   30.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.21\u0026gt;0.76   415.17RRU   1.2s 1,678.54WRU/s  47.2s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I .. Deleted  6363i    6363s      0e   6363u 1,703.29WRU/s   30.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.48\u0026gt;0.76   404.70RRU   1.1s 1,685.49WRU/s  47.8s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I .. Deleted  6001i    6001s      0e   6001u 1,571.94WRU/s   30.0s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  9999\u0026gt; 9999i    9999s      0e   9999u    8.32\u0026gt;0.76   395.36RRU   1.0s 1,582.18WRU/s  50.1s {}\u003c/span\u003e\n^C           \n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Get impatient; up the concurrency (-w 192) from the default 32 (note the `--force` supplied)\u003c/span\u003e\neqx destroy \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecn \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Friend\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eforce \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ew \u003cspan class=\"pl-c1\"\u003e192\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e W DESTROYING all Items WHERE c.p LIKE \"$ResourceRole%\" {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  3946\u0026gt; 3946i    3946s      0e   3946u    3.05\u0026gt;0.30   176.23RRU   0.8s 5,107.71WRU/s   6.1s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I TOTALS 3,946i 1c 3,946s 0e 3,946u read 3.0MiB output 0.3MiB 176.23RRU Avg 3,058.48WRU/s Delete 31,360.10WRU Total 10.3s {}\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Analyze the largest streams in the '$Permission' category \u003c/span\u003e\neqx top \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eS \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ecl \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e$Perm%\u003cspan class=\"pl-pds\"\u003e'\u003c/span\u003e\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed db \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-smi\"\u003e$EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page  254\u0026gt; 254i  254s    0e  254u 4.33\u0026gt;4.33\u0026lt;4.65MiB 349.76RU  3.9s D+M 8.2 C+C 0.00 105ms age 0013.23:34:02 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I Page 1671\u0026gt;1671i 1671s    0e 1671u 2.39\u0026gt;2.40\u0026lt;2.54MiB  91.57RU  2.1s D+M 2.9 C+C 0.00  99ms age 0013.23:34:07 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I TOTALS 1,925i 1,925c 1,925s 0e 1,925u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 0.207s Total 441.33RU 9.4s {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I     1925i    7.19MiB E       0     0.0 U    1925     6.6 D+M   11.1 C+C   0.0 $Permission {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    1.75MiB E       0     0.0 U       1     1.8 D+M    3.1 C+C   0.0 $Permission-5292b7cd524d509bb969bd82abf39461 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    1.38MiB E       0     0.0 U       1     1.4 D+M    2.5 C+C   0.0 $Permission-244b72fb0238595494b5cb3f9bd1abf7 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    0.79MiB E       0     0.0 U       1     0.8 D+M    1.5 C+C   0.0 $Permission-68a13e8398b352c5b8e22ec18ab2bbb6 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    0.57MiB E       0     0.0 U       1     0.6 D+M    1.1 C+C   0.0 $Permission-ea4d1f46014a5bf6bbd97d3ec5723266 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    0.13MiB E       0     0.0 U       1     0.1 D+M    0.2 C+C   0.0 $Permission-65b58d132ff857bb81b08a5bb69732d2 {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-a7bcc3370ad15ae68041745ca55166cf {}\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-03032ccf597857d9aa9c64b10288af8c {}\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse \u003ccode\u003epropulsion sync\u003c/code\u003e tool to run a CosmosDB ChangeFeedProcessor\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet tool uninstall Propulsion.Tool -g\ndotnet tool install Propulsion.Tool -g --prerelease\n\npropulsion init -ru 400 cosmos # generates a -aux container for the ChangeFeedProcessor to maintain consumer group progress within\n# -V for verbose ChangeFeedProcessor logging\n# `-g projector1` represents the consumer group - \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\n# stats specifies one only wants stats regarding items (other options include `kafka` to project to Kafka)\n# cosmos specifies source overrides (using defaults in step 1 in this instance)\npropulsion -V sync -g projector1 stats from cosmos\"\u003e\u003cpre\u003edotnet tool uninstall Propulsion.Tool \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg\ndotnet tool install Propulsion.Tool \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eprerelease\n\npropulsion init \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eru \u003cspan class=\"pl-c1\"\u003e400\u003c/span\u003e cosmos \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e generates a -aux container for the ChangeFeedProcessor to maintain consumer group progress within\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -V for verbose ChangeFeedProcessor logging\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `-g projector1` represents the consumer group - \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e stats specifies one only wants stats regarding items (other options include `kafka` to project to Kafka)\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e cosmos specifies source overrides (using defaults in step 1 in this instance)\u003c/span\u003e\npropulsion \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eV sync \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg projector1 stats \u003cspan class=\"pl-k\"\u003efrom\u003c/span\u003e cosmos\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate a CosmosDB ChangeFeedProcessor sample \u003ccode\u003e.fsproj\u003c/code\u003e (without Kafka producer/consumer), using \u003ccode\u003ePropulsion.CosmosStore\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet new -i Equinox.Templates\n\n# note the absence of -k means the projector code will be a skeleton that does no processing besides counting the events\ndotnet new proProjector\n\n# start one or more Projectors\n# `-g projector2` represents the consumer group; \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\n# cosmos specifies source overrides (using defaults in step 1 in this instance)\ndotnet run -- -g projector2 cosmos\"\u003e\u003cpre\u003edotnet new \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ei Equinox.Templates\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e note the absence of -k means the projector code will be a skeleton that does no processing besides counting the events\u003c/span\u003e\ndotnet new proProjector\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e start one or more Projectors\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `-g projector2` represents the consumer group; \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e cosmos specifies source overrides (using defaults in step 1 in this instance)\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg projector2 cosmos\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse \u003ccode\u003epropulsion\u003c/code\u003e tool to Run a CosmosDB ChangeFeedProcessor, emitting to a Kafka topic\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$env:PROPULSION_KAFKA_BROKER=\u0026quot;instance.kafka.mysite.com:9092\u0026quot; # or use -b\t\n# `-V` for verbose logging\t\n# `projector3` represents the consumer group; \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\t\n# `-l 5` to report ChangeFeed lags every 5 minutes\t\n# `kafka` specifies one wants to emit to Kafka\t\n# `temp-topic` is the topic to emit to\t\n# `cosmos` specifies source overrides (using defaults in step 1 in this instance)\t\npropulsion -V sync -g projector3 -l 5 kafka temp-topic from cosmos\t\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003ePROPULSION_KAFKA_BROKER\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003einstance.kafka.mysite.com:9092\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e or use -b\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `-V` for verbose logging\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `projector3` represents the consumer group; \u0026gt;=1 are allowed, allowing multiple independent projections to run concurrently\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `-l 5` to report ChangeFeed lags every 5 minutes\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `kafka` specifies one wants to emit to Kafka\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `temp-topic` is the topic to emit to\t\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e `cosmos` specifies source overrides (using defaults in step 1 in this instance)\t\u003c/span\u003e\npropulsion \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eV sync \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg projector3 \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003el \u003cspan class=\"pl-c1\"\u003e5\u003c/span\u003e kafka temp\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003etopic \u003cspan class=\"pl-k\"\u003efrom\u003c/span\u003e cosmos\t\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate CosmosDB \u003ca href=\"https://github.com/jet/propulsion#feeding-to-kafka\"\u003eKafka Projector and Consumer\u003c/a\u003e \u003ccode\u003e.fsproj\u003c/code\u003eects (using \u003ccode\u003ePropulsion.Kafka\u003c/code\u003e)\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"cat readme.md # more complete instructions regarding the code\n\n# -k requests inclusion of Apache Kafka support\nmd projector | cd\ndotnet new proProjector -k\n\n# start one or more Projectors (see above for more examples/info re the Projector.fsproj)\n\n$env:PROPULSION_KAFKA_BROKER=\u0026quot;instance.kafka.mysite.com:9092\u0026quot; # or use -b\n$env:PROPULSION_KAFKA_TOPIC=\u0026quot;topic0\u0026quot; # or use -t\ndotnet run -- -g projector4 -t topic0 cosmos\n\n# generate a consumer app\nmd consumer | cd\ndotnet new proConsumer\n\n# start one or more Consumers\n$env:PROPULSION_KAFKA_GROUP=\u0026quot;consumer1\u0026quot; # or use -g\ndotnet run -- -t topic0 -g consumer1\"\u003e\u003cpre\u003ecat readme.md \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e more complete instructions regarding the code\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -k requests inclusion of Apache Kafka support\u003c/span\u003e\nmd projector \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cd\ndotnet new proProjector \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ek\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e start one or more Projectors (see above for more examples/info re the Projector.fsproj)\u003c/span\u003e\n\n\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003ePROPULSION_KAFKA_BROKER\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003einstance.kafka.mysite.com:9092\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e or use -b\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003ePROPULSION_KAFKA_TOPIC\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003etopic0\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e or use -t\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg projector4 \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et topic0 cosmos\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e generate a consumer app\u003c/span\u003e\nmd consumer \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cd\ndotnet new proConsumer\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e start one or more Consumers\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$\u003cspan class=\"pl-c1\"\u003eenv:\u003c/span\u003ePROPULSION_KAFKA_GROUP\u003c/span\u003e\u003cspan class=\"pl-k\"\u003e=\u003c/span\u003e\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econsumer1\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e or use -g\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et topic0 \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg consumer1\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eGenerate an Archive container; Generate a ChangeFeedProcessor App to mirror desired streams from the Primary to it\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"# once\neqx init -ru 400 cosmos -c equinox-test-archive\n\nmd archiver | cd\n\n# Generate a template app that'll sync from the Primary (i.e. equinox-test)\n# to the Archive (i.e. equinox-test-archive)\ndotnet new proArchiver\n\n# TODO edit Handler.fs to add criteria for what to Archive\n# - Normally you won't want to Archive stuff like e.g. `Sync-` checkppoint streams\n# - Any other ephemeral application streams can be excluded too\n\n# -w 4 # constrain parallel writers in order to leave headroom for readers; Archive container should be cheaper to run\n# -S -t 40 # emit log messages for Sync calls costing \u0026gt; 40 RU\n# -md 20 (or lower) is recommended to be nice to the writers - the archiver can afford to lag\ndotnet run -c Release -- -w 4 -S -t 40 -g ArchiverConsumer `\n  cosmos -md 20 -c equinox-test -a equinox-test-aux `\n  cosmos -c equinox-test-archive \"\u003e\u003cpre\u003e\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e once\u003c/span\u003e\neqx init \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eru \u003cspan class=\"pl-c1\"\u003e400\u003c/span\u003e cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etest-archive\u003c/span\u003e\n\nmd archiver \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cd\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Generate a template app that'll sync from the Primary (i.e. equinox-test)\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e to the Archive (i.e. equinox-test-archive)\u003c/span\u003e\ndotnet new proArchiver\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e TODO edit Handler.fs to add criteria for what to Archive\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e - Normally you won't want to Archive stuff like e.g. `Sync-` checkppoint streams\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e - Any other ephemeral application streams can be excluded too\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -w 4 # constrain parallel writers in order to leave headroom for readers; Archive container should be cheaper to run\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -S -t 40 # emit log messages for Sync calls costing \u0026gt; 40 RU\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -md 20 (or lower) is recommended to be nice to the writers - the archiver can afford to lag\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec Release \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ew \u003cspan class=\"pl-c1\"\u003e4\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eS \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et \u003cspan class=\"pl-c1\"\u003e40\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg ArchiverConsumer \u003cspan class=\"pl-k\"\u003e`\u003c/span\u003e\n  cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003emd \u003cspan class=\"pl-c1\"\u003e20\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003etest \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ea equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etest-aux\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e`\u003c/span\u003e\n  cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etest-archive\u003c/span\u003e \u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUse a ChangeFeedProcessor driven from the Archive Container to Prune the Primary\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"md pruner | cd\n\n# Generate a template app that'll read from the Archive (i.e. equinox-test-archive)\n# and prune expired events from the Primary (i.e. equinox-test)\ndotnet new proPruner\n\n# TODO edit Handler.fs to add criteria for what to Prune\n# - While its possible to prune the minute it's archived, normally you'll want to allow a time lag before doing so\n\n# -w 2 # constrain parallel pruners in order to not consume RUs excessively on Primary\n# -md 10 (or lower) is recommended to contrain consumption on the Archive - Pruners lagging is rarely critical\ndotnet run -c Release -- -w 2 -g PrunerConsumer `\n  cosmos -md 10 -c equinox-test-archive -a equinox-test-aux `\n  cosmos -c equinox-test\"\u003e\u003cpre\u003emd pruner \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e cd\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Generate a template app that'll read from the Archive (i.e. equinox-test-archive)\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e and prune expired events from the Primary (i.e. equinox-test)\u003c/span\u003e\ndotnet new proPruner\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e TODO edit Handler.fs to add criteria for what to Prune\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e - While its possible to prune the minute it's archived, normally you'll want to allow a time lag before doing so\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -w 2 # constrain parallel pruners in order to not consume RUs excessively on Primary\u003c/span\u003e\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e -md 10 (or lower) is recommended to contrain consumption on the Archive - Pruners lagging is rarely critical\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec Release \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ew \u003cspan class=\"pl-c1\"\u003e2\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eg PrunerConsumer \u003cspan class=\"pl-k\"\u003e`\u003c/span\u003e\n  cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003emd \u003cspan class=\"pl-c1\"\u003e10\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etest-archive\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ea equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003etest-aux\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e`\u003c/span\u003e\n  cosmos \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec equinox\u003cspan class=\"pl-k\"\u003e-\u003c/span\u003etest\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-sqlstreamstore\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUse \u003ca href=\"https://github.com/SQLStreamStore/SQLStreamStore\"\u003eSqlStreamStore\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-use-sqlstreamstore\" class=\"anchor\" aria-label=\"Permalink: Use SqlStreamStore\" href=\"#use-sqlstreamstore\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eSqlStreamStore is provided in the samples and the \u003ccode\u003eeqx\u003c/code\u003e tool:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003ems\u003c/code\u003e, \u003ccode\u003emy\u003c/code\u003e, \u003ccode\u003epg\u003c/code\u003e flag to \u003ccode\u003eeqx loadtest\u003c/code\u003e, e.g. \u003ccode\u003eeqx loadtest -t cart -f 50 -d 5 -C -U ms -c \"sqlserverconnectionstring\" -s schema\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003ems\u003c/code\u003e, \u003ccode\u003emy\u003c/code\u003e, \u003ccode\u003epg\u003c/code\u003e flag to \u003ccode\u003eeqx dump\u003c/code\u003e, e.g. \u003ccode\u003eeqx dump -CU \"Favorites-ab25cc9f24464d39939000aeb37ea11a\" ms -c \"sqlserverconnectionstring\" -s schema\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003ems\u003c/code\u003e, \u003ccode\u003emy\u003c/code\u003e, \u003ccode\u003epg\u003c/code\u003e flag to Web sample, e.g. \u003ccode\u003edotnet run --project samples/Web/ -- my -c \"mysqlconnectionstring\"\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003ems\u003c/code\u003e, \u003ccode\u003emy\u003c/code\u003e, \u003ccode\u003epg\u003c/code\u003e flag to new \u003ccode\u003eeqx initsql\u003c/code\u003e command e.g. \u003ccode\u003eeqx initsql pg -c \"postgresconnectionstring\" -u p \"usercredentialsNotToBeLogged\" -s schema\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight highlight-source-powershell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"cd ~/code/equinox\n\n# set up the DB/schema\ndotnet run --project tools/Equinox.Tool -- initsql pg -c \u0026quot;connectionstring\u0026quot; -p \u0026quot;u=un;p=password\u0026quot; -s \u0026quot;schema\u0026quot;\n\n# run a benchmark\ndotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -C -U pg -c \u0026quot;connectionstring\u0026quot; -p \u0026quot;u=un;p=password\u0026quot; -s \u0026quot;schema\u0026quot;\n\n# run the webserver, -A to autocreate schema on connection\ndotnet run --project samples/Web/ -- my -c \u0026quot;mysqlconnectionstring\u0026quot; -A\n\n# set up the DB/schema\neqx initsql pg -c \u0026quot;connectionstring\u0026quot; -p \u0026quot;u=un;p=password\u0026quot; -s \u0026quot;schema\u0026quot;\n\n# run a benchmark\neqx loadtest -t saveforlater -f 50 -d 5 -C -U pg -c \u0026quot;connectionstring\u0026quot; -p \u0026quot;u=un;p=password\u0026quot; -s \u0026quot;schema\u0026quot; \neqx dump \u0026quot;SavedForLater-ab25cc9f24464d39939000aeb37ea11a\u0026quot; pg -c \u0026quot;connectionstring\u0026quot; -p \u0026quot;u=un;p=password\u0026quot; -s \u0026quot;schema\u0026quot; # show stored JSON (Guid shown in eqx loadtest output) \"\u003e\u003cpre\u003ecd ~\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003ecode\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003eequinox\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e set up the DB/schema\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject tools\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003eEquinox.Tool \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e initsql pg \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ep \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eu=un;p=password\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003es \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eschema\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run a benchmark\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec Release \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject tools\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003eEquinox.Tool \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e loadtest \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et saveforlater \u003cspan class=\"pl-k\"\u003e-f\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e50\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed \u003cspan class=\"pl-c1\"\u003e5\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eC \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eU pg \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ep \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eu=un;p=password\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003es \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eschema\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run the webserver, -A to autocreate schema on connection\u003c/span\u003e\ndotnet run \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003eproject samples\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003eWeb\u003cspan class=\"pl-k\"\u003e/\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e--\u003c/span\u003e my \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003emysqlconnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eA\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e set up the DB/schema\u003c/span\u003e\neqx initsql pg \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ep \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eu=un;p=password\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003es \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eschema\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run a benchmark\u003c/span\u003e\neqx loadtest \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003et saveforlater \u003cspan class=\"pl-k\"\u003e-f\u003c/span\u003e \u003cspan class=\"pl-c1\"\u003e50\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ed \u003cspan class=\"pl-c1\"\u003e5\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eC \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003eU pg \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ep \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eu=un;p=password\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003es \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eschema\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \neqx dump \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eSavedForLater-ab25cc9f24464d39939000aeb37ea11a\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e pg \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ec \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003econnectionstring\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003ep \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eu=un;p=password\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e-\u003c/span\u003es \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eschema\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e show stored JSON (Guid shown in eqx loadtest output) \u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-message-db\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUse \u003ca href=\"http://docs.eventide-project.org/user-guide/message-db/\" rel=\"nofollow\"\u003eMessageDB\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-use-messagedb\" class=\"anchor\" aria-label=\"Permalink: Use MessageDB\" href=\"#use-messagedb\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eMessageDb support is provided in the samples and the \u003ccode\u003eeqx\u003c/code\u003e tool:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003emdb\u003c/code\u003e flag to \u003ccode\u003eeqx loadtest\u003c/code\u003e, e.g. \u003ccode\u003eeqx loadtest -f 50 -d 5 -C -U mdb -c \"pgconnectionstring\"\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003emdb\u003c/code\u003e flag to \u003ccode\u003eeqx dump\u003c/code\u003e, e.g. \u003ccode\u003eeqx dump -CU \"Favorites-ab25cc9f24464d39939000aeb37ea11a\" mdb -c \"pgconnectionstring\"\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003emdb\u003c/code\u003e flag to Web sample, e.g. \u003ccode\u003edotnet run --project samples/Web/ -- mdb -c \"pgconnectionstring\"\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eEquinox does not provide utilities for configuring or installing MessageDB. See \u003ca href=\"http://docs.eventide-project.org/user-guide/message-db/install.html\" rel=\"nofollow\"\u003eMessageDB's installation documentation\u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIn addition to the default access strategy of reading the whole stream forwards in batches, the following access strategies are supported in MessageDb:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eAccesStrategy.LatestKnownEvent\u003c/code\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eUses message-db's \u003ccode\u003eget_last_stream_message\u003c/code\u003e API to only ever fetch the last event in a stream\u003c/li\u003e\n\u003cli\u003eThis is useful for aggregates whose entire state can be constructed from the latest event (e.g. a stream that stores checkpoints)\u003c/li\u003e\n\u003cli\u003eNOTE: The last event should be decodable by the supplied codec. Otherwise you'll receive the initial state.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eAccessStrategy.AdjacentSnapshots\u003c/code\u003e\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eGenerates and stores a snapshot event in an adjacent \u003ccode\u003e{Category}:snapshot-{StreamId}\u003c/code\u003e stream\u003c/li\u003e\n\u003cli\u003eThe generation happens every \u003ccode\u003ebatchSize\u003c/code\u003e events. This means the state of the stream can be reconstructed with exactly 2 round-trips to the database.\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eThe first round-trip fetches the most recent event of type \u003ccode\u003esnapshotEventCaseName\u003c/code\u003e from the snapshot stream.\u003c/li\u003e\n\u003cli\u003eThe second round-trip fetches \u003ccode\u003ebatchSize\u003c/code\u003e events from the position of the snapshot\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-dynamodb\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUse \u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html\" rel=\"nofollow\"\u003eAmazon DynamoDB\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-use-amazon-dynamodb\" class=\"anchor\" aria-label=\"Permalink: Use Amazon DynamoDB\" href=\"#use-amazon-dynamodb\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eDynamoDB is supported in the samples and the \u003ccode\u003eeqx\u003c/code\u003e tool equivalent to the CosmosDB support as described:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003edynamo\u003c/code\u003e source to \u003ccode\u003eeqx loadtest\u003c/code\u003e wherever \u003ccode\u003ecosmos\u003c/code\u003e works, e.g. \u003ccode\u003eeqx loadtest -t cart -f 50 -d 5 -CU dynamo -s http://localhost:8000 -t TableName\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003edynamo\u003c/code\u003e flag to \u003ccode\u003eeqx dump\u003c/code\u003e, e.g. \u003ccode\u003eeqx dump -CU \"Favorites-ab25cc9f24464d39939000aeb37ea11a\" dynamo\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003edynamo\u003c/code\u003e flag to Web sample, e.g. \u003ccode\u003edotnet run --project samples/Web/ -- dynamo -s http://localhost:8000\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ebeing able to supply \u003ccode\u003edynamo\u003c/code\u003e flag to \u003ccode\u003eeqx initaws\u003c/code\u003e command e.g. \u003ccode\u003eeqx initaws -r 10 -w 10 -s new dynamo -t TableName\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eThe tooling and samples in this repo default to using the following environment variables (see \u003ca href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html\" rel=\"nofollow\"\u003eAWS CLI UserGuide\u003c/a\u003e\nfor more detailed guidance as to specific configuration)\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$env:EQUINOX_DYNAMO_SERVICE_URL=\u0026quot;https://dynamodb.us-west-2.amazonaws.com\u0026quot; # Simulator: \u0026quot;http://localhost:8000\u0026quot;\n$env:EQUINOX_DYNAMO_ACCESS_KEY_ID=\u0026quot;AKIAIOSFODNN7EXAMPLE\u0026quot;\n$env:EQUINOX_DYNAMO_SECRET_ACCESS_KEY=\u0026quot;AwJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\u0026quot;\n$env:EQUINOX_DYNAMO_TABLE=\u0026quot;equinox-test\u0026quot;\n$env:EQUINOX_DYNAMO_TABLE_ARCHIVE=\u0026quot;equinox-test-archive\u0026quot;\"\u003e\u003cpre\u003e\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_DYNAMO_SERVICE_URL=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003ehttps://dynamodb.us-west-2.amazonaws.com\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Simulator: \"http://localhost:8000\"\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_DYNAMO_ACCESS_KEY_ID=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eAKIAIOSFODNN7EXAMPLE\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_DYNAMO_SECRET_ACCESS_KEY=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eAwJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_DYNAMO_TABLE=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eequinox-test\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_DYNAMO_TABLE_ARCHIVE=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eequinox-test-archive\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eTour of the tools/samples:\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"cd ~/code/equinox\n\n# start the simulator at http://localhost:8000 and an admin console at http://localhost:8001/\ndocker compose up dynamodb-local dynamodb-admin -d\n\n# Establish the table in us-east-1 - keys come from $EQUINOX_DYNAMO_ACCESS_KEY_ID and $EQUINOX_DYNAMO_SECRET_ACCESS_KEY\ndotnet run --project tools/Equinox.Tool -- initaws -r 10 -w 10 -s new dynamo -t TableName -su https://dynamodb.us-east-1.amazonaws.com\n\n# Check the status and get the streams ARN - keys come from AWS SDK config for us-east-1 region\ndotnet run --project tools/Equinox.Tool -- stats dynamo -t TableName -sr us-east-1\n\n# run a benchmark\ndotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -CU dynamo\n\n# run the webserver\ndotnet run --project samples/Web/ -- dynamo -t TableName\n\n# run a benchmark connecting to the webserver\neqx loadtest -t saveforlater -f 50 -d 5 -CU web\neqx dump \u0026quot;SavedForLater-ab25cc9f24464d39939000aeb37ea11a\u0026quot; dynamo # show stored JSON (Guid shown in eqx loadtest output) \"\u003e\u003cpre\u003e\u003cspan class=\"pl-c1\"\u003ecd\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e~\u003c/span\u003e/code/equinox\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e start the simulator at http://localhost:8000 and an admin console at http://localhost:8001/\u003c/span\u003e\ndocker compose up dynamodb-local dynamodb-admin -d\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Establish the table in us-east-1 - keys come from $EQUINOX_DYNAMO_ACCESS_KEY_ID and $EQUINOX_DYNAMO_SECRET_ACCESS_KEY\u003c/span\u003e\ndotnet run --project tools/Equinox.Tool -- initaws -r 10 -w 10 -s new dynamo -t TableName -su https://dynamodb.us-east-1.amazonaws.com\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Check the status and get the streams ARN - keys come from AWS SDK config for us-east-1 region\u003c/span\u003e\ndotnet run --project tools/Equinox.Tool -- stats dynamo -t TableName -sr us-east-1\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run a benchmark\u003c/span\u003e\ndotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -CU dynamo\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run the webserver\u003c/span\u003e\ndotnet run --project samples/Web/ -- dynamo -t TableName\n\n\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e run a benchmark connecting to the webserver\u003c/span\u003e\neqx loadtest -t saveforlater -f 50 -d 5 -CU web\neqx dump \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eSavedForLater-ab25cc9f24464d39939000aeb37ea11a\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e dynamo \u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e show stored JSON (Guid shown in eqx loadtest output) \u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eUseful articles\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TroubleshootingThrottling.html\" rel=\"nofollow\"\u003eTroubleshooting throttling issues in Amazon DynamoDB\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TroubleshootingLatency.html\" rel=\"nofollow\"\u003eTroubleshooting latency issues in Amazon DynamoDB\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBENCHMARKS\u003c/h3\u003e\u003ca id=\"user-content-benchmarks\" class=\"anchor\" aria-label=\"Permalink: BENCHMARKS\" href=\"#benchmarks\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eA key facility of this repo is being able to run load tests, either in process against a nominated store, or via HTTP to a nominated instance of \u003ccode\u003esamples/Web\u003c/code\u003e ASP.NET Core host app. The following test suites are implemented at present:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eFavorite\u003c/code\u003e - Simulate a very enthusiastic user that favorites something once per second\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ethe test generates an ever-growing state that can only be managed efficiently if you apply either caching, snapshotting or both\u003c/li\u003e\n\u003cli\u003eNB due to being unbounded, \u003ccode\u003eSnapshot\u003c/code\u003e and \u003ccode\u003eMultiSnapshot\u003c/code\u003e etc. (even \u003ccode\u003eRollingState\u003c/code\u003e or \u003ccode\u003eCustom\u003c/code\u003e) will eventually hit the Store's limits (4MB/event for EventStore, 3MB/Item (document) for CosmosDB)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eSaveForLater\u003c/code\u003e - Simulate a happy shopper that saves 3 items per second, and empties the Save For Later list whenever it is full (when it hits 50 items)\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eSnapshotting helps a lot\u003c/li\u003e\n\u003cli\u003eCaching is not as essential as it is for the \u003ccode\u003eFavorite\u003c/code\u003e test (as long as you have either caching or snapshotting, that is)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eTodo\u003c/code\u003e - Keeps a) getting the list b) adding an item c) clearing the list when it hits 1000 items.\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ethe \u003ccode\u003eCleared\u003c/code\u003e event acts as a natural event to use in the \u003ccode\u003eisOrigin\u003c/code\u003e check. This makes snapshotting less crucial than it is, for example, in the case of the \u003ccode\u003eFavorite\u003c/code\u003e test\u003c/li\u003e\n\u003cli\u003ethe \u003ccode\u003e-s\u003c/code\u003e parameter can be used to adjust the maximum item text length from the default (\u003ccode\u003e100\u003c/code\u003e, implying average length of 50)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eBUILDING\u003c/h2\u003e\u003ca id=\"user-content-building\" class=\"anchor\" aria-label=\"Permalink: BUILDING\" href=\"#building\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003ePlease note the \u003ca href=\"#quickstart\"\u003eQuickStart\u003c/a\u003e is probably the best way to gain an overview - these instructions are intended to illustrated various facilities of the build script for people making changes.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ebuild and run\u003c/h3\u003e\u003ca id=\"user-content-build-and-run\" class=\"anchor\" aria-label=\"Permalink: build and run\" href=\"#build-and-run\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eRun, including running the tests that assume you've got a local EventStore and pointers to a CosmosDB database and container prepared (see \u003ca href=\"#provisioning\"\u003ePROVISIONING\u003c/a\u003e):\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"./build.ps1\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e./build.ps1\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ebuild, skipping tests that require a Store instance\u003c/h3\u003e\u003ca id=\"user-content-build-skipping-tests-that-require-a-store-instance\" class=\"anchor\" aria-label=\"Permalink: build, skipping tests that require a Store instance\" href=\"#build-skipping-tests-that-require-a-store-instance\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"./build -s\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e./build -s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ebuild, skipping all tests\u003c/h3\u003e\u003ca id=\"user-content-build-skipping-all-tests\" class=\"anchor\" aria-label=\"Permalink: build, skipping all tests\" href=\"#build-skipping-all-tests\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"dotnet pack build.proj\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003edotnet pack build.proj\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ebuild, skip EventStore tests\u003c/h3\u003e\u003ca id=\"user-content-build-skip-eventstore-tests\" class=\"anchor\" aria-label=\"Permalink: build, skip EventStore tests\" href=\"#build-skip-eventstore-tests\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"./build -se\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e./build -se\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ebuild, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB\u003c/h3\u003e\u003ca id=\"user-content-build-skip-eventstore-tests-skip-auto-provisioning--de-provisioning-cosmosdb\" class=\"anchor\" aria-label=\"Permalink: build, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB\" href=\"#build-skip-eventstore-tests-skip-auto-provisioning--de-provisioning-cosmosdb\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"./build -se -scp\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e./build -se -scp\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRun EventStore benchmark on .NET Core (when provisioned)\u003c/h3\u003e\u003ca id=\"user-content-run-eventstore-benchmark-on-net-core-when-provisioned\" class=\"anchor\" aria-label=\"Permalink: Run EventStore benchmark on .NET Core (when provisioned)\" href=\"#run-eventstore-benchmark-on-net-core-when-provisioned\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eAt present, .NET Core seems to show comparable perf under normal load, but becomes very unpredictable under load. The following benchmark should produce pretty consistent levels of reads and writes, and can be used as a baseline for investigation:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\u0026amp; dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 1000 -d 5 -C -U es\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e\u0026amp; dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 1000 -d 5 -C -U es\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003erun Web benchmark\u003c/h3\u003e\u003ca id=\"user-content-run-web-benchmark\" class=\"anchor\" aria-label=\"Permalink: run Web benchmark\" href=\"#run-web-benchmark\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe CLI can drive the Store and TodoBackend samples in the \u003ccode\u003esamples/Web\u003c/code\u003e ASP.NET Core app. Doing so requires starting a web process with an appropriate store (EventStore in this example, but can be \u003ccode\u003ememory\u003c/code\u003e / omitted etc. as in the other examples)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ein Window 1\u003c/h4\u003e\u003ca id=\"user-content-in-window-1\" class=\"anchor\" aria-label=\"Permalink: in Window 1\" href=\"#in-window-1\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"\u0026amp; dotnet run -c Release --project samples/Web -- -C -U es\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e\u0026amp; dotnet run -c Release --project samples/Web -- -C -U es\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ein Window 2\u003c/h4\u003e\u003ca id=\"user-content-in-window-2\" class=\"anchor\" aria-label=\"Permalink: in Window 2\" href=\"#in-window-2\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"dotnet tool install -g Equinox.Tool --prerelease # only once\neqx loadtest -t saveforlater -f 200 web\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003edotnet tool install -g Equinox.Tool --prerelease # only once\neqx loadtest -t saveforlater -f 200 web\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003erun CosmosDB benchmark (when provisioned)\u003c/h3\u003e\u003ca id=\"user-content-run-cosmosdb-benchmark-when-provisioned\" class=\"anchor\" aria-label=\"Permalink: run CosmosDB benchmark (when provisioned)\" href=\"#run-cosmosdb-benchmark-when-provisioned\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"dotnet run --project tools/Equinox.Tool -- loadtest `\n  cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003edotnet run --project tools/Equinox.Tool -- loadtest `\n  cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePROVISIONING\u003c/h2\u003e\u003ca id=\"user-content-provisioning\" class=\"anchor\" aria-label=\"Permalink: PROVISIONING\" href=\"#provisioning\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProvisioning EventStore (when not using -s or -se)\u003c/h3\u003e\u003ca id=\"user-content-provisioning-eventstore-when-not-using--s-or--se\" class=\"anchor\" aria-label=\"Permalink: Provisioning EventStore (when not using -s or -se)\" href=\"#provisioning-eventstore-when-not-using--s-or--se\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThere's a \u003ccode\u003edocker-compose.yml\u003c/code\u003e file in the root, so installing \u003ccode\u003edocker-compose\u003c/code\u003e and then running \u003ccode\u003edocker-compose up\u003c/code\u003e rigs a local 3-node cluster, which is assumed to be configured for \u003ccode\u003eEquinox.EventStore.Integration\u003c/code\u003e and \u003ccode\u003eEquinox.EventStoreDb.Integration\u003c/code\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eFor more complete instructions, follow \u003ca href=\"https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose\" rel=\"nofollow\"\u003ehttps://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-provisioning-cosmosdb\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProvisioning CosmosDB (when not using build.ps1 -sc to skip verification)\u003c/h3\u003e\u003ca id=\"user-content-provisioning-cosmosdb-when-not-using-buildps1--sc-to-skip-verification\" class=\"anchor\" aria-label=\"Permalink: Provisioning CosmosDB (when not using build.ps1 -sc to skip verification)\" href=\"#provisioning-cosmosdb-when-not-using-buildps1--sc-to-skip-verification\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUsing Azure Cosmos DB Service\u003c/h4\u003e\u003ca id=\"user-content-using-azure-cosmos-db-service\" class=\"anchor\" aria-label=\"Permalink: Using Azure Cosmos DB Service\" href=\"#using-azure-cosmos-db-service\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"dotnet run --project tools/Equinox.Tool -- init -ru 400 `\n    cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER\n# Same for a Archive Container for integration testing of the archive store fallback mechanism\n$env:EQUINOX_COSMOS_CONTAINER_ARCHIVE=\u0026quot;equinox-test-archive\u0026quot;\ndotnet run --project tools/Equinox.Tool -- init -ru 400 `\n    cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER_ARCHIVE\"\u003e\u003cpre\u003edotnet run --project tools/Equinox.Tool -- init -ru 400 \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e    cosmos -s \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_CONNECTION -d \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_DATABASE -c \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_CONTAINER\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-c\"\u003e\u003cspan class=\"pl-c\"\u003e#\u003c/span\u003e Same for a Archive Container for integration testing of the archive store fallback mechanism\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_CONTAINER_ARCHIVE=\u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003eequinox-test-archive\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"pl-s\"\u003edotnet run --project tools/Equinox.Tool -- init -ru 400 \u003cspan class=\"pl-pds\"\u003e`\u003c/span\u003e\u003c/span\u003e\n    cosmos -s \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_CONNECTION -d \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_DATABASE -c \u003cspan class=\"pl-smi\"\u003e$env\u003c/span\u003e:EQUINOX_COSMOS_CONTAINER_ARCHIVE\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eUsing Cosmos Emulator on an Intel Mac\u003c/h4\u003e\u003ca id=\"user-content-using-cosmos-emulator-on-an-intel-mac\" class=\"anchor\" aria-label=\"Permalink: Using Cosmos Emulator on an Intel Mac\" href=\"#using-cosmos-emulator-on-an-intel-mac\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eNOTE There's \u003ca href=\"https://github.com/Azure/azure-cosmos-db-emulator-docker/issues/54#issuecomment-1399067365\" data-hovercard-type=\"issue\" data-hovercard-url=\"/Azure/azure-cosmos-db-emulator-docker/issues/54/hovercard\"\u003eno Apple Silicon emulator available as yet\u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eNOTE Have not tested with the Windows Emulator, but it should work with analogous steps.\u003c/p\u003e\n\u003cdiv class=\"highlight highlight-source-shell notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"docker compose up equinox-cosmos -d\nbash docker-compose-cosmos.sh\"\u003e\u003cpre\u003edocker compose up equinox-cosmos -d\nbash docker-compose-cosmos.sh\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eProvisioning SqlStreamStore\u003c/h3\u003e\u003ca id=\"user-content-provisioning-sqlstreamstore\" class=\"anchor\" aria-label=\"Permalink: Provisioning SqlStreamStore\" href=\"#provisioning-sqlstreamstore\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThere's a \u003ccode\u003edocker-compose.yml\u003c/code\u003e file in the root, so installing \u003ccode\u003edocker-compose\u003c/code\u003e and then running \u003ccode\u003edocker-compose up\u003c/code\u003e rigs local \u003ccode\u003eequinox-mssql\u003c/code\u003e, \u003ccode\u003eequinox-mysql\u003c/code\u003e and \u003ccode\u003eequinox-postgres\u003c/code\u003e servers and databases at known ports. \u003cem\u003eNOTE The \u003ccode\u003eEquinox.SqlStreamStore.*.Integration\u003c/code\u003e suites currently assume this is in place and will otherwise fail\u003c/em\u003e.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDEPROVISIONING\u003c/h2\u003e\u003ca id=\"user-content-deprovisioning\" class=\"anchor\" aria-label=\"Permalink: DEPROVISIONING\" href=\"#deprovisioning\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDeprovisioning (aka nuking) EventStore data resulting from tests to reset baseline\u003c/h3\u003e\u003ca id=\"user-content-deprovisioning-aka-nuking-eventstore-data-resulting-from-tests-to-reset-baseline\" class=\"anchor\" aria-label=\"Permalink: Deprovisioning (aka nuking) EventStore data resulting from tests to reset baseline\" href=\"#deprovisioning-aka-nuking-eventstore-data-resulting-from-tests-to-reset-baseline\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhile EventStore rarely shows any negative effects from repeated load test runs, it can be useful for various reasons to drop all the data generated by the load tests by casting it to the winds:-\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"# requires admin privilege\nrm $env:ProgramData\\chocolatey\\lib\\eventstore-oss\\tools\\data\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e# requires admin privilege\nrm $env:ProgramData\\chocolatey\\lib\\eventstore-oss\\tools\\data\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eDeprovisioning CosmosDB\u003c/h3\u003e\u003ca id=\"user-content-deprovisioning-cosmosdb\" class=\"anchor\" aria-label=\"Permalink: Deprovisioning CosmosDB\" href=\"#deprovisioning-cosmosdb\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ca href=\"#provisioning\"\u003eprovisioning\u003c/a\u003e step spins up RUs in CosmosDB for the Container, which will keep draining your account until you reach a spending limit (if you're lucky!). \u003cem\u003eWhen finished running any test, it's critical to drop the RU allocations back down again via some mechanism (either delete the container or reset the RU provision down to the lowest possible value)\u003c/em\u003e.\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eKill the container and/or database\u003c/li\u003e\n\u003cli\u003eUse the portal to change the allocation\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eRELEASING\u003c/h1\u003e\u003ca id=\"user-content-releasing\" class=\"anchor\" aria-label=\"Permalink: RELEASING\" href=\"#releasing\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e*The perfect is the enemy of the good; \u003ca href=\"https://github.com/jet/equinox/issues/80\" data-hovercard-type=\"issue\" data-hovercard-url=\"/jet/equinox/issues/80/hovercard\"\u003eall this should of course be automated, but the elephant will be consumed in small bites rather than waiting till someone does it perfectly\u003c/a\u003e. This documents the actual release checklist as it stands right now. Any small helping bites much appreciated  *\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTagging releases\u003c/h2\u003e\u003ca id=\"user-content-tagging-releases\" class=\"anchor\" aria-label=\"Permalink: Tagging releases\" href=\"#tagging-releases\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThis repo uses \u003ca href=\"https://github.com/adamralph/minver\"\u003eMinVer\u003c/a\u003e; \u003ca href=\"https://github.com/adamralph/minver#how-it-works\"\u003esee here\u003c/a\u003e for more information on how it works.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAll non-alpha releases derive from tagged commits on \u003ccode\u003emaster\u003c/code\u003e or \u003ccode\u003evX\u003c/code\u003e branch. The tag defines the nuget package id etc. that the release will bear (\u003ccode\u003edotnet pack\u003c/code\u003e uses the \u003ccode\u003eMinVer\u003c/code\u003e package to grab the value from the commit)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eChecklist\u003c/h2\u003e\u003ca id=\"user-content-checklist\" class=\"anchor\" aria-label=\"Permalink: Checklist\" href=\"#checklist\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e the Azure Pipelines script does not run the integration tests, so these need to be run manually via the following steps:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"#provisioning\"\u003eProvision\u003c/a\u003e:\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eSet environment variables x 4 for a CosmosDB database and container (you might need to \u003ccode\u003eeqx init\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eAdd a \u003ccode\u003eEQUINOX_COSMOS_CONTAINER_ARCHIVE\u003c/code\u003e environment variable referencing a separate (\u003ccode\u003eeqx init\u003c/code\u003e initialized) CosmosDB Container that will be used to house fallback events in the \u003ca href=\"https://github.com/jet/equinox/pull/247\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/247/hovercard\"\u003eFallback mechanism's tests\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker-compose up\u003c/code\u003e to start\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e3 servers for the \u003ccode\u003eSqlStreamStore.*.Integration\u003c/code\u003e test suites (NOTE: manual step for MS SQL)\u003c/li\u003e\n\u003cli\u003e3 \u003ccode\u003eEventStoreDB\u003c/code\u003e cluster nodes\u003c/li\u003e\n\u003cli\u003eDynamoDB local and admin images and (\u003ccode\u003edynamodb-local\u003c/code\u003e, \u003ccode\u003edynamodb-admin\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eRun \u003ccode\u003e./build.ps1\u003c/code\u003e in PowerShell (or PowerShell Core on MacOS via \u003ccode\u003ebrew install cask pwsh\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003ca href=\"/jet/equinox/blob/master/CHANGELOG.md\"\u003eCHANGELOG\u003c/a\u003e should be up to date\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003ecommit should be tagged (remember to do \u003ccode\u003egit push --tags\u003c/code\u003e when pushing)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003eafter the push has resulted in a successful build, click through from the commit on github thru to the Azure Pipelines build state and verify \u003cem\u003eall\u003c/em\u003e artifacts bear the correct version suffix (if the tags were not pushed alongside the commit, they can be wrong). Then, and only then, do the Release (which will upload to nuget.org using a nuget API key that has upload permissions for the packages)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eWhen adding new packages\u003c/em\u003e: For safety, the NuGet API Key used by the Azure DevOps Releases step can only upload new versions of existing packages. As a result, the first version of any new package needs to be manually uploaded out of band. (then invite jet.com to become owner so subsequent releases can do an automated upload [after the request has been (manually) accepted])\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eFAQ\u003c/h2\u003e\u003ca id=\"user-content-faq\" class=\"anchor\" aria-label=\"Permalink: FAQ\" href=\"#faq\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat \u003cem\u003eis\u003c/em\u003e Equinox?\u003c/h3\u003e\u003ca id=\"user-content-what-is-equinox\" class=\"anchor\" aria-label=\"Permalink: What is Equinox?\" href=\"#what-is-equinox\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eOK, I've read the README and the tagline. I still don't know what it does! Really, what's the TL;DR ?\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003esupports storing events in \u003ca href=\"https://eventstore.org\" rel=\"nofollow\"\u003eEventStore\u003c/a\u003e, including working with existing data you may have (that's where it got its start)\u003c/li\u003e\n\u003cli\u003eincludes a proprietary optimized Store implementation that only needs an empty Azure CosmosDB Account or Amazon DynamoDB Table to get going\u003c/li\u003e\n\u003cli\u003eprovides all the necessary infrastructure to build idempotent synchronous command processing against all of the stores; your Domain code intentionally doesn't need to reference \u003cem\u003eany\u003c/em\u003e Equinox modules whatsoever (although for smaller systems, you'll often group \u003ccode\u003eEvents\u003c/code\u003e+\u003ccode\u003eFold\u003c/code\u003e+\u003ccode\u003einterpret\u003c/code\u003e/\u003ccode\u003edecide\u003c/code\u003e+\u003ccode\u003eService\u003c/code\u003e in a single \u003ccode\u003emodule\u003c/code\u003e, which implies a reference to \u003ca href=\"/jet/equinox/blob/master/src/Equinox\"\u003ethe core \u003ccode\u003eEquinox\u003c/code\u003e package\u003c/a\u003e).\u003c/li\u003e\n\u003cli\u003efollowing on from the previous point: you just write the unit tests without any Equinox-specific hoops to jump through; this really works very well indeed, assuming you're writing the domain code and the tests in F#. If you're working in a more verbose language, you may end up building some test helpers. We don't envisage Equinox mandating a specific pattern on the unit testing side (consistent naming such as \u003ccode\u003eEvents.Event\u003c/code\u003e+\u003ccode\u003eevolve\u003c/code\u003e+\u003ccode\u003efold\u003c/code\u003e+\u003ccode\u003eCommand\u003c/code\u003e+\u003ccode\u003einterpret\u003c/code\u003e/\u003ccode\u003edecide\u003c/code\u003e can help though).\u003c/li\u003e\n\u003cli\u003eit helps with integration testing decision processes by\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003estaying out of your way as much as possible\u003c/li\u003e\n\u003cli\u003eproviding an in-memory store that implements the same interface as the concrete stores (CosmosDB, EventStore, etc.)  stores do\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThere is a projection story, but it's not baked in - any 3 proper architects can come up with at least 3 wrong and 3 right ways of running those:-\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eFor EventStore, you can use its' projections facilities directly. There's also a \u003ccode\u003ePropulsion.EventStore\u003c/code\u003e that serves the needs of \u003ccode\u003edotnet new proSync\u003c/code\u003e..\u003c/li\u003e\n\u003cli\u003efor CosmosDB, you use the \u003ccode\u003ePropulsion.CosmosStore\u003c/code\u003e libraries to consume the CosmosDB ChangeFeed using the \u003ccode\u003eMicrosoft.Azure.Cosmos\u003c/code\u003e library's change feed support (and, optionally, project to/consume from Kafka) using the sample app templates (\u003ccode\u003edotnet new proProjector\u003c/code\u003e).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eShould I use Equinox to learn event sourcing ?\u003c/h3\u003e\u003ca id=\"user-content-should-i-use-equinox-to-learn-event-sourcing-\" class=\"anchor\" aria-label=\"Permalink: Should I use Equinox to learn event sourcing ?\" href=\"#should-i-use-equinox-to-learn-event-sourcing-\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYou \u003cem\u003ecould\u003c/em\u003e. However the Equinox codebase itself is not designed to be a tutorial; it's extracted from production systems and optimized; there is no pedagogical mission. \u003ca href=\"https://github.com/thinkbeforecoding/FsUno.Prod\"\u003eFsUno.Prod\u003c/a\u003e on the other hand has this specific intention, walking though that is highly recommended. Also \u003ca href=\"https://eventstore.org/\" rel=\"nofollow\"\u003eEventStore\u003c/a\u003e, being a widely implemented and well-respected open source system has some excellent learning materials and documentation with a wide usage community (search for \u003ccode\u003eDDD-CQRS-ES\u003c/code\u003e Discord).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eHaving said that, we'd love to see a set of tutorials written by people looking from different angles, and over time will likely do one too ... there's no reason why the answer to this question can't become \"\u003cstrong\u003eof course!\u003c/strong\u003e\"\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCan I use it for really big projects?\u003c/h3\u003e\u003ca id=\"user-content-can-i-use-it-for-really-big-projects\" class=\"anchor\" aria-label=\"Permalink: Can I use it for really big projects?\" href=\"#can-i-use-it-for-really-big-projects\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYou can. Folks in Jet do; we also have systems where we have no plans to use it, or anything like it. That's OK; there are systems where having precise control over one's data access is critical. And (shush, don't tell anyone!) some find writing this sort of infrastructure to be a very fun design challenge that beats doing domain modelling any day...\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eCan I use it for really small projects and tiny microservices?\u003c/h3\u003e\u003ca id=\"user-content-can-i-use-it-for-really-small-projects-and-tiny-microservices\" class=\"anchor\" aria-label=\"Permalink: Can I use it for really small projects and tiny microservices?\" href=\"#can-i-use-it-for-really-small-projects-and-tiny-microservices\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYou can. Folks in Jet do; but we also have systems where we have no plans to use it, or anything like it as it would be overkill even for people familiar with Equinox.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eOK, but \u003cem\u003eshould\u003c/em\u003e I use Equinox for a small project ?\u003c/h3\u003e\u003ca id=\"user-content-ok-but-should-i-use-equinox-for-a-small-project-\" class=\"anchor\" aria-label=\"Permalink: OK, but should I use Equinox for a small project ?\" href=\"#ok-but-should-i-use-equinox-for-a-small-project-\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYou'll learn a lot from building your own equivalent wrapping layer. Given the array of concerns Equinox is trying to address, there's no doubt that a simpler solution is always possible if you constrain the requirements to specifics of your context with regard to a) scale b) complexity of domain c) degree to which you use or are likely to use \u0026gt;1 data store. You can and should feel free to grab slabs of Equinox's implementation and whack it into an \u003ccode\u003eInfrastructure.fs\u003c/code\u003e in your project too (note you should adhere to the rules of the \u003ca href=\"/jet/equinox/blob/master/LICENSE\"\u003eApache 2 license\u003c/a\u003e). If you find there's a particular piece you'd really like isolated or callable as a component and it's causing you pain as \u003ca href=\"https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)\" rel=\"nofollow\"\u003eyou're using it over and over in ~ \u0026gt;= 3 projects\u003c/a\u003e, please raise an Issue though !\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eHaving said that, getting good logging, some integration tests and getting lots of off-by-one errors off your plate is nice; the point of \u003ca href=\"https://github.com/ddd-cqrs-es/community\"\u003eDDD-CQRS-ES\u003c/a\u003e is to get beyond toy examples to the good stuff - Domain Modelling on your actual domain.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat client languages are supported ?\u003c/h3\u003e\u003ca id=\"user-content-what-client-languages-are-supported-\" class=\"anchor\" aria-label=\"Permalink: What client languages are supported ?\" href=\"#what-client-languages-are-supported-\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe main language in mind for consumption is of course F# - many would say that F# and event sourcing are a dream pairing; little direct effort has been expended polishing it to be comfortable to consume from other .NET languages, the \u003ccode\u003edotnet new eqxwebcs\u003c/code\u003e template represents the current state. In Equinox V4, the \u003ccode\u003eDeciderCore\u003c/code\u003e interface offers an interface that uses C#-friendly \u003ccode\u003eTask\u003c/code\u003e and \u003ccode\u003eFunc\u003c/code\u003e types (compared to \u003ccode\u003eDecider\u003c/code\u003e, which uses \u003ccode\u003easync\u003c/code\u003e and curried function signatures to provide an idiomatic F# experience, which is possible, but cumbersome to use from C#)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch2 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eYou say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?\u003c/h2\u003e\u003ca id=\"user-content-you-say-i-can-use-volatile-memory-for-integration-tests-could-this-also-be-used-for-learning-how-to-get-started-building-event-sourcing-programs-with-equinox\" class=\"anchor\" aria-label=\"Permalink: You say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?\" href=\"#you-say-i-can-use-volatile-memory-for-integration-tests-could-this-also-be-used-for-learning-how-to-get-started-building-event-sourcing-programs-with-equinox\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe \u003ccode\u003eMemoryStore\u003c/code\u003e is intended to implement the complete semantics of a durable store (aside from caching). The main benefit of using it is that any tests using it have zero environment dependencies. In some cases this can be very useful for demo apps or generators (rather than assuming a specific store at a specific endpoint and/or credentials, there is something to point at which does not require configuration or assumptions.). The single problem of course is that it's all in-process; the minute you stop the host, the items on your list will of course disappear. In general, EventStore is also an attractive option for prototyping; the open source edition is trivial to install and has a Web UI that lets you navigate events being produced etc.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eOK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?\u003c/h3\u003e\u003ca id=\"user-content-ok-so-it-supports-cosmosdb-dynamodb-eventstoredb-messagedb-and-sqlstreamstore-and-might-even-support-more-in-the-future-i-really-dont-intend-to-shift-datastores-period-why-would-i-take-on-this-complexity-only-to-get-the-lowest-common-denominator-\" class=\"anchor\" aria-label=\"Permalink: OK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?\" href=\"#ok-so-it-supports-cosmosdb-dynamodb-eventstoredb-messagedb-and-sqlstreamstore-and-might-even-support-more-in-the-future-i-really-dont-intend-to-shift-datastores-period-why-would-i-take-on-this-complexity-only-to-get-the-lowest-common-denominator-\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYes, you have decisions to make; Equinox is not a panacea - there is no one size fits all. While the philosophy of Equinox is a) provide an opinionated store-neutral \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#Programming-Model\"\u003eProgramming Model\u003c/a\u003e with a good pull toward a big \u003ca href=\"https://blog.codinghorror.com/falling-into-the-pit-of-success/\" rel=\"nofollow\"\u003epit of success\u003c/a\u003e, while not closing the door to using store-specific features where relevant, having a dedicated interaction is always going to afford you more power and control.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eIs there a guide to building the simplest possible hello world \"counter\" sample, that simply counts with an add and a subtract event?\u003c/h3\u003e\u003ca id=\"user-content-is-there-a-guide-to-building-the-simplest-possible-hello-world-counter-sample-that-simply-counts-with-an-add-and-a-subtract-event\" class=\"anchor\" aria-label=\"Permalink: Is there a guide to building the simplest possible hello world \u0026quot;counter\u0026quot; sample, that simply counts with an add and a subtract event?\" href=\"#is-there-a-guide-to-building-the-simplest-possible-hello-world-counter-sample-that-simply-counts-with-an-add-and-a-subtract-event\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eYes; \u003ca href=\"https://github.com/jet/equinox/blob/master/samples/Tutorial/Counter.fsx\"\u003e\u003ccode\u003eCounter.fsx\u003c/code\u003e in th Tutorial project in this repo\u003c/a\u003e. It may also be worth starting with the \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#api\"\u003eAPI Guide in DOCUMENTATION.md\u003c/a\u003e. An alternate way is to look at the \u003ccode\u003eTodo.fs\u003c/code\u003e files emitted by \u003ca href=\"https://github.com/jet/dotnet-templates\"\u003e\u003ccode\u003edotnet new equinoxweb\u003c/code\u003e\u003c/a\u003e in the \u003ca href=\"#quickstart\"\u003eQuickStart\u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-why-snapshots-in-stream\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhy do the snapshots go in the same stream in \u003ccode\u003eEquinox.EventStore\u003c/code\u003e and \u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e ?  \u003ca href=\"https://github.com/chrisjhoare\"\u003e@chrisjhoare\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-why-do-the-snapshots-go-in-the-same-stream-in-equinoxeventstore-and-equinoxsqlstreamstore--pray-chrisjhoare\" class=\"anchor\" aria-label=\"Permalink: Why do the snapshots go in the same stream in Equinox.EventStore and Equinox.SqlStreamStore ? :pray: @chrisjhoare\" href=\"#why-do-the-snapshots-go-in-the-same-stream-in-equinoxeventstore-and-equinoxsqlstreamstore--pray-chrisjhoare\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eI've been looking through the snapshotting code recently. Can see the snapshot events go in the same stream as regular events. Presume this is to save on operations to read/write the streams? and a bit less overhead maintaining two serializers? Are there any other advantages? I quite like it this way but think i saw the \u003ca href=\"https://eventstore.org\" rel=\"nofollow\"\u003egeteventstore\u003c/a\u003e advice was separate streams so just interested in any other reasoning behind it\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe reason GES recommends against is that the entire db is built on writing stuff once in an append only manner (which is a great design from most aspects). This means your choices are:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eembed snapshots in the same stream, but do that sparingly, as you can't delete them (implemented in Equinox as \u003ccode\u003eAccessStrategy.RollingSnapshots\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003ekeep snapshots elsewhere (typically in a sister stream with the max items set to 1\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ewhich the EventStoreDB background scavenging process will tidy up (but it ain't free)\u003c/li\u003e\n\u003cli\u003ewhich is a separate roundtrip (which is not the end of the world in GES but is still another thing to go wrong)\u003c/li\u003e\n\u003cli\u003ewhich can't be written as a transaction, i.e. you'd need to write the snapshot after (and only after) a successful write (and worry about inconsistency)\nThat general advice/trade-offs on snapshotting applies to most systems.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eThe answer as to why that strategy is available in in \u003ccode\u003eEquinox.EventStore\u003c/code\u003e is for based on use cases (the second strategy was actually implemented in a bespoke manner initially by \u003ca href=\"https://github.com/eiriktsarpalis\"\u003e@eiriktsarpalis\u003c/a\u003e:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003estreams like \u003ccode\u003eFavorites\u003c/code\u003e where every event is small (add sku, drop sku), and the snapshot is pretty compact (list of skus) (but note it is ever growing)\u003c/li\u003e\n\u003cli\u003estreams like \u003ccode\u003eSavedForLater\u003c/code\u003e items where the state rolls over regularly - even after 5 years and 1000s of items moving in and out, there's a constraint of max 50 items which makes a snapshot pretty light. (The other trick is that a \u003ccode\u003eCleared\u003c/code\u003e event counts as a valid starting state for the fold - and we don't write a snapshot if we have one of those)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eThe big win is latency in querying contexts - given that access strategy, you're guaranteed to be able to produce the full state of the aggregate with a single roundtrip (if max batch size is 200, the snapshots are written every 200 items so reading backward 200 guarantees a snapshot will be included)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe secondary benefit is of course that you have an absolute guarantee there will always be a snapshot, and if a given write succeeds, there will definitely be a snapshot in the \u003ccode\u003emaxBatchSize\u003c/code\u003e window (but it still copes if there isn't - i.e. you can add snapshotting after the fact)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e implements this scheme too - it's easier to do things like e.g. replace the bodies of snapshot events with \u003ccode\u003enulls\u003c/code\u003e as a maintenance task in that instance\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eInitially, \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e implemented the same strategy as the \u003ccode\u003eEquinox.EventStore\u003c/code\u003e (it started as a cut and paste of the it). However the present implementation takes advantage of the fact that in a Document Store, you can ... update documents - thus, snapshots (termed unfolds) are saved in a custom field (it's an array) in the Tip document - every update includes an updated snapshot (which is zipped to save read and write costs) that overwrites the unfolds entirely. You're currently always guaranteed that the snapshots are in sync with the latest event by virtue of how the stored proc writes. The DynamoDB impl follows the same strategy.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eI expand (too much!) on some more of the considerations in \u003ca href=\"https://github.com/jet/equinox/blob/master/DOCUMENTATION.md\"\u003ehttps://github.com/jet/equinox/blob/master/DOCUMENTATION.md\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe other thing that should be pointed out is the caching can typically cover a lot of perf stuff as long as stream lengths stay sane - Snapshotting (esp polluting the stream with snapshot events should definitely be toward the bottom of your list of tactics for managing a stream efficiently given long streams are typically a design smell)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eNOTE The newer \u003ccode\u003eEquinox.MessageDb\u003c/code\u003e store binding implements snapshotting as separated events in a separate category.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-changing-access-strategy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eChanging Access / Representation strategies in \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e - what happens?\u003c/h3\u003e\u003ca id=\"user-content-changing-access--representation-strategies-in-equinoxcosmosstore---what-happens\" class=\"anchor\" aria-label=\"Permalink: Changing Access / Representation strategies in Equinox.CosmosStore - what happens?\" href=\"#changing-access--representation-strategies-in-equinoxcosmosstore---what-happens\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eDoes Equinox adapt the stream if we start writing with \u003ccode\u003eEquinox.CosmosStore.AccessStrategy.RollingState\u003c/code\u003e and change to \u003ccode\u003eSnapshotted\u003c/code\u003e for instance? It could take the last RollingState writing and make the first snapshot ?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003ewhat about the opposite? It deletes all events and start writing \u003ccode\u003eRollingState\u003c/code\u003e ?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eTL;DR yes and no respectively\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSome context\u003c/h4\u003e\u003ca id=\"user-content-some-context\" class=\"anchor\" aria-label=\"Permalink: Some context\" href=\"#some-context\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eFirstly, it's recommended to read the \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#access-strategies\"\u003edocumentation section on Access Strategies\u003c/a\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eGeneral rules:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eEvents are the atoms from which state is built, they live forever in immutable Batch documents.\u003c/li\u003e\n\u003cli\u003eThere is a special Batch with \u003ccode\u003eid = \"-1\"\u003c/code\u003e, entitled the \u003cem\u003eTip\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003eSnapshots/unfolds live in the \u003ccode\u003e.u\u003c/code\u003e array in the Tip doc.\nloading/build of state is composed of\u003c/li\u003e\n\u003cli\u003eregardless of what happens, Events are \u003cem\u003enever\u003c/em\u003e destroyed, updated or touched in any way, ever. Having said that, if your Event DU does not match them, they're also as good as not there from the point of view of how State is established.\u003c/li\u003e\n\u003cli\u003eReads always get the \u003ccode\u003eTip\u003c/code\u003e first (one exception: \u003ccode\u003eUnoptimized\u003c/code\u003e mode skips reading the \u003ccode\u003eTip\u003c/code\u003e as, by definition, you're not using snapshots/unfolds/any tricks), Writes always touch the \u003ccode\u003eTip\u003c/code\u003e (yes, even in \u003ccode\u003eUnoptimized\u003c/code\u003e mode; there's no such thing as a stream that has ever been written to that does not have a \u003ccode\u003eTip\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eIn the current implementation, the calling code in the server figures out everything that's going to go in the \u003cdel\u003esnapshots\u003c/del\u003e unfolds list if this sync is successful.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eThe high level skeleton of the loading in a given access strategy is:\na) load and decode unfolds from tip (followed by events, if and only if necessary)\nb) offer the events to an \u003ccode\u003eisOrigin\u003c/code\u003e function to allow us to stop when we've got a start point (a Reset Event, a relevant snapshot, or, failing that, the start of the stream)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIt may be helpful to look at \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox.CosmosStore/CosmosStore.fs#L1295\"\u003ehow an \u003ccode\u003eAccessStrategy\u003c/code\u003e is mapped to \u003ccode\u003eisOrigin\u003c/code\u003e, \u003ccode\u003etoSnapshot\u003c/code\u003e and \u003ccode\u003etransmute\u003c/code\u003e lambdas internally\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAaand answering the question\u003c/h4\u003e\u003ca id=\"user-content-aaand-answering-the-question\" class=\"anchor\" aria-label=\"Permalink: Aaand answering the question\" href=\"#aaand-answering-the-question\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhenever a State is being built, it always loads \u003ccode\u003eTip\u003c/code\u003e first and shows any \u003cdel\u003eevents\u003c/del\u003e \u003cdel\u003esnapshots\u003c/del\u003e \u003cem\u003eunfolds\u003c/em\u003e in there...\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIf \u003ccode\u003eisOrigin\u003c/code\u003e says no to those and/or the \u003ccode\u003eEventType\u003c/code\u003es of those unfolds are not in the union / event type to which the codec is mapping, the next thing is a query backwards of the Batches of events, in order.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAll those get pushed onto a stack until we either hit the start, or \u003ccode\u003eisOrigin\u003c/code\u003e says - yes, we can start from here (at which point all the decoded events are then passed (in forward order) to the \u003ccode\u003efold\u003c/code\u003e to make the \u003ccode\u003e'state\u003c/code\u003e).\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSo, if you are doing \u003ccode\u003eRollingState\u003c/code\u003e or any other mode, there are still events and unfolds; and they all have \u003ccode\u003eEventType\u003c/code\u003es - there are just some standard combos of steps that happen.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIf the \u003ccode\u003eEventType\u003c/code\u003e of the Event or Unfold matches, the \u003ccode\u003efold\u003c/code\u003e/\u003ccode\u003eevolve\u003c/code\u003e will see them and build \u003ccode\u003e'state\u003c/code\u003e from that.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThen, whenever you emit events from a \u003ccode\u003edecide\u003c/code\u003e or \u003ccode\u003einterpret\u003c/code\u003e, the \u003ccode\u003eAccessStrategy\u003c/code\u003e will define what happens next; a mix of:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ewrite actual events (not if \u003ccode\u003eRollingState\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003ewrite updated unfolds/snapshots\u003c/li\u003e\n\u003cli\u003eremove or adjust events before they get passed down to the \u003ccode\u003esync\u003c/code\u003e stored procedure (\u003ccode\u003eCustom\u003c/code\u003e, \u003ccode\u003eRollingState\u003c/code\u003e, \u003ccode\u003eLatestKnownEvent\u003c/code\u003e modes)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eOuch, not looking forward to reading all that logic :frown: ? \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox.CosmosStore/CosmosStore.fs#1109\"\u003eHave a read, it's really not that \u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-how-is-expectedversion-managed\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eHelp me understand how the \u003ccode\u003eexpectedVersion\u003c/code\u003e is used with EventStoreDB - it seems very confusing  \u003ca href=\"https://github.com/dharmaturtle\"\u003e@dharmaturtle\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-help-me-understand-how-the-expectedversion-is-used-with-eventstoredb---it-seems-very-confusing-pray-dharmaturtle\" class=\"anchor\" aria-label=\"Permalink: Help me understand how the expectedVersion is used with EventStoreDB - it seems very confusing :pray: @dharmaturtle\" href=\"#help-me-understand-how-the-expectedversion-is-used-with-eventstoredb---it-seems-very-confusing-pray-dharmaturtle\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eI'm having some trouble understanding how Equinox+ESDB handles \"expected version\". Most of the examples use \u003ccode\u003eEquinox.Decider.Transact\u003c/code\u003e which is storage agnostic and doesn't offer any obvious concurrency checking. In \u003ccode\u003eEquinox.EventStore.Context\u003c/code\u003e, there's a \u003ccode\u003eSync\u003c/code\u003e that takes a \u003ccode\u003eToken\u003c/code\u003e which holds a \u003ccode\u003estreamVersion\u003c/code\u003e. Should I be be using that instead of \u003ccode\u003eTransact\u003c/code\u003e?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eThe bulk of the implementation is in \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox/Stream.fs#L32\"\u003e\u003ccode\u003eEquinox/Stream.fs\u003c/code\u003e\u003c/a\u003e, see the \u003ccode\u003elet run\u003c/code\u003e function.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThere are \u003ca href=\"https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#code-diagrams-for-equinoxeventstore--equinoxsqlstreamstore\"\u003esequence diagrams in Documentation MD\u003c/a\u003e but I'll summarize here:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eAs you suggest, \u003ccode\u003eTransact\u003c/code\u003e is definitely the API you want to be be using\u003c/li\u003e\n\u003cli\u003eThe assumption in Equinox is that you \u003cem\u003ealways\u003c/em\u003e want to do a version check - if you don't, you can't process idempotently, why incur the cost of an ordered append only store? (there is a lower \u003ccode\u003eSync\u003c/code\u003e operation which does a blind write to the store in \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e which allows you to do a non-version-checked write in that context (its implemented and exposed as the stored procedure needs to handle the concept). For EventStoreDB, if you have such a special case, you can use its APIs directly)\u003c/li\u003e\n\u003cli\u003eThe inner API with the \u003ccode\u003eSync\u003c/code\u003e is the 'store interface' which represents the actual processing needed to do a version-checked write (The \u003ccode\u003eSync\u003c/code\u003e one does not handle retries and is only used for the last attempt, when there are no subsequent retries)\u003c/li\u003e\n\u003cli\u003eThe main reason for the separation is that no ephemeral state is held by Equinox in anything like e.g. Unit Of Work during the course of a \u003ccode\u003edecide\u003c/code\u003e function being invoked - the \u003ccode\u003e(token,state)\u003c/code\u003e tuple represents all the things known at the point of loading, and the \u003ccode\u003eSync\u003c/code\u003e can use anything it stashed in there when it has proposed events passed to it, as the contract involves the caller resupplying that context.\u003c/li\u003e\n\u003cli\u003eAnother consideration is that its easy to introduce off by one errors when there's an expectedVersion in play, so encapsulating this is no bad thing (in addition to it being something that you don't want to be passing around in your domain logic)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eBut why, you might ask? the API is designed such that the token can store any kind of state relevant to the \u003ccode\u003eSync\u003c/code\u003e operation.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003ea. for SqlStreamStore and EventStore, when writing rolling snapshots, we need to retain the index of the last Rolling Snapshot that was written, if we encountered it during loading (e.g. if we read V198-100 and there was a snapshot at at V101, then we need to write a new one iff the events we are writing would make event 101 be \u0026gt; batchSize events away, i.e. we need to always include a RollingSnapshot to maintain the \"if you read the last page, it will include a rolling snapshot\" guarantee)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eb. for CosmosDB, the \u003ccode\u003eexpectedVersion\u003c/code\u003e can actually be an \u003ccode\u003eexpectedEtag\u003c/code\u003e - this is how \u003ccode\u003eAccessStrategy.RollingState\u003c/code\u003e works - this allows one to update Unfolds without having to add an event every time just to trigger a change in the version\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e(The second usage did not necessitate an interface change - i.e. the Token mechanism was introduced to handle the first case, and just happened to fit the second case)\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eAlternatively, I'm seeing in \u003ccode\u003eproReactor\u003c/code\u003e that there's a \u003ccode\u003edecide\u003c/code\u003e that does version checking. Is this recommended? \u003ca href=\"https://github.com/jet/dotnet-templates/blob/3329510601450ab77bcc40df7a407c5f0e3c8464/propulsion-reactor/TodoSummary.fs#L30-L52\"\u003ecode\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eIf you need to know the version in your actual handler, QueryEx and other such APIs alongside Transact expose it (e.g. if you want to include a version to accompany a directly rendered piece of data). (Note that doing this - including a version in a rendering of something should not be a goto strategy - i.e. having APIs that pass around expectedVersion is not a good idea in general)\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eThe typical case for using the version in the output is to be able to publish a versioned summary on a feed, so someone else can build a version-checking idempotent Ingester..... Which brings us to:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eFor that particular reactor, a different thing is going on though: the input value is versioned, and we don't write if the value is in date e.g. if you reset the checkpoint on the projector, it can re-run all the work idempotently:\u003c/p\u003e\n\u003cp dir=\"auto\"\u003ea. version 3 of something is never temporarily overwritten with V2 and then V3\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eb. no redundant writes take place (and no expensive RU costs are incurred in Cosmos)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat kind of values does \u003ccode\u003eISyncContext.Version\u003c/code\u003e return; i.e. what numeric value is yielded for an empty stream?  \u003ca href=\"https://github.com/ragiano215\"\u003e@ragiano215\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-what-kind-of-values-does-isynccontextversion-return-ie-what-numeric-value-is-yielded-for-an-empty-stream-pray-ragiano215\" class=\"anchor\" aria-label=\"Permalink: What kind of values does ISyncContext.Version return; i.e. what numeric value is yielded for an empty stream? :pray: @ragiano215\" href=\"#what-kind-of-values-does-isynccontextversion-return-ie-what-numeric-value-is-yielded-for-an-empty-stream-pray-ragiano215\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eIndependent of the backing store being used, Equinox uses \u003ccode\u003e0\u003c/code\u003e-based versioning, i.e. the version value is equal to the number of events in the stream. Each event's \u003ccode\u003eIndex\u003c/code\u003e is \u003ccode\u003e0\u003c/code\u003e-based, akin to how a .NET array is numbered:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e1\u003c/code\u003e when the first event is written\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cem\u003e\u003ccode\u003e0\u003c/code\u003e when there's no events\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eSide note: for contrast, EventStoreDB employs a different (\u003ccode\u003e-1\u003c/code\u003e-based) scheme in order to have \u003ccode\u003e-1\u003c/code\u003e/\u003ccode\u003e-2\u003c/code\u003e etc represent various \u003ccode\u003eexpectedVersion\u003c/code\u003e conditions\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003cstrong\u003e\u003ccode\u003e0\u003c/code\u003e when the first event is written to the stream\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cem\u003e\u003ccode\u003e-1\u003c/code\u003e when the stream exists and is empty but has metadata defined\u003c/em\u003e\u003c/li\u003e\n\u003cli\u003e\u003cem\u003e\u003ccode\u003e-2\u003c/code\u003e when the stream doesn't exist\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eNote that for \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e with a\n\u003ca href=\"https://github.com/jet/dotnet-templates/tree/master/propulsion-pruner\"\u003epruner\u003c/a\u003e-\u003ca href=\"https://github.com/jet/dotnet-templates/tree/master/propulsion-archiver\"\u003earchiver\u003c/a\u003e\npair configured, the primary store may have been stripped of events due to the operation of the pruner.\nIn this case, it will however retain the version of the stream in the tip document, and if that's non-\u003ccode\u003e0\u003c/code\u003e,\nwill attempt to load the archived events from the Archive store.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat is Equinox's behavior if one does a \u003ccode\u003eQuery\u003c/code\u003e on a 'non-existent' stream?  \u003ca href=\"https://github.com/ragiano215\"\u003e@ragiano215\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-what-is-equinoxs-behavior-if-one-does-a-query-on-a-non-existent-stream-pray-ragiano215\" class=\"anchor\" aria-label=\"Permalink: What is Equinox's behavior if one does a Query on a 'non-existent' stream? :pray: @ragiano215\" href=\"#what-is-equinoxs-behavior-if-one-does-a-query-on-a-non-existent-stream-pray-ragiano215\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eExample: I have an app serving a GET endpoint for a customer order, but the id supplied within the URL is for an order that hasn't yet been created.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eNote firstly that Equinox treats a non-existent stream as an empty stream. For the use case stated, it's first\nrecommended that the state is defined to represent this non-existent / uninitialized phase, e.g.: defining a DU with a\nvariant \u003ccode\u003eInitial\u003c/code\u003e, or in some way following the \u003ca href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow\"\u003eNull Object Pattern\u003c/a\u003e.\nThis value would thus be used as the \u003ccode\u003eFold.initial\u003c/code\u003e for the Category. The app will use a \u003ccode\u003e.Query\u003c/code\u003e/\u003ccode\u003e.QueryEx\u003c/code\u003e on the relevant Decider,\nand Equinox will supply the \u003cem\u003einitial\u003c/em\u003e value for the \u003ccode\u003eproject\u003c/code\u003e function to render from (as a pattern match).\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eSide note: the original question is for a read operation, but there's an interesting consideration if we are doing a \u003ccode\u003eTransact\u003c/code\u003e. Say,\nfor instance, that there's a PUT API endpoint where the code would register a fresh customer order for the customer in its order list\nvia the Decider's \u003ccode\u003eTransact\u003c/code\u003e operation. As an optimization, one can utilize the \u003ccode\u003eAssumeEmpty\u003c/code\u003e hint as the \u003ccode\u003eEquinox.LoadOption\u003c/code\u003e to\nhint that it's worth operating on the assumption that the stream is empty. When the internal sync operation attempts to perform the write,\nthat assumption will be tested; every write is always version checked.\nIn the scenario where we are dealing with a rerun of an attempt to create an order (lets say the call timed out, but the processing actually\nconcluded successfully on another node of the API server cluster just prior to the caller giving up), the version check will determine that\nthe expected version is \u003cem\u003enot\u003c/em\u003e \u003ccode\u003e0\u003c/code\u003e (as expected when a stream is \u003cem\u003eEmpty\u003c/em\u003e), but instead \u003ccode\u003e1\u003c/code\u003e (as the preceding invocation wrote one event).\nIn this case, the loop will then use the \u003ccode\u003efold\u003c/code\u003e function from the \u003ccode\u003einitial\u003c/code\u003e state, folding in the single event (via the \u003ccode\u003eevolve\u003c/code\u003e function),\npassing that state to the \u003ccode\u003edecider\u003c/code\u003e function, which, assuming it's implemented in an \u003ca href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"nofollow\"\u003e\u003cem\u003eidempotent\u003c/em\u003e\u003c/a\u003e\nmanner, will indicate that there are no events to be written.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003e\u003ca name=\"user-content-what-is-a-decider\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhat is a Decider? How does the Equinox \u003ccode\u003etype Decider\u003c/code\u003e relate to Jrmie's concept of one?  \u003ca href=\"https://github.com/rmaziarka\"\u003e@rmaziarka\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-what-is-a-decider-how-does-the-equinox-type-decider-relate-to-jrmies-concept-of-one-pray-rmaziarka\" class=\"anchor\" aria-label=\"Permalink: What is a Decider? How does the Equinox type Decider relate to Jrmie's concept of one? :pray: @rmaziarka\" href=\"#what-is-a-decider-how-does-the-equinox-type-decider-relate-to-jrmies-concept-of-one-pray-rmaziarka\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe best treatments of the concept of a Decider are:\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://thinkbeforecoding.com/post/2021/12/17/functional-event-sourcing-decider\" rel=\"nofollow\"\u003eJrmie's intro post\u003c/a\u003e - it's not short, but its required reading for anyone considering event sourcing, regardless of whether you're even going to use a functional programmign language to do so.\u003c/li\u003e\n\u003cli\u003eThere's a very thorough treatment with code walk-through and discussion in \u003ca href=\"https://www.youtube.com/watch?v=kgYGMVDHQHs\" rel=\"nofollow\"\u003ethis 2h45m video\u003c/a\u003e on \u003ca href=\"https://www.youtube.com/channel/UCSoUh4ikepF3LkMchruSSaQ\" rel=\"nofollow\"\u003eEvent Driven Information Systems\u003c/a\u003e with \u003ca href=\"https://twitter.com/thinkb4coding\" rel=\"nofollow\"\u003eJrmie Chassaing, @thinkb4coding\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003eAs teased in both, there will hopefully eventually (but hopefully not \u003ca href=\"https://github.com/ylorph/The-Inevitable-Event-Centric-Book\"\u003einevitably\u003c/a\u003e) be a book at some point too :fingers_crossed:\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eIn Equinox\u003c/h4\u003e\u003ca id=\"user-content-in-equinox\" class=\"anchor\" aria-label=\"Permalink: In Equinox\" href=\"#in-equinox\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe Equinox \u003ccode\u003etype Decider\u003c/code\u003e exposes an \u003ca href=\"https://github.com/jet/equinox/blob/master/src/Equinox/Decider.fs#L11-L96\"\u003eAPI that covers the needs of making Consistent Decisions against a State derived from Events on a Stream\u003c/a\u003e. At a high level, we have:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eTransact*\u003c/code\u003e functions - these run a decision function that may result in a change to the State, including management of the retry cycle when a consistency violation occurs during the syncing of the state with the backing store (See \u003ca href=\"https://en.wikipedia.org/wiki/Optimistic_concurrency_control\" rel=\"nofollow\"\u003eOptmimistic Concurrency Control\u003c/a\u003e). Some variants can also yield an outcome to the caller after the syncing to the store has taken place.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eQuery*\u003c/code\u003e functions - these run a render function projecting from the State that the Decider manages (but can't mutate it or trigger changes). The concept of \u003ca href=\"https://martinfowler.com/bliki/CQRS.html\" rel=\"nofollow\"\u003eCQRS\u003c/a\u003e is a consideration here - using the Decider to read state should not be a default approach (but equally should not be considered off limits).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eNOTE the \u003ccode\u003eDecider\u003c/code\u003e itself in Equinox does not directly touch all three of the ingredients - while you pass it a \u003ccode\u003edecide\u003c/code\u003e function, the \u003ccode\u003einitial\u003c/code\u003e and \u003ccode\u003efold\u003c/code\u003e functions, are  supplied to the specific store library (e.g. \u003ccode\u003eEquinox.CosmosStore.CosmosStoreCategory\u003c/code\u003e), as that manages the loading, snapshotting, syncing and caching of the state and events.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eIn general\u003c/h4\u003e\u003ca id=\"user-content-in-general\" class=\"anchor\" aria-label=\"Permalink: In general\" href=\"#in-general\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhile the concept of a Decider plays well with Event Sourcing and many different types of Stores, it's important to note that neither storage or event sourcing is a prerequisite. A lot of the value of the concept is that you can and should be able to talk about and implement one without reference to any specific store implementation (or even thinking about it ever being stored - it can also be used to manage in-memory structures such as UI trees etc). By the same token, you can decorate/proxy a Decider with loading or saving behavior (not limited to just 'copying the commands'), e.g. you might be syncing saves of changes to a backend in near-real time while the front end is reflecting changes instantaneously.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eConsistency\u003c/h4\u003e\u003ca id=\"user-content-consistency\" class=\"anchor\" aria-label=\"Permalink: Consistency\" href=\"#consistency\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eIn any system, any decision (or even query) processed by a Decider should be concurrency controlled\u003c/em\u003e.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eNOTE: the situation might be different if working in an environment where a particular concurrency model is emphasized. E.g.: if you're running in an Actor based system, one may map a decider to an actor. With this, any impetus to change state would be forwarded to that one actor and in a serial fashion. Potentials for conflicts would be managed by a supervisor.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eAnother example where the situation could be different is if you're building an in-memory decision system to support a game etc as Jrmie does in the talk. There's only one so that concern is side-stepped.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003e\u003cem\u003eWhen applying the concept of a Decider to event sourcing, the consistency requirement means \u003ca href=\"https://domaincentric.net/blog/eventstoredb-vs-kafka\" rel=\"nofollow\"\u003ethere's more to the exercise than emitting events into a thing those marketing centers on Events\u003c/a\u003e\u003c/em\u003e. There needs to be a way in the overall processing of a decision that manages a concurrency conflict by taking the state that superseded the one you based the original decision on (the \u003cem\u003eorigin state\u003c/em\u003e), and re-running the decision based on the reality of that conflicting \u003cem\u003eactual state\u003c/em\u003e. The resync operation that needs to take place in that instance can be managed by reloading from events, reloading from a snapshot, or by taking events since your local state and \u003ccode\u003efold\u003c/code\u003eing those Events on top of that.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eThe ingredients\u003c/h4\u003e\u003ca id=\"user-content-the-ingredients\" class=\"anchor\" aria-label=\"Permalink: The ingredients\" href=\"#the-ingredients\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWith Deciders in general, and Equinox in particular, the following elements are involved:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ea \u003ccode\u003eState\u003c/code\u003e type, on which decisions can be based. This can be updated as a consequence of a decision, e.g. the item identifiers in a cart and the associated quantities\u003c/li\u003e\n\u003cli\u003ea \u003ccode\u003edecide\u003c/code\u003e function, which is presented a \u003ccode\u003eState\u003c/code\u003e, and returns a decision, which we use to update the State, if, and only if there is no concurrency conflict when applying them, e.g. the \u003ccode\u003edecider\u003c/code\u003e might validate that it's acceptable to start a process at the present time, returning the identifier of the process; if there is already one in flight, it can return the identifier of that already-started process (covered under the term idempotency further onwards)\u003c/li\u003e\n\u003cli\u003ean \u003ccode\u003einitial\u003c/code\u003e State, from which we start if there's nothing in the store, e.g. an empty list of product codes representing nothing in the cart\u003c/li\u003e\n\u003cli\u003ean \u003ccode\u003eEvent\u003c/code\u003e type (think a Discriminated union). This might have cases like \u003ccode\u003eCleared\u003c/code\u003e, \u003ccode\u003eQuantityChanged\u003c/code\u003e, \u003ccode\u003eItemAdded\u003c/code\u003e (in some cases only a snapshot of the state is persisted, but in Equinox, changes are always represented in terms of the relevant Event type for a given Decider)\u003c/li\u003e\n\u003cli\u003ethe Events are logically represented as an ordered list of events (could be an in memory array, a stream in ESDB, documents with a Tip as with \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e etc). In some cases e.g. \u003ccode\u003eRollingState\u003c/code\u003e mode, they may get folded and snapshotted when stored)\u003c/li\u003e\n\u003cli\u003ethe State is established by \u003ca href=\"https://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow\"\u003e\u003ccode\u003efold\u003c/code\u003e\u003c/a\u003eing the sequence of \u003ccode\u003eEvent\u003c/code\u003es, starting from an \u003ccode\u003einitial\u003c/code\u003e state. This value \u003ca href=\"https://en.wikipedia.org/wiki/Persistent_data_structure\" rel=\"nofollow\"\u003eshould not be mutated by the \u003ccode\u003efold\u003c/code\u003e function\u003c/a\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eWith the Equinox \u003ccode\u003etype Decider\u003c/code\u003e, the typical \u003ccode\u003edecide\u003c/code\u003e signature used with the \u003ccode\u003eTransact\u003c/code\u003e API has the following signature:\u003c/p\u003e\n\u003cdiv class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"  context -\u0026gt; inputsAndOrCommand -\u0026gt; 'State -\u0026gt; Event list\"\u003e\u003cpre class=\"notranslate\"\u003e\u003ccode\u003e  context -\u0026gt; inputsAndOrCommand -\u0026gt; 'State -\u0026gt; Event list\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eNOTE: There are more advanced forms that allow the \u003ccode\u003edecide\u003c/code\u003e function to be \u003ccode\u003eAsync\u003c/code\u003e, inspect the State's \u003ccode\u003eVersion\u003c/code\u003e and/or to also return a \u003ccode\u003e'result\u003c/code\u003e, which will be yielded to the caller driving the Decision as the return value of the \u003ccode\u003eTransact\u003c/code\u003e function.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSo what kind of a thing is a Decider then?\u003c/h4\u003e\u003ca id=\"user-content-so-what-kind-of-a-thing-is-a-decider-then\" class=\"anchor\" aria-label=\"Permalink: So what kind of a thing is a Decider then?\" href=\"#so-what-kind-of-a-thing-is-a-decider-then\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eIs it a marketing term? Jrmie's way of explaining an app?\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eI'd present the fact that Equinox:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ewas initially generalised and extracted from working code using ESDB in (by most measures) a successful startup written in a mix of F# and C# by the usual mix of devs, experience levels, awareness of event sourcing patterns and language/domain backgrounds\u003c/li\u003e\n\u003cli\u003efor a long time only had its MemoryStore as the thing to force it to be store agnostic\u003c/li\u003e\n\u003cli\u003edid not fundamentally change to add idiomatic support for a Document database (CosmosDB)\u003c/li\u003e\n\u003cli\u003edid not change to add idiomatic support for DynamoDB\u003c/li\u003e\n\u003cli\u003ecan and has been used at every stage in an e-commerce pipeline\u003c/li\u003e\n\u003cli\u003eis presently aligning pretty neatly with diverse domains without any changes/extensions, both for me and others\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e... as evidence for Decider being \u003cem\u003ea pattern language\u003c/em\u003e (analogous to how event sourcing and many modern event sourced UI paradigms share a lot of common patterns).\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003e... about the process of making \u003cem\u003edecisions\u003c/em\u003e\u003c/h4\u003e\u003ca id=\"user-content--about-the-process-of-making-decisions\" class=\"anchor\" aria-label=\"Permalink: ... about the process of making decisions\" href=\"#-about-the-process-of-making-decisions\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eFinally, I'd say that a key thing the Decider concept brings is a richer way of looking at event sourcing than the typical event sourcing 101 examples you might see:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ede-emphasizing one way calls into the void that map commands to events without deduplicating and/or yielding a result (not saying that you shouldn't do the simplest thing -- you absolutely should)\u003c/li\u003e\n\u003cli\u003ede-emphasizing the notion that all projection handlers don't get more exciting than sitting there looking for \u003ccode\u003eMyThingCreated\u003c/code\u003e and doing an \u003ccode\u003eINSERT\u003c/code\u003e with a try/catch for duplicate inserts as a way to make it idempotent (and that every stream design must have a Created event because that's the magic recipe)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eThe missing part beyond that basic anemic stuff is where the value lies:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eany interesting system \u003cem\u003emakes \u003cem\u003edecisions\u003c/em\u003e\u003c/em\u003e:\u003c/li\u003e\n\u003cli\u003ea decision can yield a result alongside the events that are needed to manifest the state change\u003c/li\u003e\n\u003cli\u003eany decision process can and should consider \u003ca href=\"https://en.wikipedia.org/wiki/Idempotence\" rel=\"nofollow\"\u003eidempotency\u003c/a\u003e - if you initiate a process/request something, a retry can't be a special case you don't worry about. Taking correct handling of such retry and/or replay scenarios into consideration should not be an afterthought, but instead be a concern on your day to day checklist when writing a decision function. Of course idempotency can be handled in many ways\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003esometimes before processing gets to the Decider - i.e. any outer layer of the processing can have semantics that cover the idempotency requirement\u003c/li\u003e\n\u003cli\u003esometimes within the Decider itself (e.g. a decision can yield the unique id generated the first time the request was triggered on every subsequent invocation)\u003c/li\u003e\n\u003cli\u003esometimes it can be handled externally (e.g. one might not maintain the state that would be necessary to fully deduplicate triggerings and rely on the EventStoreDB and SqlStreamStore idempotent write deduplication mechanism to elide the redundant the writes just in time)\u003c/li\u003e\n\u003cli\u003eA Decider can also be decorated/proxied to add idempotency. As \u003ca href=\"https://github.com/thinkbeforecoding\"\u003eJrmie\u003c/a\u003e \u003ca href=\"https://github.com/jet/equinox/pull/299#discussion_r748744034\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/jet/equinox/pull/299/hovercard\"\u003ementioned here\u003c/a\u003e, and in his talk, you can also naturally \u003cem\u003elayer idempotency on a decider. You can make a generic function\n\u003ccode\u003eD\u0026lt;Cmd,Event,State\u0026gt; -\u0026gt; D\u0026lt;(IdCmd), Event, (State(Id Set))\u0026gt;\u003c/code\u003e where \u003ccode\u003eId\u003c/code\u003e is a command identifier. In the \u003ccode\u003edecide\u003c/code\u003e function it checks whether the id is in the set. In the \u003ccode\u003eevolve\u003c/code\u003e function, it adds the id to the set.\u003c/em\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eit can let you drive a set of reactions in a fault-tolerant and scalable (both perf/system size, and management/separation of complexity)  manner\u003c/li\u003e\n\u003cli\u003ea Decider should generally be maintaining one or more invariants associated with the underlying state it represents; if there isn't some element of your system doing that, you might as well be dumping stuff in a log or mutating a CRUD model.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eQuite frequently, a Decider may internally operate as a Process Manager, encapsulating a \u003ca href=\"https://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow\"\u003eState Machine\u003c/a\u003e. That is to say, there will be a subset of the Deciders in a system that are providing APIs that support some overall protocol that enforces some lifecycle rules.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWith \u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as \u003ccode\u003eEquinox.Decider.Transact\u003c/code\u003e?  \u003ca href=\"https://github.com/rmaziarka\"\u003e@rmaziarka\u003c/a\u003e\u003c/h3\u003e\u003ca id=\"user-content-with-equinoxcosmosstore-it-seems-it-should-be-possible-to-handle-saving-multiple-events-from-multiple-streams-as-an-atomic-transaction-as-long-as-they-share-the-same-partition-key-in-cosmos-db-however-there-doesnt-seem-to-be-any-way-to-do-that-with-apis-such-as-equinoxdecidertransact-pray-rmaziarka\" class=\"anchor\" aria-label=\"Permalink: With Equinox.CosmosStore, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as Equinox.Decider.Transact? :pray: @rmaziarka\" href=\"#with-equinoxcosmosstore-it-seems-it-should-be-possible-to-handle-saving-multiple-events-from-multiple-streams-as-an-atomic-transaction-as-long-as-they-share-the-same-partition-key-in-cosmos-db-however-there-doesnt-seem-to-be-any-way-to-do-that-with-apis-such-as-equinoxdecidertransact-pray-rmaziarka\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eI'm asking because I had this idea which I was workshopping with a friend, that it could solve typical sync problems in typical availability domains.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eLet's assume that our domain is Bike Sharing in different cities. Users can reserve a bike, and then access it and ride.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eIn our system we would have two subdomains:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eInventory - responsible for being sure that is bike (resource) is ready to be used\u003c/li\u003e\n\u003cli\u003eOrders - responsible for tracking information regarding reservations, orders etc\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eThere could be different subdomains as Orders, that would be using Inventory under the hood - like Repairing.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eIn the system we would like to a) block a particular bike for the user and b) at the same time create a reservation for them to store all important business information.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eSo we use and save data to the 2 different streams of data - typical ES problem.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eWe could use event handers / sagas but it brings another level of complexity.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eIn the case above we could assume that data inside a single city will be so small, that even with prolonged usage it won't fill the whole CosmosDB partition. So we could use it to handle saving 2 events in the same time. (My actual system is not Bike Sharing, and I'm confident of a lack of explosive growth!)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eSaving a \u003ccode\u003eBikeBlocked\u003c/code\u003e event would be handled in a transaction along with the \u003ccode\u003eReservationMade\u003c/code\u003e. So we wouldn't end up with the situation that bike is blocked and reservation is not made or conversely.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eWhat do you think of this idea? Does it sound reasonable?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhy not keep it simple and have it one logical partition: a high level perspective\u003c/h4\u003e\u003ca id=\"user-content-why-not-keep-it-simple-and-have-it-one-logical-partition-a-high-level-perspective\" class=\"anchor\" aria-label=\"Permalink: Why not keep it simple and have it one logical partition: a high level perspective\" href=\"#why-not-keep-it-simple-and-have-it-one-logical-partition-a-high-level-perspective\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eI'd actually attack this problem from an event modeling perspective first (Event Storming and other such things are reasonable too, but I personally found the rampup on EM to be reasonable, and it definitely forces you to traverse the right concerns. \u003ca href=\"https://eventmodeling.org/posts/what-is-event-modeling\" rel=\"nofollow\"\u003eGood intro article re Event Modeling\u003c/a\u003e.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eOnce you cover enough scenarios of any non-CRUD system, I'd be surprised if you truly end up with a model with just 2 logical streams that you want to combine into 1 for simplicity of event storage because you are covering all the cases and can reason about the model cleanly.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eWhen you have a reasonable handle from a few passes over that (watch our for analysis paralysis, but also don't assume you can keep it simple via  and not talking to enough people who understand the whole needs of the system, aka )\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eFor any set of decisions you control in a single \u003cem\u003eDecider\u003c/em\u003e you need to:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebe able to establish all relevant state to back the decision making efficiently (point reads of single documents, etag-backed caching, small streams, not having to filter out things you don't need)\u003c/li\u003e\n\u003cli\u003ebe able to write it with a concurrency check (all writers to all stuff under control of the decider are all contenting for the write capacity, i.e provisioned RUs)\u003c/li\u003e\n\u003cli\u003ebe able to see the changes on a feed in a useful way (in order of writes, with related stuff easily accessible and no stuff you don't care about)\u003c/li\u003e\n\u003cli\u003ebe able to write it efficiently - if you can't absorb the maximum writes needed, you need to find a way to split it out to multiple logical streams (and hence Deciders)\u003c/li\u003e\n\u003cli\u003ehave a set of event contracts, folding logic and decision making logic that a person can read, reason about and test\u003c/li\u003e\n\u003cli\u003ehave ways to manage evolution over time of the rules, the event schema and the inevitable need to handle scenarios you didnt envisage, or are genuinely new\u003c/li\u003e\n\u003cli\u003eminimize speculative just in case, well intentioned and/or future-proofing complexity - there'll be plenty challenging complexity fun without you adding to the mix\u003c/li\u003e\n\u003cli\u003eyou don't want to have to think about anything outside a given Decider when drawing stuff on a whiteboard, looking at a dashboard, looking at metrics, writing a test unless it makes things fundamentally easier\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eThat's a lot of things.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eBefore we go on, consider this: you want to minimise how much stuff a single Decider does. Adding stuff into a Decider does not add complexity linearly. There is no technical low level silver bullet solution to this problem.\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eRight, strap yourself in; there's no TL;DR for this one ;)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003ePreamble\u003c/h4\u003e\u003ca id=\"user-content-preamble\" class=\"anchor\" aria-label=\"Permalink: Preamble\" href=\"#preamble\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eFirst, I'd refer to some good resources in this space, which describe key functions of an Event Store\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eYves Lorphelin's \u003ca href=\"https://github.com/ylorph/RandomThoughts/blob/master/2019.08.09_expectations_for_an_event_store.md\"\u003eExpectations for an Event Store\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eThe \u003ca href=\"https://www.eventstore.com/blog/requirements-for-the-storage-of-events\" rel=\"nofollow\"\u003eEvolved Version of that, with a slightly different focus\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eNext, I'd like to call out some things that Equinox is focused on delivering, regardless of the backing store:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003econcurrency-controlled updates\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eto a single consistency control unit (stream) at a time (underlying stores in general rarely provide support for more than that, but more importantly, a huge number of use cases in a huge number of systems have natural mappings to this without anyone having to do evil things or write thousands of lines of code)\u003c/li\u003e\n\u003cli\u003eno major focus on blind-writes, even if there is low level support and/or things work if you go direct and do it out of band)\u003c/li\u003e\n\u003cli\u003eprovide a good story for managing the writing of the first event in a stream in an efficient manner\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ehave a story for providing a Change Feed\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003etypically via a matching Propulsion library (fully ordered for SSS and ESDB, ordered at stream level for CosmosDB and DynamoDB)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ehave a story for caching and efficient usage of each store to the best degree possible\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.SqlStreamStore\u003c/code\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ecaching is supported and recommended to minimise reads\u003c/li\u003e\n\u003cli\u003ein-stream snapshots sometimes help but there are tradeoffs\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.EventStore\u003c/code\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ecaching is supported, but less important/relevant than it is with SSS as ESDB has good caching support and options\u003c/li\u003e\n\u003cli\u003eEquinox in-stream snapshots sometimes help but there are tradeoffs)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e and \u003ccode\u003eEquinox.DynamoStore\u003c/code\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003emultiple events are packed into each document (critical to avoid per-Item space and indexing overhead - limits are configurable)\u003c/li\u003e\n\u003cli\u003eetag-checked RollingState access mode enables allow you to achieve optimal perf and RU cost via the same API without writing an event every time\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eEquinox.CosmosStore\u003c/code\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eetag-checked read caching (use without that is not recommended in general, though you absolutely will and should turn it off for some streams)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eThe provision of the changefeed needs to be considered as a primary factor in the overall design if you're trying to build a general store - the nature of what you are seeking to provide (max latency and ordering guarantees etc) will be a major factor in designing the schema for how you manage the encoding and updating of the items in the store\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSagas?\u003c/h4\u003e\u003ca id=\"user-content-sagas\" class=\"anchor\" aria-label=\"Permalink: Sagas?\" href=\"#sagas\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eIn the system we would like to block particular bike for the user. But at the same time create a reservation for them to store all important business information. So we use and save data to the 2 different streams of data - typical ES problem. We could use event handers / sagas but it brings another level of complexity.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eThere will always be complexity in any interesting system that should not just be a CRUD layer over a relational DB.\nTaking particular solution patterns off the table from the off is definitely something you need to be careful to avoid.\nAs an analogy: Having lots of classes in a system can make a mess. But collapsing it all into as few as possible can result in ISP and SRP violations and actually make for a hard to navigate and grok system, despite there being less files and less lines of code (aka complexity). Coupling things can sometimes keep things Simple, but can also sometimes simply couple things.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIn my personal experience\u003c/p\u003e\n\u003col dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://event-driven.io/en/saga_process_manager_distributed_transactions/\" rel=\"nofollow\"\u003eSagas, PMs and related patterns and techniques\u003c/a\u003e can be scary, and there are not many good examples out there in an event sourcing context\u003c/li\u003e\n\u003cli\u003eYou can build a significant number of systems without ever intentionally applying any of those patterns\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp dir=\"auto\"\u003eBut, also IME:\n3) They're pretty fundamental\n4) They are not as hard as you think when you've done two of them\n5) Proper stores enable good ways to manage them\n6) They enable you to keep the overall complexity of a system down by decoupling things one might artificially couple if you're working with a toolbox where you've denied yourself a space for PMs and Sagas\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIn other words, my YAGNI detector was on high alert for it, as it seems yours is \u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTransactional writes?\u003c/h4\u003e\u003ca id=\"user-content-transactional-writes\" class=\"anchor\" aria-label=\"Permalink: Transactional writes?\" href=\"#transactional-writes\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp dir=\"auto\"\u003eIn the case above we could assume that data inside a single city will be so small, that even with the long usage it won't complete the whole CosmosDB partition. So we could use it to handle saving 2 events in the same time.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp dir=\"auto\"\u003eFor avoidance of doubt:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003ebeing able to write two events to a single stream as an atomic action is a perfectly normal thing to do (Equinox itself, and any credible Event Store supports it).\u003c/li\u003e\n\u003cli\u003ebeing able to write to two \u003cem\u003estreams\u003c/em\u003e atomically is not a commonly supported operation for Event Stores.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eYou're correct to identify the maximum amount of data being managed in a scope as a critical consideration when coupling stuff within a logical partition in order to be able to achieve consistency when managing updates across two set of related pieces of information.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eSpecifically wrt CosmosDB, the following spring to mind without looking anything up:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eThe max amount of data in any logical partition is 20GB. I would not be shocked if it was 50GB some time soon. But it's not going to be a TB any time soon. When that's gone, you need to delete things\u003c/li\u003e\n\u003cli\u003eAll updates in a logical partition are hitting the exact same thing on the same node of a physical partition\u003c/li\u003e\n\u003cli\u003eAll reads are also hitting that\u003c/li\u003e\n\u003cli\u003eThe maximum amount of RUs you can give that physical partition is 5000 RU (or is it 10000 RU?)\u003c/li\u003e\n\u003cli\u003ethe more data you have in a single logical partition, the more pages in the indexes, the higher the RU cost for equivalent things (the amount in other logical partitions does not have this effect)\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md#growth-handling-strategies\"\u003ehotspots at either logical partition or physical partition levels\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eif you do an event per document, you are hosed\u003c/li\u003e\n\u003cli\u003eif you don't have an e-tag checked write or read scheme, you won't be able to load state efficiently without resorting to queries\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp dir=\"auto\"\u003eIn other words, it's looking like you're painted into a corner: you can't shard, can't scale and are asking for hotspotted partition issues. Correct, that doesn't always matter. But even if you have 10 cities, you can't afford for the two busiest ones to be hosted on the same node as that's going to be the one suffering rate limiting. Trust me, it's not even worth thinking about tricks to manage this fundamental problem (trying to influence the sharding etc is going to be real complexity you do not want to be explaining to other engineers on a whiteboard or a 5am conf call)\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eSo why do all these things spring to mind ?\u003c/h4\u003e\u003ca id=\"user-content-so-why-do-all-these-things-spring-to-mind-\" class=\"anchor\" aria-label=\"Permalink: So why do all these things spring to mind ?\" href=\"#so-why-do-all-these-things-spring-to-mind-\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eThis desire comes up all the time - I've had this conversation with tens of engineers with various years of programming, years as users of document databases, years of writing event sourced systems on this topic. I don't believe many have walked away still believing there's an easy way around this either.\u003c/li\u003e\n\u003cli\u003eI have done lots of benchmarking (measuring latency, RUs, handling of concurrency conflicts) of pretty much every possible approach on Cosmos DB\u003c/li\u003e\n\u003cli\u003eI've done lots of CosmosDB specific reading on this - MS has actually got pretty good docs (most useful ones I'm aware of are linked from \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md\"\u003eDOCUMENTATION.md\u003c/a\u003e)\u003c/li\u003e\n\u003cli\u003eI've read and watched lots of stuff on various DBs. Most of that can be replaced with \u003ca href=\"https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321\" rel=\"nofollow\"\u003ehttps://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321\u003c/a\u003e and some in-date equivalent of \u003ca href=\"https://martinfowler.com/books/nosql.html\" rel=\"nofollow\"\u003ehttps://martinfowler.com/books/nosql.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eCosmos DB, when used with Mechanical Sympathy (read: Billing Model Sympathy) at the forefront of one's mind is absolutely a good product that can be extremely cost effective and provide excellent performance\n\u003cem\u003eHowever\u003c/em\u003e, you are pretty much guaranteed to not get that good  experience without reading, measuring and iterating (I've seen many people with much bigger brains than me prove that over and over - the bad things you hear about Cosmos DB are true too, and are not only caused by the below average drivers)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eTL;DR on Cosmos DB for storing events (but really for all usages)\u003c/h4\u003e\u003ca id=\"user-content-tldr-on-cosmos-db-for-storing-events-but-really-for-all-usages\" class=\"anchor\" aria-label=\"Permalink: TL;DR on Cosmos DB for storing events (but really for all usages)\" href=\"#tldr-on-cosmos-db-for-storing-events-but-really-for-all-usages\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003eYou can't update or the changefeed gets out of order (but there are lots of other reasons not to do updates beyond that)\u003c/li\u003e\n\u003cli\u003eYou need to do etag-checked reads and writes or go home\u003c/li\u003e\n\u003cli\u003eEach Item/Document costs you about 500 bytes in headers and space in all the indexes so you need to strongly consider \u0026gt;1 event/document\u003c/li\u003e\n\u003cli\u003eQueries are way more costly than point reads. It's called a Document database because the single thing it does best on this planet is read or update ONE document. Read/write cost rule of thumb is per KB, but has logarithmic properties too, i.e. 50K is not always 50x the cost of 1K\u003c/li\u003e\n\u003cli\u003eKeep documents on the small side. (Max doc/item size for CosmosDB is 2MB, max stored proc arg size is 1MB, 1MB induces roundtrip latency and write contention etc). DynamoDB sets max doc size at 400KB for similar reasons. ESDB allows 4MB but that's less of a problem for it.\u003c/li\u003e\n\u003cli\u003eKeep the combined sizes of items/documents in a logical partition as small as possible but no smaller. Cosmos DB has a hard limit of 20GB per logical partition, but in practice, the latency to read or walk that amount of content and/or documents will hit you long before that.\u003c/li\u003e\n\u003cli\u003eKeep documents uniform in size where possible. Consider taking a write overhead hit to preserve read efficiency or scalability. (inc considering compression)\nwrt 3+4+5, Equinox.Cosmos default max doc size is 30KB. On occasion where paying a write overhead is merited, I've used/recommended 500K and 1 MB for various reasons. That's the exception more than the rule.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eWhy think about it and explain it at such a low level?\u003c/h4\u003e\u003ca id=\"user-content-why-think-about-it-and-explain-it-at-such-a-low-level\" class=\"anchor\" aria-label=\"Permalink: Why think about it and explain it at such a low level?\" href=\"#why-think-about-it-and-explain-it-at-such-a-low-level\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eWhy think about this problem from such a low level perspective? Why not just stick to the high level given that's equally important to get right, and if correctly will more often yield a cleanly implementable solution?\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eMany people have a strong desire to write the least amount of code possible, and that's not unreasonable. The most critical question is going to be, does it work at all? Due to the combination of factors above, the answer is looking pretty clear. You can write the code and run it to be sure. I already have, in spike branches, and will save you the spoiler.\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eHowever, the fundamental things that arise when viewing it at a low/storage design level, also have high level issues in terms of modelling the software too, and different people will understand them better from different angles\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eI've witnessed people attempt to 'solve' the fundamental low level issues by working around reality, moving it all into a Cosmos DB Stored Procedure (Yes, you can guess the outcome). Please don't even think about that, no matter how much tech tricks you'll learn!\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch4 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eConclusion\u003c/h4\u003e\u003ca id=\"user-content-conclusion\" class=\"anchor\" aria-label=\"Permalink: Conclusion\" href=\"#conclusion\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003e\u003cstrong\u003eYou know what's coming next: You don't want to merge two Deciders and 'Just' bring it all under a nice tidy transaction to avoid thinking about Process Managers and/or other techniques.\u003c/strong\u003e\u003c/p\u003e\n\u003cp dir=\"auto\"\u003eIf you're still serious about making the time investment to write a PoC (or a real) implementation of a Store on a Document DB such as CosmosDB (and/or even writing a SQL-backed one without studying the prior art in that space intently), you can't afford \u003cem\u003enot\u003c/em\u003e to invest that time in \u003ca href=\"https://www.youtube.com/watch?v=kgYGMVDHQHs\" rel=\"nofollow\"\u003ewatching a 2h45m video about Deciders!\u003c/a\u003e.\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch3 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eOK, but you didn't answer my question, you just talked about stuff you wanted to talk about!\u003c/h3\u003e\u003ca id=\"user-content-ok-but-you-didnt-answer-my-question-you-just-talked-about-stuff-you-wanted-to-talk-about\" class=\"anchor\" aria-label=\"Permalink: OK, but you didn't answer my question, you just talked about stuff you wanted to talk about!\" href=\"#ok-but-you-didnt-answer-my-question-you-just-talked-about-stuff-you-wanted-to-talk-about\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003ePlease raise a question-Issue, and we'll be delighted to either answer directly, or incorporate the question and answer here\u003c/p\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eAcknowledgements\u003c/h1\u003e\u003ca id=\"user-content-acknowledgements\" class=\"anchor\" aria-label=\"Permalink: Acknowledgements\" href=\"#acknowledgements\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eThe diagrams in this README.md and the DOCUMENTATION.md would not and could not have happened without the hard work and assistance of at least:\u003c/p\u003e\n\u003cul dir=\"auto\"\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/simonbrowndotje\"\u003e@simonbrowndotje\u003c/a\u003e taking the time to define and evangelize the \u003ca href=\"https://c4model.com/\" rel=\"nofollow\"\u003eC4 model\u003c/a\u003e. It's highly recommended to view \u003ca href=\"https://www.youtube.com/watch?v=x2-rSnhpw0g\u0026amp;feature=emb_logo\" rel=\"nofollow\"\u003ethe talk linked from \u003ccode\u003ec4model.com\u003c/code\u003e\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003ethe wonder that is \u003ca href=\"https://plantuml.com/\" rel=\"nofollow\"\u003ePlantUml\u003c/a\u003e; authoring them \u003ca href=\"https://github.com/jet/equinox/tree/master/diagrams\"\u003ein text\u003c/a\u003e with \u003ca href=\"https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml\" rel=\"nofollow\"\u003ethe CVSCode PlantUML plugin\u003c/a\u003e is a delight. The inline images are also presently rendered by the \u003ca href=\"https://plantuml.com/server\" rel=\"nofollow\"\u003ePlantUml proxy\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/skleanthous\"\u003e@skleanthous\u003c/a\u003e for making \u003cem\u003eand documenting\u003c/em\u003e \u003ca href=\"https://github.com/skleanthous/C4-PlantumlSkin/blob/master/README.md\"\u003eC4-PlantUmlSkin\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"markdown-heading\" dir=\"auto\"\u003e\u003ch1 tabindex=\"-1\" class=\"heading-element\" dir=\"auto\"\u003eFURTHER READING\u003c/h1\u003e\u003ca id=\"user-content-further-reading\" class=\"anchor\" aria-label=\"Permalink: FURTHER READING\" href=\"#further-reading\"\u003e\u003csvg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"\u003e\u003cpath d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/a\u003e\u003c/div\u003e\n\u003cp dir=\"auto\"\u003eSee \u003ca href=\"/jet/equinox/blob/master/DOCUMENTATION.md\"\u003e\u003ccode\u003eDOCUMENTATION.md\u003c/code\u003e\u003c/a\u003e and \u003ca href=\"https://github.com/jet/propulsion/blob/master/DOCUMENTATION.md\"\u003ePropulsion's \u003ccode\u003eDOCUMENTATION.md\u003c/code\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/article\u003e","loaded":true,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":[{"level":1,"text":"Equinox ","anchor":"equinox-------","htmlText":"Equinox "},{"level":1,"text":"Table of Contents","anchor":"table-of-contents","htmlText":"Table of Contents"},{"level":1,"text":"Getting Started","anchor":"getting-started","htmlText":"Getting Started"},{"level":1,"text":"Design Motivation","anchor":"design-motivation","htmlText":"Design Motivation"},{"level":1,"text":"Features","anchor":"features","htmlText":"Features"},{"level":1,"text":"Currently Supported Data Stores","anchor":"currently-supported-data-stores","htmlText":"Currently Supported Data Stores"},{"level":1,"text":"Components","anchor":"components","htmlText":"Components"},{"level":2,"text":"Core library","anchor":"core-library","htmlText":"Core library"},{"level":2,"text":"Serialization support","anchor":"serialization-support","htmlText":"Serialization support"},{"level":2,"text":"Data Store libraries","anchor":"data-store-libraries","htmlText":"Data Store libraries"},{"level":2,"text":"Projection libraries","anchor":"projection-libraries","htmlText":"Projection libraries"},{"level":2,"text":"dotnet tool provisioning / benchmarking tool","anchor":"dotnet-tool-provisioning--benchmarking-tool","htmlText":"dotnet tool provisioning / benchmarking tool"},{"level":2,"text":"Starter Project Templates and Sample Applications","anchor":"starter-project-templates-and-sample-applications","htmlText":"Starter Project Templates and Sample Applications"},{"level":1,"text":"Overview","anchor":"overview","htmlText":"Overview"},{"level":2,"text":"The Propulsion Perspective","anchor":"the-propulsion-perspective","htmlText":"The Propulsion Perspective"},{"level":2,"text":"C4 Context diagram","anchor":"c4-context-diagram","htmlText":"C4 Context diagram"},{"level":2,"text":"C4 Container diagram","anchor":"c4-container-diagram","htmlText":"C4 Container diagram"},{"level":2,"text":"TEMPLATES","anchor":"templates","htmlText":"TEMPLATES"},{"level":2,"text":"SAMPLES","anchor":"samples","htmlText":"SAMPLES"},{"level":3,"text":"TODOBACKEND, see samples/TodoBackend","anchor":"todobackend-see-samplestodobackend","htmlText":"TODOBACKEND, see samples/TodoBackend"},{"level":3,"text":"STORE, see /samples/Store","anchor":"store-see-samplesstore","htmlText":"STORE, see /samples/Store"},{"level":3,"text":"m-r port, see samples/Store/Domain/InventoryItem.fs","anchor":"m-r-port-see-samplesstoredomaininventoryitemfs","htmlText":"m-r port, see samples/Store/Domain/InventoryItem.fs"},{"level":3,"text":"samples/Tutorial (in this repo): Annotated .fsx files with sample aggregate implementations","anchor":"samplestutorial-in-this-repo-annotated-fsx-files-with-sample-aggregate-implementations","htmlText":"samples/Tutorial (in this repo): Annotated .fsx files with sample aggregate implementations"},{"level":3,"text":"@ameier38's Tutorial","anchor":"ameier38s-tutorial","htmlText":"@ameier38's Tutorial"},{"level":2,"text":"QuickStart","anchor":"quickstart","htmlText":"QuickStart"},{"level":3,"text":"Spin up a TodoBackend.fsproj app (storing in Equinox.MemoryStore Simulator)","anchor":"spin-up-a-todobackend-fsproj-app-storing-in-equinoxmemorystore-simulator","htmlText":"Spin up a TodoBackend.fsproj app (storing in Equinox.MemoryStore Simulator)"},{"level":3,"text":"Spin up a TodoBackend.csproj ... with C# code","anchor":"spin-up-a-todobackend-csproj--with-c-code","htmlText":"Spin up a TodoBackend.csproj ... with C# code"},{"level":3,"text":"Store data in EventStore","anchor":"store-data-in-eventstore","htmlText":"Store data in EventStore"},{"level":3,"text":"Store data in Azure CosmosDB","anchor":"store-data-in-azure-cosmosdb","htmlText":"Store data in Azure CosmosDB"},{"level":3,"text":"Use SqlStreamStore","anchor":"use-sqlstreamstore","htmlText":"Use SqlStreamStore"},{"level":3,"text":"Use MessageDB","anchor":"use-messagedb","htmlText":"Use MessageDB"},{"level":3,"text":"Use Amazon DynamoDB","anchor":"use-amazon-dynamodb","htmlText":"Use Amazon DynamoDB"},{"level":3,"text":"BENCHMARKS","anchor":"benchmarks","htmlText":"BENCHMARKS"},{"level":2,"text":"BUILDING","anchor":"building","htmlText":"BUILDING"},{"level":3,"text":"build and run","anchor":"build-and-run","htmlText":"build and run"},{"level":3,"text":"build, skipping tests that require a Store instance","anchor":"build-skipping-tests-that-require-a-store-instance","htmlText":"build, skipping tests that require a Store instance"},{"level":3,"text":"build, skipping all tests","anchor":"build-skipping-all-tests","htmlText":"build, skipping all tests"},{"level":3,"text":"build, skip EventStore tests","anchor":"build-skip-eventstore-tests","htmlText":"build, skip EventStore tests"},{"level":3,"text":"build, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB","anchor":"build-skip-eventstore-tests-skip-auto-provisioning--de-provisioning-cosmosdb","htmlText":"build, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB"},{"level":3,"text":"Run EventStore benchmark on .NET Core (when provisioned)","anchor":"run-eventstore-benchmark-on-net-core-when-provisioned","htmlText":"Run EventStore benchmark on .NET Core (when provisioned)"},{"level":3,"text":"run Web benchmark","anchor":"run-web-benchmark","htmlText":"run Web benchmark"},{"level":4,"text":"in Window 1","anchor":"in-window-1","htmlText":"in Window 1"},{"level":4,"text":"in Window 2","anchor":"in-window-2","htmlText":"in Window 2"},{"level":3,"text":"run CosmosDB benchmark (when provisioned)","anchor":"run-cosmosdb-benchmark-when-provisioned","htmlText":"run CosmosDB benchmark (when provisioned)"},{"level":2,"text":"PROVISIONING","anchor":"provisioning","htmlText":"PROVISIONING"},{"level":3,"text":"Provisioning EventStore (when not using -s or -se)","anchor":"provisioning-eventstore-when-not-using--s-or--se","htmlText":"Provisioning EventStore (when not using -s or -se)"},{"level":3,"text":"Provisioning CosmosDB (when not using build.ps1 -sc to skip verification)","anchor":"provisioning-cosmosdb-when-not-using-buildps1--sc-to-skip-verification","htmlText":"Provisioning CosmosDB (when not using build.ps1 -sc to skip verification)"},{"level":4,"text":"Using Azure Cosmos DB Service","anchor":"using-azure-cosmos-db-service","htmlText":"Using Azure Cosmos DB Service"},{"level":4,"text":"Using Cosmos Emulator on an Intel Mac","anchor":"using-cosmos-emulator-on-an-intel-mac","htmlText":"Using Cosmos Emulator on an Intel Mac"},{"level":3,"text":"Provisioning SqlStreamStore","anchor":"provisioning-sqlstreamstore","htmlText":"Provisioning SqlStreamStore"},{"level":2,"text":"DEPROVISIONING","anchor":"deprovisioning","htmlText":"DEPROVISIONING"},{"level":3,"text":"Deprovisioning (aka nuking) EventStore data resulting from tests to reset baseline","anchor":"deprovisioning-aka-nuking-eventstore-data-resulting-from-tests-to-reset-baseline","htmlText":"Deprovisioning (aka nuking) EventStore data resulting from tests to reset baseline"},{"level":3,"text":"Deprovisioning CosmosDB","anchor":"deprovisioning-cosmosdb","htmlText":"Deprovisioning CosmosDB"},{"level":1,"text":"RELEASING","anchor":"releasing","htmlText":"RELEASING"},{"level":2,"text":"Tagging releases","anchor":"tagging-releases","htmlText":"Tagging releases"},{"level":2,"text":"Checklist","anchor":"checklist","htmlText":"Checklist"},{"level":2,"text":"FAQ","anchor":"faq","htmlText":"FAQ"},{"level":3,"text":"What is Equinox?","anchor":"what-is-equinox","htmlText":"What is Equinox?"},{"level":3,"text":"Should I use Equinox to learn event sourcing ?","anchor":"should-i-use-equinox-to-learn-event-sourcing-","htmlText":"Should I use Equinox to learn event sourcing ?"},{"level":3,"text":"Can I use it for really big projects?","anchor":"can-i-use-it-for-really-big-projects","htmlText":"Can I use it for really big projects?"},{"level":3,"text":"Can I use it for really small projects and tiny microservices?","anchor":"can-i-use-it-for-really-small-projects-and-tiny-microservices","htmlText":"Can I use it for really small projects and tiny microservices?"},{"level":3,"text":"OK, but should I use Equinox for a small project ?","anchor":"ok-but-should-i-use-equinox-for-a-small-project-","htmlText":"OK, but should I use Equinox for a small project ?"},{"level":3,"text":"What client languages are supported ?","anchor":"what-client-languages-are-supported-","htmlText":"What client languages are supported ?"},{"level":2,"text":"You say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?","anchor":"you-say-i-can-use-volatile-memory-for-integration-tests-could-this-also-be-used-for-learning-how-to-get-started-building-event-sourcing-programs-with-equinox","htmlText":"You say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?"},{"level":3,"text":"OK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?","anchor":"ok-so-it-supports-cosmosdb-dynamodb-eventstoredb-messagedb-and-sqlstreamstore-and-might-even-support-more-in-the-future-i-really-dont-intend-to-shift-datastores-period-why-would-i-take-on-this-complexity-only-to-get-the-lowest-common-denominator-","htmlText":"OK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?"},{"level":3,"text":"Is there a guide to building the simplest possible hello world \"counter\" sample, that simply counts with an add and a subtract event?","anchor":"is-there-a-guide-to-building-the-simplest-possible-hello-world-counter-sample-that-simply-counts-with-an-add-and-a-subtract-event","htmlText":"Is there a guide to building the simplest possible hello world \"counter\" sample, that simply counts with an add and a subtract event?"},{"level":3,"text":"Why do the snapshots go in the same stream in Equinox.EventStore and Equinox.SqlStreamStore ? :pray: @chrisjhoare","anchor":"why-do-the-snapshots-go-in-the-same-stream-in-equinoxeventstore-and-equinoxsqlstreamstore--pray-chrisjhoare","htmlText":"Why do the snapshots go in the same stream in Equinox.EventStore and Equinox.SqlStreamStore ?  @chrisjhoare"},{"level":3,"text":"Changing Access / Representation strategies in Equinox.CosmosStore - what happens?","anchor":"changing-access--representation-strategies-in-equinoxcosmosstore---what-happens","htmlText":"Changing Access / Representation strategies in Equinox.CosmosStore - what happens?"},{"level":4,"text":"Some context","anchor":"some-context","htmlText":"Some context"},{"level":4,"text":"Aaand answering the question","anchor":"aaand-answering-the-question","htmlText":"Aaand answering the question"},{"level":3,"text":"Help me understand how the expectedVersion is used with EventStoreDB - it seems very confusing :pray: @dharmaturtle","anchor":"help-me-understand-how-the-expectedversion-is-used-with-eventstoredb---it-seems-very-confusing-pray-dharmaturtle","htmlText":"Help me understand how the expectedVersion is used with EventStoreDB - it seems very confusing  @dharmaturtle"},{"level":3,"text":"What kind of values does ISyncContext.Version return; i.e. what numeric value is yielded for an empty stream? :pray: @ragiano215","anchor":"what-kind-of-values-does-isynccontextversion-return-ie-what-numeric-value-is-yielded-for-an-empty-stream-pray-ragiano215","htmlText":"What kind of values does ISyncContext.Version return; i.e. what numeric value is yielded for an empty stream?  @ragiano215"},{"level":3,"text":"What is Equinox's behavior if one does a Query on a 'non-existent' stream? :pray: @ragiano215","anchor":"what-is-equinoxs-behavior-if-one-does-a-query-on-a-non-existent-stream-pray-ragiano215","htmlText":"What is Equinox's behavior if one does a Query on a 'non-existent' stream?  @ragiano215"},{"level":3,"text":"What is a Decider? How does the Equinox type Decider relate to Jrmie's concept of one? :pray: @rmaziarka","anchor":"what-is-a-decider-how-does-the-equinox-type-decider-relate-to-jrmies-concept-of-one-pray-rmaziarka","htmlText":"What is a Decider? How does the Equinox type Decider relate to Jrmie's concept of one?  @rmaziarka"},{"level":4,"text":"In Equinox","anchor":"in-equinox","htmlText":"In Equinox"},{"level":4,"text":"In general","anchor":"in-general","htmlText":"In general"},{"level":4,"text":"Consistency","anchor":"consistency","htmlText":"Consistency"},{"level":4,"text":"The ingredients","anchor":"the-ingredients","htmlText":"The ingredients"},{"level":4,"text":"So what kind of a thing is a Decider then?","anchor":"so-what-kind-of-a-thing-is-a-decider-then","htmlText":"So what kind of a thing is a Decider then?"},{"level":4,"text":"... about the process of making decisions","anchor":"-about-the-process-of-making-decisions","htmlText":"... about the process of making decisions"},{"level":3,"text":"With Equinox.CosmosStore, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as Equinox.Decider.Transact? :pray: @rmaziarka","anchor":"with-equinoxcosmosstore-it-seems-it-should-be-possible-to-handle-saving-multiple-events-from-multiple-streams-as-an-atomic-transaction-as-long-as-they-share-the-same-partition-key-in-cosmos-db-however-there-doesnt-seem-to-be-any-way-to-do-that-with-apis-such-as-equinoxdecidertransact-pray-rmaziarka","htmlText":"With Equinox.CosmosStore, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as Equinox.Decider.Transact?  @rmaziarka"},{"level":4,"text":"Why not keep it simple and have it one logical partition: a high level perspective","anchor":"why-not-keep-it-simple-and-have-it-one-logical-partition-a-high-level-perspective","htmlText":"Why not keep it simple and have it one logical partition: a high level perspective"},{"level":4,"text":"Preamble","anchor":"preamble","htmlText":"Preamble"},{"level":4,"text":"Sagas?","anchor":"sagas","htmlText":"Sagas?"},{"level":4,"text":"Transactional writes?","anchor":"transactional-writes","htmlText":"Transactional writes?"},{"level":4,"text":"So why do all these things spring to mind ?","anchor":"so-why-do-all-these-things-spring-to-mind-","htmlText":"So why do all these things spring to mind ?"},{"level":4,"text":"TL;DR on Cosmos DB for storing events (but really for all usages)","anchor":"tldr-on-cosmos-db-for-storing-events-but-really-for-all-usages","htmlText":"TL;DR on Cosmos DB for storing events (but really for all usages)"},{"level":4,"text":"Why think about it and explain it at such a low level?","anchor":"why-think-about-it-and-explain-it-at-such-a-low-level","htmlText":"Why think about it and explain it at such a low level?"},{"level":4,"text":"Conclusion","anchor":"conclusion","htmlText":"Conclusion"},{"level":3,"text":"OK, but you didn't answer my question, you just talked about stuff you wanted to talk about!","anchor":"ok-but-you-didnt-answer-my-question-you-just-talked-about-stuff-you-wanted-to-talk-about","htmlText":"OK, but you didn't answer my question, you just talked about stuff you wanted to talk about!"},{"level":1,"text":"Acknowledgements","anchor":"acknowledgements","htmlText":"Acknowledgements"},{"level":1,"text":"FURTHER READING","anchor":"further-reading","htmlText":"FURTHER READING"}],"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"}},{"displayName":"CONTRIBUTING.md","repoName":"equinox","refName":"master","path":"CONTRIBUTING.md","preferredFileType":"contributing","tabName":"Contributing","richText":null,"loaded":false,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":null,"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"}},{"displayName":"LICENSE","repoName":"equinox","refName":"master","path":"LICENSE","preferredFileType":"license","tabName":"Apache-2.0","richText":null,"loaded":false,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":null,"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"}},{"displayName":"SECURITY.md","repoName":"equinox","refName":"master","path":"SECURITY.md","preferredFileType":"security","tabName":"Security","richText":null,"loaded":false,"timedOut":false,"errorMessage":null,"headerInfo":{"toc":null,"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox"}}],"overviewFilesProcessingTime":0,"copilotSWEAgentEnabled":false}},"appPayload":{"helpUrl":"https://docs.github.com","findFileWorkerPath":"/assets-cdn/worker/find-file-worker-9bd411a8e273.js","findInFileWorkerPath":"/assets-cdn/worker/find-in-file-worker-4747241b1152.js","githubDevUrl":null,"enabled_features":{"copilot_workspace":null,"code_nav_ui_events":false,"react_blob_overlay":false,"accessible_code_button":true}}}}</script>
  <div data-target="react-partial.reactRoot"> <!-- --> <!-- --> <div class="OverviewContent-module__Box--uNd1J"><div class="OverviewHeader-module__Box--fFKf5"></div><div class="OverviewContent-module__Box_1--RhaEy"><div class="OverviewContent-module__Box_2--uHewD"><div class="OverviewContent-module__Box_3--NEYWl"><button type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" style="min-width:0" aria-label="master branch" data-testid="anchor-button" class="prc-Button-ButtonBase-c50BI overview-ref-selector width-full RefSelectorAnchoredOverlay-module__RefSelectorOverlayBtn--D34zl" data-loading="false" data-size="medium" data-variant="default" aria-describedby="ref-picker-repos-header-ref-selector-loading-announcement" id="ref-picker-repos-header-ref-selector"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x"><div class="RefSelectorAnchoredOverlay-module__RefSelectorOverlayContainer--mCbv8"><div class="RefSelectorAnchoredOverlay-module__RefSelectorOverlayHeader--D4cnZ"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></div><div class="ref-selector-button-text-container RefSelectorAnchoredOverlay-module__RefSelectorBtnTextContainer--yO402"><span class="RefSelectorAnchoredOverlay-module__RefSelectorText--bxVhQ"><!-- -->master</span></div></div></span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></span></button><button hidden="" data-testid="ref-selector-hotkey-button" data-hotkey-scope="read-only-cursor-text-area"></button></div><div class="OverviewContent-module__Box_4--rOz8J"><a type="button" href="/jet/equinox/branches" class="prc-Button-ButtonBase-c50BI OverviewContent-module__Button--MDoYP" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rclab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Branches</span></span></a><a type="button" href="/jet/equinox/tags" class="prc-Button-ButtonBase-c50BI OverviewContent-module__Button--MDoYP" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rklab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Tags</span></span></a></div><div class="OverviewContent-module__Box_5--PPbL1"><a type="button" aria-label="Go to Branches page" href="/jet/equinox/branches" class="prc-Button-ButtonBase-c50BI OverviewContent-module__Button_1--_1Ng2" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="invisible" aria-describedby=":Relab:-loading-announcement"><svg aria-hidden="true" focusable="false" class="octicon octicon-git-branch" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path></svg></a><a type="button" aria-label="Go to Tags page" href="/jet/equinox/tags" class="prc-Button-ButtonBase-c50BI OverviewContent-module__Button_1--_1Ng2" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="invisible" aria-describedby=":Rmlab:-loading-announcement"><svg aria-hidden="true" focusable="false" class="octicon octicon-tag" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path></svg></a></div></div><div class="OverviewContent-module__Box_6--wV7Tw"><div class="OverviewContent-module__Box_7--SbxdI"><div class="OverviewContent-module__Box_8--oumpR"><!--$--><div class="Box-sc-62in7e-0 OverviewContent-module__FileResultsList--irMg6"><span class="TextInput__StyledTextInput-sc-ttxlvl-0 d-flex FileResultsList-module__FilesSearchBox--fSAh3 TextInput-wrapper prc-components-TextInputWrapper-i1ofR prc-components-TextInputBaseWrapper-ueK9q" data-leading-visual="true" data-trailing-visual="true" aria-busy="false"><span class="TextInput-icon" id=":R535ab:" aria-hidden="true"><svg aria-hidden="true" focusable="false" class="octicon octicon-search" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path></svg></span><input type="text" aria-label="Go to file" role="combobox" aria-controls="file-results-list" aria-expanded="false" aria-haspopup="dialog" autoCorrect="off" spellcheck="false" placeholder="Go to file" aria-describedby=":R535ab: :R535abH1:" data-component="input" class="prc-components-Input-Ic-y8" value=""/><span class="TextInput-icon" id=":R535abH1:" aria-hidden="true"></span></span></div><!--/$--></div><div class="OverviewContent-module__Box_9--mQYON"><button type="button" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R1j5ab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="text" class="prc-Button-Label-pTQ3x">Go to file</span></span></button></div></div><button type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI" data-loading="false" data-size="medium" data-variant="primary" aria-describedby=":R75ab:-loading-announcement" id=":R75ab:"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-code hide-sm" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x">Code</span><span data-component="trailingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-triangle-down" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path></svg></span></span></button><div class="OverviewContent-module__Box_10--ULKAG"><button data-component="IconButton" type="button" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI prc-Button-IconButton-szpyj" data-loading="false" data-no-visuals="true" data-size="medium" data-variant="default" aria-describedby=":R95ab:-loading-announcement" aria-labelledby=":R7p5ab:" id=":R95ab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-kebab-horizontal" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg></button><span class="prc-TooltipV2-Tooltip-cYMVY" data-direction="n" aria-hidden="true" id=":R7p5ab:">Open more actions menu</span></div></div></div><div class="OverviewContent-module__Box_11--Tqhu2"><div data-hpc="true"><button hidden="" data-testid="focus-next-element-button" data-hotkey="j"></button><button hidden="" data-testid="focus-previous-element-button" data-hotkey="k"></button><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vlUbc prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading" id="folders-and-files">Folders and files</h2><table class="Table-module__Box--KyMHK" aria-labelledby="folders-and-files"><thead class="DirectoryContent-module__OverviewHeaderRow--FlrUZ Table-module__Box_1--DkRqs"><tr class="Table-module__Box_2--l1wjV"><th colSpan="2" class="DirectoryContent-module__Box--y3Nvf"><span class="text-bold">Name</span></th><th colSpan="1" class="DirectoryContent-module__Box_1--xeAhp"><span class="text-bold">Name</span></th><th class="hide-sm"><div class="width-fit prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Last commit message" style="--truncate-max-width:125px"><span class="text-bold">Last commit message</span></div></th><th colSpan="1" class="DirectoryContent-module__Box_2--h912w"><div class="width-fit prc-Truncate-Truncate-A9Wn6" data-inline="true" title="Last commit date" style="--truncate-max-width:125px"><span class="text-bold">Last commit date</span></div></th></tr></thead><tbody><tr class="DirectoryContent-module__Box_3--zI0N1"><td colSpan="3" class="bgColor-muted p-1 rounded-top-2"><div class="LatestCommit-module__Box--Fimpo"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vlUbc prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">Latest commit</h2><div style="width:120px" class="Skeleton Skeleton--text" data-testid="loading"></div><div class="d-flex flex-shrink-0 gap-2"><div data-testid="latest-commit-details" class="d-none d-sm-flex flex-items-center"></div><div class="d-flex gap-2"><h2 class="sr-only ScreenReaderHeading-module__userSelectNone--vlUbc prc-Heading-Heading-6CmGO" data-testid="screen-reader-heading">History</h2><a href="/jet/equinox/commits/master/" class="prc-Button-ButtonBase-c50BI d-none d-lg-flex LinkButton-module__code-view-link-button--thtqc flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":Raqj8pab:-loading-announcement"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span><span data-component="text" class="prc-Button-Label-pTQ3x"><span class="fgColor-default">819 Commits</span></span></span></a><div class="d-sm-none"></div><div class="d-flex d-lg-none"><span role="tooltip" aria-label="819 Commits" id="history-icon-button-tooltip" class="prc-Tooltip-Tooltip--1XZX prc-Tooltip-Tooltip--n-BOOzB tooltipped-n"><a aria-label="View commit history for this file." href="/jet/equinox/commits/master/" class="prc-Button-ButtonBase-c50BI LinkButton-module__code-view-link-button--thtqc flex-items-center fgColor-default" data-loading="false" data-size="small" data-variant="invisible" aria-describedby=":R1iqj8pab:-loading-announcement history-icon-button-tooltip"><span data-component="buttonContent" data-align="center" class="prc-Button-ButtonContent-HKbr-"><span data-component="leadingVisual" class="prc-Button-Visual-2epfX prc-Button-VisualWrap-Db-eB"><svg aria-hidden="true" focusable="false" class="octicon octicon-history" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"></path></svg></span></span></a></span></div></div></div></div></td></tr><tr class="react-directory-row undefined" id="folder-row-0"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="diagrams" aria-label="diagrams, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/diagrams" data-discover="true">diagrams</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="diagrams" aria-label="diagrams, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/diagrams" data-discover="true">diagrams</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-1"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="samples" aria-label="samples, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/samples" data-discover="true">samples</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="samples" aria-label="samples, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/samples" data-discover="true">samples</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-2"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="src" aria-label="src, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/src" data-discover="true">src</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="src" aria-label="src, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/src" data-discover="true">src</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-3"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tests" aria-label="tests, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/tests" data-discover="true">tests</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tests" aria-label="tests, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/tests" data-discover="true">tests</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-4"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tools" aria-label="tools, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/tools" data-discover="true">tools</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file-directory-fill icon-directory" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="tools" aria-label="tools, (Directory)" class="Link--primary" href="/jet/equinox/tree/master/tools" data-discover="true">tools</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-5"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".editorconfig" aria-label=".editorconfig, (File)" class="Link--primary" href="/jet/equinox/blob/master/.editorconfig" data-discover="true">.editorconfig</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".editorconfig" aria-label=".editorconfig, (File)" class="Link--primary" href="/jet/equinox/blob/master/.editorconfig" data-discover="true">.editorconfig</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-6"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitattributes" aria-label=".gitattributes, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitattributes" data-discover="true">.gitattributes</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitattributes" aria-label=".gitattributes, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitattributes" data-discover="true">.gitattributes</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-7"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitignore" aria-label=".gitignore, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitignore" data-discover="true">.gitignore</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitignore" aria-label=".gitignore, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitignore" data-discover="true">.gitignore</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-8"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitpod.yml" aria-label=".gitpod.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitpod.yml" data-discover="true">.gitpod.yml</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title=".gitpod.yml" aria-label=".gitpod.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/.gitpod.yml" data-discover="true">.gitpod.yml</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row undefined" id="folder-row-9"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CHANGELOG.md" aria-label="CHANGELOG.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/CHANGELOG.md" data-discover="true">CHANGELOG.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CHANGELOG.md" aria-label="CHANGELOG.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/CHANGELOG.md" data-discover="true">CHANGELOG.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-10"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CONTRIBUTING.md" aria-label="CONTRIBUTING.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/CONTRIBUTING.md" data-discover="true">CONTRIBUTING.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="CONTRIBUTING.md" aria-label="CONTRIBUTING.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/CONTRIBUTING.md" data-discover="true">CONTRIBUTING.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-11"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="DOCUMENTATION.md" aria-label="DOCUMENTATION.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/DOCUMENTATION.md" data-discover="true">DOCUMENTATION.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="DOCUMENTATION.md" aria-label="DOCUMENTATION.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/DOCUMENTATION.md" data-discover="true">DOCUMENTATION.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-12"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Directory.Build.props" aria-label="Directory.Build.props, (File)" class="Link--primary" href="/jet/equinox/blob/master/Directory.Build.props" data-discover="true">Directory.Build.props</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Directory.Build.props" aria-label="Directory.Build.props, (File)" class="Link--primary" href="/jet/equinox/blob/master/Directory.Build.props" data-discover="true">Directory.Build.props</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-13"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Directory.Build.targets" aria-label="Directory.Build.targets, (File)" class="Link--primary" href="/jet/equinox/blob/master/Directory.Build.targets" data-discover="true">Directory.Build.targets</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Directory.Build.targets" aria-label="Directory.Build.targets, (File)" class="Link--primary" href="/jet/equinox/blob/master/Directory.Build.targets" data-discover="true">Directory.Build.targets</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-14"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Equinox.sln" aria-label="Equinox.sln, (File)" class="Link--primary" href="/jet/equinox/blob/master/Equinox.sln" data-discover="true">Equinox.sln</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Equinox.sln" aria-label="Equinox.sln, (File)" class="Link--primary" href="/jet/equinox/blob/master/Equinox.sln" data-discover="true">Equinox.sln</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-15"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Equinox.sln.DotSettings" aria-label="Equinox.sln.DotSettings, (File)" class="Link--primary" href="/jet/equinox/blob/master/Equinox.sln.DotSettings" data-discover="true">Equinox.sln.DotSettings</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="Equinox.sln.DotSettings" aria-label="Equinox.sln.DotSettings, (File)" class="Link--primary" href="/jet/equinox/blob/master/Equinox.sln.DotSettings" data-discover="true">Equinox.sln.DotSettings</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-16"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="LICENSE" aria-label="LICENSE, (File)" class="Link--primary" href="/jet/equinox/blob/master/LICENSE" data-discover="true">LICENSE</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="LICENSE" aria-label="LICENSE, (File)" class="Link--primary" href="/jet/equinox/blob/master/LICENSE" data-discover="true">LICENSE</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-17"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="README.md" aria-label="README.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/README.md" data-discover="true">README.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="README.md" aria-label="README.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/README.md" data-discover="true">README.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-18"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="SECURITY.md" aria-label="SECURITY.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/SECURITY.md" data-discover="true">SECURITY.md</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="SECURITY.md" aria-label="SECURITY.md, (File)" class="Link--primary" href="/jet/equinox/blob/master/SECURITY.md" data-discover="true">SECURITY.md</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-19"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="azure-pipelines.yml" aria-label="azure-pipelines.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/azure-pipelines.yml" data-discover="true">azure-pipelines.yml</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="azure-pipelines.yml" aria-label="azure-pipelines.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/azure-pipelines.yml" data-discover="true">azure-pipelines.yml</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-20"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="build.proj" aria-label="build.proj, (File)" class="Link--primary" href="/jet/equinox/blob/master/build.proj" data-discover="true">build.proj</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="build.proj" aria-label="build.proj, (File)" class="Link--primary" href="/jet/equinox/blob/master/build.proj" data-discover="true">build.proj</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-21"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="build.ps1" aria-label="build.ps1, (File)" class="Link--primary" href="/jet/equinox/blob/master/build.ps1" data-discover="true">build.ps1</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="build.ps1" aria-label="build.ps1, (File)" class="Link--primary" href="/jet/equinox/blob/master/build.ps1" data-discover="true">build.ps1</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-22"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose-cosmos.sh" aria-label="docker-compose-cosmos.sh, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose-cosmos.sh" data-discover="true">docker-compose-cosmos.sh</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose-cosmos.sh" aria-label="docker-compose-cosmos.sh, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose-cosmos.sh" data-discover="true">docker-compose-cosmos.sh</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-23"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose.env" aria-label="docker-compose.env, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose.env" data-discover="true">docker-compose.env</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose.env" aria-label="docker-compose.env, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose.env" data-discover="true">docker-compose.env</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-24"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose.yml" aria-label="docker-compose.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose.yml" data-discover="true">docker-compose.yml</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="docker-compose.yml" aria-label="docker-compose.yml, (File)" class="Link--primary" href="/jet/equinox/blob/master/docker-compose.yml" data-discover="true">docker-compose.yml</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-25"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="global.json" aria-label="global.json, (File)" class="Link--primary" href="/jet/equinox/blob/master/global.json" data-discover="true">global.json</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="global.json" aria-label="global.json, (File)" class="Link--primary" href="/jet/equinox/blob/master/global.json" data-discover="true">global.json</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="react-directory-row truncate-for-mobile" id="folder-row-26"><td class="react-directory-row-name-cell-small-screen" colSpan="2"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="nuget.config" aria-label="nuget.config, (File)" class="Link--primary" href="/jet/equinox/blob/master/nuget.config" data-discover="true">nuget.config</a></div></div></div></div></td><td class="react-directory-row-name-cell-large-screen" colSpan="1"><div class="react-directory-filename-column"><svg aria-hidden="true" focusable="false" class="octicon octicon-file color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"></path></svg><div class="overflow-hidden"><div class="react-directory-filename-cell"><div class="react-directory-truncate"><a title="nuget.config" aria-label="nuget.config, (File)" class="Link--primary" href="/jet/equinox/blob/master/nuget.config" data-discover="true">nuget.config</a></div></div></div></div></td><td class="react-directory-row-commit-cell"><div class="Skeleton Skeleton--text"></div></td><td><div class="Skeleton Skeleton--text"></div></td></tr><tr class="show-for-mobile DirectoryContent-module__Box_4--QyUbd" data-testid="view-all-files-row"><td colSpan="3" class="DirectoryContent-module__Box_5--OJZQU"><div><button class="prc-Link-Link-85e08">View all files</button></div></td></tr></tbody></table></div><div class="OverviewRepoFiles-module__Box_1--xSt0T"><div class="OverviewRepoFiles-module__Box_2--yIjMp"><div itemscope="" itemType="https://schema.org/abstract" class="OverviewRepoFiles-module__Box_3--Bi2jM"><h2 class="prc-src-InternalVisuallyHidden-nlR9R">Repository files navigation</h2><nav class="prc-components-UnderlineWrapper-oOh5J OverviewRepoFiles-module__UnderlineNav--BHfFi" aria-label="Repository files" data-variant="inset"><ul class="prc-components-UnderlineItemList-b23Hf" role="list"><li class="prc-UnderlineNav-UnderlineNavItem--xDk1"><a href="#" aria-current="page" class="prc-components-UnderlineItem-lJsg-"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-book" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path></svg></span><span data-component="text" data-content="README">README</span></a></li><li class="prc-UnderlineNav-UnderlineNavItem--xDk1"><a href="#" class="prc-components-UnderlineItem-lJsg-"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-people" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path></svg></span><span data-component="text" data-content="Contributing">Contributing</span></a></li><li class="prc-UnderlineNav-UnderlineNavItem--xDk1"><a href="#" class="prc-components-UnderlineItem-lJsg-"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-law" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg></span><span data-component="text" data-content="Apache-2.0 license">Apache-2.0 license</span></a></li><li class="prc-UnderlineNav-UnderlineNavItem--xDk1"><a href="#" class="prc-components-UnderlineItem-lJsg-"><span data-component="icon"><svg aria-hidden="true" focusable="false" class="octicon octicon-law" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path></svg></span><span data-component="text" data-content="Security">Security</span></a></li></ul></nav><button type="button" aria-label="Outline" aria-haspopup="true" aria-expanded="false" tabindex="0" class="prc-Button-ButtonBase-c50BI OverviewRepoFiles-module__ActionMenu_Button--xB9DS" data-loading="false" data-size="medium" data-variant="invisible" aria-describedby=":Rr9ab:-loading-announcement" id=":Rr9ab:"><svg aria-hidden="true" focusable="false" class="octicon octicon-list-unordered" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" display="inline-block" overflow="visible" style="vertical-align:text-bottom"><path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg></button></div><div class="Box-sc-62in7e-0 js-snippet-clipboard-copy-unpositioned DirectoryRichtextContent-module__SharedMarkdownContent--BTKsc" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Equinox <a href="https://dev.azure.com/jet-opensource/opensource/_build/latest?definitionId=4?branchName=master" rel="nofollow"><img src="https://camo.githubusercontent.com/d0a12ecf2c7e146e320907dc2dd357dde2da759c89d2f780809953d9b7cf8c7e/68747470733a2f2f6465762e617a7572652e636f6d2f6a65742d6f70656e736f757263652f6f70656e736f757263652f5f617069732f6275696c642f7374617475732f6a65742e657175696e6f783f6272616e63684e616d653d6d6173746572" alt="Build Status" data-canonical-src="https://dev.azure.com/jet-opensource/opensource/_apis/build/status/jet.equinox?branchName=master" style="max-width: 100%;"></a> <a href="https://github.com/jet/equinox/releases"><img src="https://camo.githubusercontent.com/62b61e8bc1aca181995c3c9d53d0afbfc55e24fae5b064b71b64a0746724c49c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6a65742f657175696e6f782e737667" alt="release" data-canonical-src="https://img.shields.io/github/release/jet/equinox.svg" style="max-width: 100%;"></a> <a href="https://www.nuget.org/packages/Equinox/" rel="nofollow"><img src="https://camo.githubusercontent.com/cb588cb04c1ae5feff6bf8f57ed302badfc6c90d3a34a85f13509cb1a20fe8bf/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f767072652f657175696e6f78" alt="NuGet" data-canonical-src="https://img.shields.io/nuget/vpre/equinox" style="max-width: 100%;"></a> <a href="/jet/equinox/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/5491f014394e4ab97cd27aa6747db0c023a79b7d3194faaca350af2a89c894cb/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6a65742f457175696e6f782e737667" alt="license" data-canonical-src="https://img.shields.io/github/license/jet/Equinox.svg" style="max-width: 100%;"></a> <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/915216567226b6478adb516f236bda2cf2fabb609b1c73bcf1f750a6b07e4d2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c616e6775616765732f636f64652d73697a652f6a65742f657175696e6f782e737667"><img src="https://camo.githubusercontent.com/915216567226b6478adb516f236bda2cf2fabb609b1c73bcf1f750a6b07e4d2c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c616e6775616765732f636f64652d73697a652f6a65742f657175696e6f782e737667" alt="code size" data-canonical-src="https://img.shields.io/github/languages/code-size/jet/equinox.svg" style="max-width: 100%;"></a> <a href="/jet/equinox/blob/master/DOCUMENTATION.md"><img src="https://camo.githubusercontent.com/95c1b51267fe1bbe0f4939085942b4ecf251d50bdf05cd8aa2cce1c0372a6d63/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f444f43554d454e544154494f4e2d5749502d696d706f7274616e742e7376673f7374796c653d706f706f7574" alt="docs status" data-canonical-src="https://img.shields.io/badge/DOCUMENTATION-WIP-important.svg?style=popout" style="max-width: 100%;"></a> <a href="https://discord.gg/sEZGSHNNbH" rel="nofollow"><img src="https://camo.githubusercontent.com/5f623f4e7902977130b95bb0e4b62db37437e31300d05dc639574ee7a7b931e9/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3531343738333839393434303737353136383f636f6c6f723d626c7565266c6162656c3d43686174253230696e253230657175696e6f782532306f6e2532304444442d435152532d4553253230446973636f7264" alt="Discord" data-canonical-src="https://img.shields.io/discord/514783899440775168?color=blue&amp;label=Chat%20in%20equinox%20on%20DDD-CQRS-ES%20Discord" style="max-width: 100%;"></a></h1><a id="user-content-equinox-------" class="anchor" aria-label="Permalink: Equinox " href="#equinox-------"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Equinox is a set of low dependency libraries that allow for event-sourced processing against stream-based stores handling:</p>
<ul dir="auto">
<li>Snapshots</li>
<li>Caching</li>
<li><a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control" rel="nofollow">Optimistic concurrency control</a></li>
</ul>
<p dir="auto"><strong>Not a framework</strong>; <em>you</em> compose the libraries into an architecture that fits your apps' evolving needs.</p>
<p dir="auto">It does not and will not handle projections and subscriptions. See <a href="https://github.com/jet/propulsion">Propulsion</a> for that.</p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Table of Contents</h1><a id="user-content-table-of-contents" class="anchor" aria-label="Permalink: Table of Contents" href="#table-of-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#design-motivation">Design Motivation</a></li>
<li><a href="#features">Features</a></li>
<li><a href="#currently-supported-data-stores">Currently Supported Data Stores</a></li>
<li><a href="#components">Components</a>
<ul dir="auto">
<li><a href="#core-library">Core library</a></li>
<li><a href="#serialization-support">Serialization Support</a></li>
<li><a href="#data-store-libraries">Data Store Libraries</a></li>
<li><a href="#projection-libraries">Projection Libraries</a></li>
<li><a href="#tools">Tools</a></li>
<li><a href="#starter-project-templates-and-sample-applications">Starter Project Templates and Sample Applications</a></li>
</ul>
</li>
<li><a href="#overview">Overview</a></li>
<li><a href="#templates">Templates</a></li>
<li><a href="#samples">Samples</a></li>
<li><a href="#building">Building</a></li>
<li><a href="#releasing">Releasing</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
<li><a href="#further-reading">Further Reading</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Getting Started</h1><a id="user-content-getting-started" class="anchor" aria-label="Permalink: Getting Started" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>If you want to start with code samples that run in F# interactive, <a href="https://github.com/jet/equinox/blob/master/samples/Tutorial/Counter.fsx#L20">there's a simple <code>Counter</code> example using <code>Equinox.MemoryStore</code></a></li>
<li>If you are experienced with event sourcing, CosmosDB and F#, you might gain most from this <a href="https://github.com/jet/equinox/blob/master/samples/Tutorial/Cosmos.fsx#L42">100 LOC end-to-end example using CosmosDB</a></li>
<li>If you are familiar with basic event sourcing mechanisms and want a meatier example of applying Equinox to a problem, <a href="https://github.com/nordfjord">Einar Norfjr</a>'s article, <a href="https://nordfjord.io/2022/12/05/equinox.html" rel="nofollow">The Equinox Programming model</a> walks through a <a href="https://github.com/nordfjord/minimal-equinox">complete end-to-end sample</a> covering the key design considerations.</li>
<li>If you are experienced with CosmosDB and something like <a href="https://github.com/Dzoukr/CosmoStore">CosmoStore</a>, but want to understand what sort of facilities Equinox adds on top of raw event management, see the <a href="https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#access-strategies">Access Strategies guide</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Design Motivation</h1><a id="user-content-design-motivation" class="anchor" aria-label="Permalink: Design Motivation" href="#design-motivation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Equinox's design is informed by discussions, talks and countless hours of hard and thoughtful work invested into many previous systems, <a href="https://github.com/NEventStore">frameworks</a>, <a href="https://github.com/thinkbeforecoding/FsUno.Prod">samples</a>, <a href="https://github.com/bartelink/FunDomain">forks of samples</a>, the outstanding continuous work of the <a href="https://github.com/eventstore">EventStore</a> founders and team and the wider <a href="https://groups.google.com/forum/#!forum/dddcqrs" rel="nofollow">DDD-CQRS-ES</a> community. It would be unfair to single out even a small number of people despite the immense credit that is due. Some aspects of the implementation are distilled from <a href="http://gorodinski.com/blog/2013/02/17/domain-driven-design-with-fsharp-and-eventstore/" rel="nofollow"><code>Jet.com</code> systems dating all the way back to 2013</a>.</p>
<p dir="auto">An event sourcing system usually needs to address the following concerns:</p>
<ol dir="auto">
<li>Storing events with good performance and debugging capabilities</li>
<li>Transaction processing
<ul dir="auto">
<li>Optimistic concurrency (handle loading conflicting events and retrying if another transaction overlaps on the same stream)</li>
<li>Folding events into a State, updating as new events are added</li>
</ul>
</li>
<li>Decoding events using codecs and formats</li>
<li>Framework and application integration</li>
<li>Projections and Reactions</li>
</ol>
<p dir="auto">Designing something that supports all of these as a single integrated solution results in an inflexible and difficult to use framework.
Thus, Equinox focuses on two central aspects of event sourcing: items 1 and 2 on the list above.</p>
<p dir="auto">Of course, the other concerns can't be ignored; thus, they are supported via other libraries that focus on them:</p>
<ul dir="auto">
<li><a href="https://github.com/jet/FsCodec">FsCodec</a> supports encoding and decoding (concern 3)</li>
<li><a href="https://github.com/jet/propulsion">Propulsion</a> supports projections and reactions (concern 5)</li>
</ul>
<p dir="auto">Integration with other frameworks (e.g., Equinox wiring into ASP.NET Core) is something that is intentionally avoided; as you build your application, the nature of how you integrate things will naturally evolve.</p>
<p dir="auto">We believe the fact Equinox is a library is critical:</p>
<ul dir="auto">
<li>It gives you the ability to pick your preferred way of supporting your event sourcing system.</li>
<li>There's less coupling to worry about as your application evolves over time.</li>
</ul>
<p dir="auto"><em>If you're looking to learn more about and/or discuss Event Sourcing and it's myriad benefits, trade-offs and pitfalls as you apply it to your Domain, look no further than the thriving 4000+ member community on the <a href="https://github.com/ddd-cqrs-es/community">DDD-CQRS-ES Discord</a>; you'll get patient and impartial world class advice 24x7 (there are <a href="https://discord.com/channels/514783899440775168/1002635005429825657" rel="nofollow">#equinox</a>, <a href="https://discord.com/channels/514783899440775168/762672037113757746" rel="nofollow">#eventstore</a> and <a href="https://discord.com/channels/514783899440775168/762671996550774804" rel="nofollow">#sql-stream-store</a> channels for questions or feedback).</em> (<a href="https://discord.gg/sEZGSHNNbH" rel="nofollow">invite link</a>)</p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Features</h1><a id="user-content-features" class="anchor" aria-label="Permalink: Features" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Designed not to invade application code; your domain tests can be written directly against your models.</li>
<li>Core ideas and features of the library are extracted from ideas and lessons learned from existing production software.</li>
<li>Test coverage for it's core features. In addition there are baseline and specific tests for each supported storage system and a comprehensive test and benchmarking story</li>
<li>Pluggable event serialization. All encoding is specified in terms of the <a href="https://github.com/jet/FsCodec#IEventCodec"><code>FsCodec.IEventCodec</code> contract</a>. <a href="https://github.com/jet/FsCodec">FsCodec</a> provides for pluggable encoding of events based on:
<ul dir="auto">
<li><code>NewtonsoftJson.Codec</code>: a <a href="https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores/" rel="nofollow">versionable convention-based approach</a> (using <code>Typeshape</code>'s <code>UnionContractEncoder</code> under the covers), providing for serializer-agnostic schema evolution with minimal boilerplate</li>
<li><code>SystemTextJson.Codec</code>: a replacement to support Microsoft's default serializer - <a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.json?view=netcore-3.1" rel="nofollow">System.Text.Json</a>.</li>
<li><code>Box.Codec</code>: lightweight <a href="https://github.com/jet/FsCodec#boxcodec">non-serializing substitute equivalent to <code>NewtonsoftJson.Codec</code> for use in unit and integration tests</a></li>
<li><code>Codec</code>: an explicitly coded pair of <code>encode</code> and <code>tryDecode</code> functions for when you need to customize</li>
</ul>
</li>
<li>Caching using the .NET <code>MemoryCache</code> to:
<ul dir="auto">
<li>Minimize round trips; consistent implementation across stores  <a href="https://github.com/jet/equinox/pull/161" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/161/hovercard">@DSilence</a></li>
<li>Minimize latency and bandwidth / Request Charges by maintaining the folded state, without needing the Domain Model folded state to be serializable</li>
<li>Enable read through caching, coalescing concurrent reads via opt-in <code>LoadOption.AllowStale</code></li>
</ul>
</li>
<li>Mature and comprehensive logging (using <a href="https://github.com/serilog/serilog">Serilog</a> internally), with optimal performance and pluggable integration with your apps hosting context (we ourselves typically feed log info to Splunk and the metrics embedded in the <code>Serilog.Events.LogEvent</code> Properties to Prometheus; see relevant tests for examples)</li>
<li>OpenTelemetry Integration (presently only implemented in <code>Equinox.Core</code> and <code>Equinox.MessageDb</code> ... <code>#help-wanted</code>)</li>
<li><strong><code>Equinox.EventStore</code>, <code>Equinox.SqlStreamStore</code>: In-stream Rolling Snapshots</strong>:
<ul dir="auto">
<li>No additional round trips to the store needed at either the Load or Sync points in the flow</li>
<li>Support for multiple co-existing compaction schemas for a given stream (A 'compaction' event/snapshot is an Event). This is done by the <a href="https://github.com/jet/FsCodec#IEventCodec"><code>FsCodec.IEventCodec</code></a>
<ul dir="auto">
<li>Compaction events typically do not get deleted (consistent with how EventStoreDB works), although it is safe to do so in concept (there are no assumptions that the events must be contiguous and/or that the number of events implies a specific version etc)</li>
</ul>
</li>
<li>While snapshotting can deliver excellent performance especially when allied with the Cache, <a href="https://eventstore.org/docs/event-sourcing-basics/rolling-snapshots/index.html" rel="nofollow">it's not a panacea, as noted in this EventStore article on the topic</a></li>
</ul>
</li>
<li><strong><code>Equinox.MessageDb</code>: Adjacent Snapshots</strong>:
<ul dir="auto">
<li>Maintains snapshot events in an adjacent, separated <code>{Category}:snapshot-{StreamId}</code> stream (in contrast to the EventStoreDb and SqlStreamStore <code>RollingState</code> strategy, which embeds the snapshots directly within the stream in question)</li>
<li>Generating &amp; storing the snapshot takes place subsequent to the normal appending of events, once every <code>batchSize</code> events. This means the state of the stream can be reconstructed with exactly 2 round-trips to the database (caching can of course remove the snapshot reads on subsequent calls)</li>
<li>Note there's no logic in the system (or in message-db as a whole) to prune snapshots (although it's safe to remove them at any time, including for the 'current' one - a fresh one will get rewritten upon the next successful event append)</li>
</ul>
</li>
<li><strong><code>Equinox.CosmosStore</code> 'Tip with Unfolds' schema</strong>:
<ul dir="auto">
<li>In contrast to <code>Equinox.EventStore</code>'s <code>AccessStrategy.RollingSnapshots</code>, when using <code>Equinox.CosmosStore</code>, optimized command processing is managed via the <code>Tip</code> - a document per stream with an identity enabling syncing the read/write position via a single <a href="https://devblogs.microsoft.com/cosmosdb/point-reads-versus-queries" rel="nofollow">point-read</a>. The <code>Tip</code> maintains the following:
<ul dir="auto">
<li>It records the current write position for the stream which is used for <a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control" rel="nofollow">optimistic concurrency control</a> - i.e. the index at which the next events will be appended for a given stream (events and the Tip share a common logical partition key)</li>
<li>It maintains the current <a href="/jet/equinox/blob/master/DOCUMENTATION.md#Cosmos-Storage-Model">unfolds</a> / snapshot data which is <code>deflate+base64</code> compressed.</li>
<li>It can maintain events in a buffer when the tip accumulation limit is reached. The limit is up to a specified count or <code>JSON.stringify</code> length. When the limit is met, events are shifted to a immutable <code>Batch</code>.</li>
</ul>
</li>
<li>Has the benefits of the in-stream Rolling Snapshots approach while reducing latency and RU provisioning requirements due to meticulously tuned Request Charge costs:
<ul dir="auto">
<li>When the stream is empty, the initial <code>Load</code> operation involves a single point read that yields a <code>404 NotFound</code> response, costing 1.0 RU</li>
<li>When coupled with the cache, a typical read is a point read [with <code>IfNoneMatch</code> on an etag], costing 1.0 RU if in-date [to get the <code>304 Not Modified</code> response] (when the stream is empty, a <code>404 NotFound</code> response, also costing 1.0 RU)</li>
<li>Writes are a single invocation of the <code>Sync</code> stored procedure which:
<ul dir="auto">
<li>Does a point read</li>
<li>Performs a concurrency check</li>
<li>Uses that check to apply the write OR returns the conflicting events and unfolds</li>
</ul>
</li>
<li>No additional round trips to the store needed at either the <code>Load</code> or <code>Sync</code> points in the flow</li>
</ul>
</li>
<li>It should be noted that from a querying perspective, the <code>Tip</code> shares the same structure as <code>Batch</code> documents (a potential future extension would be to carry some events in the <code>Tip</code> as <a href="https://github.com/jet/equinox/pull/58" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/58/hovercard">some interim versions of the implementation once did</a>, see also <a href="https://github.com/jet/equinox/pull/109" data-hovercard-type="issue" data-hovercard-url="/jet/equinox/issues/109/hovercard">#109</a>.</li>
</ul>
</li>
<li><strong><code>Equinox.CosmosStore</code> <code>RollingState</code> and <code>Custom</code> 'non-event-sourced' modes</strong>:
<ul dir="auto">
<li>Uses 'Tip with Unfolds' encoding to avoid having to write event documents at all. This option benefits from the caching and consistency management mechanisms because the cost of writing and storing infinitely increasing events are removed. Search for <code>transmute</code> or <code>RollingState</code> in the <code>samples</code> and/or see <a href="https://github.com/jet/propulsion/blob/master/src/Propulsion.EventStore/Checkpoint.fs">the <code>Checkpoint</code> Aggregate in Propulsion</a>. One chief use of this mechanism is for tracking Summary Event feeds in <a href="https://github.com/jet/dotnet-templates/tree/master/propulsion-summary-consumer">the <code>dotnet-templates</code> <code>summaryConsumer</code> template</a>.</li>
</ul>
</li>
<li><strong><code>Equinox.DynamoStore</code></strong>:
<ul dir="auto">
<li>Most features and behaviors are as per <code>Equinox.CosmosStore</code>, with the following key differences:
<ul dir="auto">
<li>Instead of using a Stored Procedure as <code>CosmosStore</code> does, the implementation involves:
<ul dir="auto">
<li>conditional <code>PutItem</code> and <a href="https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html" rel="nofollow"><code>UpdateItem</code></a> requests to accumulate events in the Tip (where there is space available).</li>
<li>All event writes are guaranteed to first be inserted or appended to the Tip (to guarantee the DynamoDB Streams output is correctly ordered)
<a href="https://github.com/jet/equinox/pull/401" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/401/hovercard">see #401</a> and <a href="https://github.com/jet/propulsion/pull/222" data-hovercard-type="pull_request" data-hovercard-url="/jet/propulsion/pull/222/hovercard">Propulsion #222</a>  <a href="https://github.com/epNickColeman">@epNickColeman</a></li>
<li>At the point where the Tip exceeds any of the configured and/or implicit limits, a <a href="https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_TransactWriteItems.html" rel="nofollow"><code>TransactWriteItems</code></a> request is used (see <a href="https://github.com/fsprojects/FSharp.AWS.DynamoDB/pull/48" data-hovercard-type="pull_request" data-hovercard-url="/fsprojects/FSharp.AWS.DynamoDB/pull/48/hovercard">implementation in <code>FSharp.AWS.DynamoDB</code></a>):
<ul dir="auto">
<li>maximum event count (not limited by default)</li>
<li>maximum accumulated event size (default 32KiB)</li>
<li>DynamoDB Item Size Limit (hard limit of 400KiB)</li>
</ul>
</li>
</ul>
</li>
<li>DynamoDB does not support an etag-checked Read API, which means a cache hit is not as efficient as it is on CosmosDB (and the data hence travels and is deserialized unnecessarily)</li>
<li>Concurrency conflicts necessitate an additional roundtrip to resync <a href="https://stackoverflow.com/questions/71622525" rel="nofollow">as the DynamoDB Service does not yield the item in the event of a <code>ConditionalCheckFailedException</code></a>
<ul dir="auto">
<li>NOTE: As of 30 June 2023, DDB now supports returning the conflicting events; TODO implement resync without an extra roundtrip via <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1787302777" data-permission-text="Title is private" data-url="https://github.com/fsprojects/FSharp.AWS.DynamoDB/issues/68" data-hovercard-type="issue" data-hovercard-url="/fsprojects/FSharp.AWS.DynamoDB/issues/68/hovercard" href="https://github.com/fsprojects/FSharp.AWS.DynamoDB/issues/68">fsprojects/FSharp.AWS.DynamoDB#68</a></li>
</ul>
</li>
<li><code>Equinox.Cosmos.Core.Events.appendAtEnd</code>/<code>NonIdempotentAppend</code> has not been ported (there's no obvious clean and efficient way to do a conditional insert/update/split as the CosmosDB stored proc can, and this is a low usage feature)</li>
<li>The implementation uses <a href="https://github.com/fsprojects/FSharp.AWS.DynamoDB">the excellent <code>FSharp.AWS.DynamoDB</code> library</a>) (which wraps the standard AWS <code>AWSSDK.DynamoDBv2</code> SDK Package), and leans on <a href="https://github.com/pierregoudjo/dynamodb_conditional_writes">significant preparatory research</a>  <a href="https://github.com/pierregoudjo">@pierregoudjo</a></li>
<li><code>CosmosStore</code> dictates (as of V4) that event bodies be supplied as <code>System.Text.Json.JsonElement</code>s (in order that events can be included in the Document/ Items as JSON directly. This is also to underscore the fact that the only reasonable format to use is valid JSON; binary data would need to be base64 encoded. <code>DynamoStore</code> accepts and yields event bodies as arbitrary <code>ReadOnlyMemory&lt;byte&gt;</code> BLOBs (the AWS SDK round-trips such blobs as a <code>MemoryStream</code> and does not impose any restrictions on the blobs in terms of required format).</li>
<li><code>CosmosStore</code> defaults to compressing (with <code>System.IO.Compression.DeflateStream</code>) event bodies for Unfolds; <code>DynamoStore</code> round-trips an <code>encoding: int</code> value, which enables the <code>IEventCodec</code> to manage that concern. Regardless, minimizing Request Charges is imperative when request size directly maps to financial charges, 429s, reduced throughput and a lowered scaling ceiling.</li>
</ul>
</li>
<li>Azure CosmosDB's ChangeFeed API intrinsically supports replays of all the events in a Store, whereas the DynamoDB Streams facility only retains 24h of actions. As a result, there are ancillary components that provide equivalent functionality composed of:
<ul dir="auto">
<li><code>Propulsion.DynamoStore.Lambda</code>: an AWS Lambda that is configured via a DynamoDB Streams Trigger to Index the Events (represented as Equinox Streams, typically in a separated <code>&lt;tableName&gt;-index</code> Table) as they are appended</li>
<li><code>Propulsion.DynamoStore.DynamoStoreSource</code>: consumes the Index Streams akin to how <code>Propulsion.CosmosStore.CosmosStoreSource</code> consumes the CosmosDB Change Feed</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Currently Supported Data Stores</h1><a id="user-content-currently-supported-data-stores" class="anchor" aria-label="Permalink: Currently Supported Data Stores" href="#currently-supported-data-stores"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto"><code>MemoryStore</code>: In-memory store (volatile, for unit or integration test purposes). Fulfils the full contract Equinox imposes on a store, but without I/O costs <a href="https://github.com/jet/equinox/blob/master/src/Equinox.MemoryStore/MemoryStore.fs">(it's ~100 LOC wrapping a <code>ConcurrentDictionary</code>)</a>. Also enables <a href="https://github.com/jet/FsCodec#boxcodec">take serialization/deserialization out of the picture</a> in tests. See also <a href="https://github.com/jet/dotnet-templates#eqxshipping"><code>Propulsion.MemoryStore</code> Change Feed Simulator for integration testing of Reactors</a>.</p>
</li>
<li>
<p dir="auto"><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" rel="nofollow">Amazon Dynamo DB</a>: Shares most features with <code>Equinox.CosmosStore</code> (<a href="https://github.com/jet/equinox/pull/321" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/321/hovercard">from which it was ported in #321</a>). See above for detailed comparison.</p>
</li>
<li>
<p dir="auto"><a href="https://docs.microsoft.com/en-us/azure/cosmos-db" rel="nofollow">Azure Cosmos DB</a>: contains some fragments of code dating back to 2016, however <a href="/jet/equinox/blob/master/DOCUMENTATION.md#Cosmos-Storage-Model">the storage model</a> was arrived at based on intensive benchmarking (squash-merged in <a href="https://github.com/jet/equinox/pull/42" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/42/hovercard">#42</a>). The V2, 3 and 4 release lines are being used in production systems. (The V3 release provides support for significantly more efficient packing of events (<a href="https://github.com/jet/equinox/pull/251" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/251/hovercard">storing events in the 'Tip'</a>)).  <a href="https://github.com/dongdongcai">@dongdongcai</a></p>
</li>
<li>
<p dir="auto"><a href="https://eventstore.org/" rel="nofollow">EventStoreDB</a>: this codebase itself has been in production since 2017 (see commit history), with key elements dating back to approx 2016. Current versions require EventStoreDB Server editions <code>21.10</code> or later, and communicate over the modern gRPC interface.</p>
</li>
<li>
<p dir="auto"><a href="http://docs.eventide-project.org/user-guide/message-db" rel="nofollow">MessageDB</a>: bindings for the <code>message-db</code> Postgres event storage system. <a href="http://docs.eventide-project.org/user-guide/message-db" rel="nofollow">See <code>MessageDB</code> docs</a>.  <a href="https://github.com/nordfjord">@nordfjord</a></p>
</li>
<li>
<p dir="auto"><a href="https://github.com/SQLStreamStore/SQLStreamStore">SqlStreamStore</a>: bindings for the powerful and widely used (<strong>but presently unmaintained</strong>) SQL-backed Event Storage system, derived from the EventStoreDB adapter. <a href="https://sqlstreamstore.readthedocs.io/en/latest/#introduction" rel="nofollow">See SqlStreamStore docs</a>.  <a href="https://github.com/rajivhost">@rajivhost</a></p>
<p dir="auto"><strong>NOTE: The underlying <code>SqlStreamStore</code> project is presently unmaintained; as such its hard to recommend using it for production scenarios</strong></p>
<ul dir="auto">
<li>
<p dir="auto">For SQL Server, the implementation works, people are believed to be using it to varying degrees and there are no obviously better replacements. However it should be pointed out that something as simple as fixing a bug in a SqlStreamStore.SqlServer library is not a paved path - there is no CI system for it, and nobody to call</p>
</li>
<li>
<p dir="auto">For MySql, it's pretty much the same as for SQL Server, with the proviso that it's likely that it's had (and has) significantly lower adoption and/or proper scrutiny.</p>
</li>
<li>
<p dir="auto">For Postgres, <em><code>Equinox.MessageDb</code></em> is a better choice as the underlying <a href="http://docs.eventide-project.org/user-guide/message-db/" rel="nofollow">MessageDB</a> project is actively maintained and has significantly better documentation than SqlStreamStore. The other thing to point out is that <code>Equinox.SqlStreamStore.Postgres</code> does not depend on the final version of <code>SqlStreamStore.Postgres</code> as there are no equivalent releases of the <code>.Mysql</code> and <code>.SqlServer</code> variants.</p>
</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Components</h1><a id="user-content-components" class="anchor" aria-label="Permalink: Components" href="#components"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The components within this repository are delivered as multi-targeted Nuget packages supporting <code>net6.0</code> (F# &gt;= 6) profiles; each of the constituent elements is designed to be easily swappable as dictated by the task at hand. Each of the components can be inlined or customized easily:-</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Core library</h2><a id="user-content-core-library" class="anchor" aria-label="Permalink: Core library" href="#core-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>Equinox</code> <a href="https://www.nuget.org/packages/Equinox/" rel="nofollow"><img src="https://camo.githubusercontent.com/a318fc9537ab578b5680322ced23b9a820667be7f7739680a9e2d9bda47dbe24/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e737667" alt="NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.svg" style="max-width: 100%;"></a>: Store-agnostic decision flow runner that manages the optimistic concurrency protocol and application-level API surface, together with the default [<code>System.Runtime.Caching.MemoryCache</code>-based] <code>Cache</code> implementation. (<a href="https://www.fuget.org/packages/Equinox" rel="nofollow">depends</a> only on <code>FSharp.Core</code> v <code>6.0.7</code>, <code>FsCodec</code> v <code>3.0.0</code>, <code>System.Runtime.Caching</code>, <code>Serilog</code> (but not specific Serilog sinks, i.e. you configure to emit to <code>NLog</code> etc)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Serialization support</h2><a id="user-content-serialization-support" class="anchor" aria-label="Permalink: Serialization support" href="#serialization-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>FsCodec</code> <a href="https://www.nuget.org/packages/FsCodec/" rel="nofollow"><img src="https://camo.githubusercontent.com/fdf23632b5549990feb4cbd845745047183f7c4dc7b582818a177250fd0e9311/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e737667" alt="Codec NuGet" data-canonical-src="https://img.shields.io/nuget/v/FsCodec.svg" style="max-width: 100%;"></a>: Defines minimal <code>IEventData</code>, <code>ITimelineEvent</code> and <code>IEventCodec</code> contracts, which are the sole aspects the Stores bind to. No dependencies.
<ul dir="auto">
<li><a href="https://github.com/jet/FsCodec/blob/master/src/FsCodec/FsCodec.fs#L31"><code>FsCodec.IEventCodec</code></a>: defines a base interface for a serializer/deserializer.</li>
<li><code>FsCodec.Codec</code>: enables plugging in a serializer and/or Union Encoder of your choice (typically this is used to supply a pair of functions:- <code>encode</code> and <code>tryDecode</code>)
(<a href="https://www.fuget.org/packages/FsCodec" rel="nofollow">depends</a> on nothing</li>
</ul>
</li>
<li><code>FsCodec.NewtonsoftJson</code> <a href="https://www.nuget.org/packages/FsCodec.NewtonsoftJson/" rel="nofollow"><img src="https://camo.githubusercontent.com/c24e346f7277e6e514cfc4885d9847cc256d9afd1c1be14433e351d59d7c0ece/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e4e6577746f6e736f66744a736f6e2e737667" alt="Newtonsoft.Json Codec NuGet" data-canonical-src="https://img.shields.io/nuget/v/FsCodec.NewtonsoftJson.svg" style="max-width: 100%;"></a>
<ul dir="auto">
<li>As described in <a href="https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores/" rel="nofollow">a scheme for the serializing Events modelled as an F# Discriminated Union</a>, allows tagging of F# Discriminated Union cases in a versionable manner with low-dependencies using<a href="https://github.com/eiriktsarpalis/TypeShape">TypeShape</a>'s <a href="https://eiriktsarpalis.wordpress.com/2018/10/30/a-contract-pattern-for-schemaless-datastores" rel="nofollow"><code>UnionContractEncoder</code></a></li>
<li>uses Json.net to serialize the event bodies.</li>
<li><code>FsCodec.Box.Codec</code>: Testing substitute for <code>FsCodec.NewtonsoftJson.Codec</code>, included in same package.</li>
<li>(<a href="https://www.fuget.org/packages/FsCodec.NewtonsoftJson" rel="nofollow">depends</a> on <code>FsCodec</code>, <code>Newtonsoft.Json &gt;= 11.0.2</code>, <code>TypeShape</code>, see <a href="https://github.com/jet/FsCodec">FsCodec repo</a> for details)</li>
</ul>
</li>
<li><code>FsCodec.SystemTextJson</code> <a href="https://www.nuget.org/packages/FsCodec.SystemTextJson/" rel="nofollow"><img src="https://camo.githubusercontent.com/24a56edb443bd0eab5b39439e777108a71a2445705ad090244d8860b34c3c68f/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f4673436f6465632e53797374656d546578744a736f6e2e737667" alt="SystemTextJson Codec NuGet" data-canonical-src="https://img.shields.io/nuget/v/FsCodec.SystemTextJson.svg" style="max-width: 100%;"></a>: Drop in replacement that allows one to target the .NET <code>System.Text.Json</code> serializer solely by changing the referenced namespace.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Data Store libraries</h2><a id="user-content-data-store-libraries" class="anchor" aria-label="Permalink: Data Store libraries" href="#data-store-libraries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>Equinox.Core</code> <a href="https://www.nuget.org/packages/Equinox.Core/" rel="nofollow"><img src="https://camo.githubusercontent.com/c536e53cbef45d3bd0e3e1e5ad8db00b9afa0c0002d802bd179e3f4ce9ec94d7/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f72652e737667" alt="NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.Core.svg" style="max-width: 100%;"></a>: Hosts generic utility types frequently useful alongside Equinox: <a href="https://github.com/jet/equinox/blob/master/src/Equinox.Core/TaskCell.fs#L36"><code>TaskCell</code></a>, <a href="https://github.com/jet/equinox/blob/master/src/Equinox.Core/Batching.fs#L44"><code>Batcher</code>, <code>BatcherCache</code>, <code>BatcherDictionary</code></a>. (<a href="https://www.fuget.org/packages/Equinox.Core" rel="nofollow">depends</a> on <code>System.Runtime.Caching</code>)</li>
<li><code>Equinox.MemoryStore</code> <a href="https://www.nuget.org/packages/Equinox.MemoryStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/d6e2fbb9ee3f00339053de54c008863c563a735e2088cc6c5964122b8c2fed62/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4d656d6f727953746f72652e737667" alt="MemoryStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.MemoryStore.svg" style="max-width: 100%;"></a>: In-memory store for integration testing/performance base-lining/providing out-of-the-box zero dependency storage for examples. (<a href="https://www.fuget.org/packages/Equinox.MemoryStore" rel="nofollow">depends</a> on <code>Equinox</code>)</li>
<li><code>Equinox.CosmosStore</code> <a href="https://www.nuget.org/packages/Equinox.CosmosStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/64d7c5b36d4dc4947b298a2f57fa38e3e3f9ed2b17e64d8788c19eb8b6fd08a9/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f736d6f7353746f72652e737667" alt="CosmosStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.CosmosStore.svg" style="max-width: 100%;"></a>: Azure CosmosDB Adapter with integrated 'unfolds' feature, facilitating optimal read performance in terms of latency and RU costs, instrumented to meet Jet's production monitoring requirements. (<a href="https://www.fuget.org/packages/Equinox.CosmosStore" rel="nofollow">depends</a> on <code>Equinox</code>, <code>Equinox</code>, <code>Microsoft.Azure.Cosmos</code> &gt;= <code>3.43.1</code>, <code>System.Text.Json</code>, <code>FSharp.Control.TaskSeq</code>)</li>
<li><code>Equinox.CosmosStore.Prometheus</code> <a href="https://www.nuget.org/packages/Equinox.CosmosStore.Prometheus/" rel="nofollow"><img src="https://camo.githubusercontent.com/1490b2e1cb0f0143f6ba2bac4209536d0f38844e2ea5d566686306c534231f97/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e436f736d6f7353746f72652e50726f6d6574686575732e737667" alt="CosmosStore.Prometheus NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.CosmosStore.Prometheus.svg" style="max-width: 100%;"></a>: Integration package providing a <code>Serilog.Core.ILogEventSink</code> that extracts detailed metrics information attached to the <code>LogEvent</code>s and feeds them to the <code>prometheus-net</code>'s <code>Prometheus.Metrics</code> static instance. (<a href="https://www.fuget.org/packages/Equinox.CosmosStore.Prometheus" rel="nofollow">depends</a> on <code>Equinox.CosmosStore</code>, <code>prometheus-net &gt;= 3.6.0</code>)</li>
<li><code>Equinox.DynamoStore</code> <a href="https://www.nuget.org/packages/Equinox.DynamoStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/4be61512eb2f5c07d82b32a77754cf57f2f77ce8b121a3933e7d32bba9f57bae/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e44796e616d6f53746f72652e737667" alt="DynamoStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.DynamoStore.svg" style="max-width: 100%;"></a>: Amazon DynamoDB Adapter with integrated 'unfolds' feature, facilitating optimal read performance in terms of latency and RC costs, patterned after <code>Equinox.CosmosStore</code>. (<a href="https://www.fuget.org/packages/Equinox.DynamoStore" rel="nofollow">depends</a> on <code>Equinox</code>, <code>FSharp.AWS.DynamoDB</code> &gt;= <code>0.12.3-beta</code>, <code>FSharp.Control.TaskSeq</code>)</li>
<li><code>Equinox.DynamoStore.Prometheus</code> <a href="https://www.nuget.org/packages/Equinox.DynamoStore.Prometheus/" rel="nofollow"><img src="https://camo.githubusercontent.com/96b77763871162b2db09a6f01c50e1c01dbbe525d8a4ffe5ff75b3d0139fb2b5/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e44796e616d6f53746f72652e50726f6d6574686575732e737667" alt="DynamoStore.Prometheus NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.DynamoStore.Prometheus.svg" style="max-width: 100%;"></a>: Integration package providing a <code>Serilog.Core.ILogEventSink</code> that extracts detailed metrics information attached to the <code>LogEvent</code>s and feeds them to the <code>prometheus-net</code>'s <code>Prometheus.Metrics</code> static instance. (<a href="https://www.fuget.org/packages/Equinox.CosmosStore.Prometheus" rel="nofollow">depends</a> on <code>Equinox.DynamoStore</code>, <code>prometheus-net &gt;= 3.6.0</code>)</li>
<li><code>Equinox.EventStore</code> <a href="https://www.nuget.org/packages/Equinox.EventStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/0b2c3fc4ff9cf00b296f9d03171a78d196dc4b387a689e2f031a4ae69d94cc9b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4576656e7453746f72652e737667" alt="EventStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.EventStore.svg" style="max-width: 100%;"></a>: <a href="https://eventstore.org/" rel="nofollow">EventStoreDB</a> Adapter designed to meet Jet's production monitoring requirements. (<a href="https://www.fuget.org/packages/Equinox.EventStore" rel="nofollow">depends</a> on <code>Equinox</code>, <code>EventStore.Client &gt;= 22.0.0</code>, <code>FSharp.Control.TaskSeq</code>), EventStore Server version <code>21.10</code> or later). <strong>NO NOT use for new projects - the TCP interface to EventStoreDB has long been deprecated, this package is only provided to ease migration scenarios and will be removed in due course</strong></li>
<li><code>Equinox.EventStoreDb</code> <a href="https://www.nuget.org/packages/Equinox.EventStoreDb/" rel="nofollow"><img src="https://camo.githubusercontent.com/4d7271ebbf4a5da736e8eff92324ebf7f54d900f7c40b93b257e8a559728be01/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4576656e7453746f726544622e737667" alt="EventStoreDb NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.EventStoreDb.svg" style="max-width: 100%;"></a>: Production-strength <a href="https://eventstore.org/" rel="nofollow">EventStoreDB</a> Adapter. (<a href="https://www.fuget.org/packages/Equinox.EventStoreDb" rel="nofollow">depends</a> on <code>Equinox</code>, <code>EventStore.Client.Grpc.Streams</code> &gt;= <code>22.0.0</code>, <code>FSharp.Control.TaskSeq</code>, EventStore Server version <code>21.10</code> or later)</li>
<li><code>Equinox.MessageDb</code> <a href="https://www.nuget.org/packages/Equinox.MessageDb/" rel="nofollow"><img src="https://camo.githubusercontent.com/fca682a8b9b5c12c0a4ff6c45c8a232db38b973f14cab5ddb587f49e0cde2e66/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e4d65737361676544622e737667" alt="MessageDb NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.MessageDb.svg" style="max-width: 100%;"></a>: <a href="http://docs.eventide-project.org/user-guide/message-db/" rel="nofollow">MessageDb</a> Adapter. (<a href="https://www.fuget.org/packages/Equinox.MessageDb" rel="nofollow">depends</a> on <code>Equinox</code>, <code>Npgsql</code> &gt;= <code>7.0.7</code>, <code>FSharp.Control.TaskSeq</code>))</li>
<li><code>Equinox.SqlStreamStore</code> <a href="https://www.nuget.org/packages/Equinox.SqlStreamStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/712de457d86031b8c9c2b145aadb409c1fb69c8cca949a8c6b64c7da36d27ed0/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e737667" alt="SqlStreamStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.SqlStreamStore.svg" style="max-width: 100%;"></a>: <a href="https://github.com/SQLStreamStore/SQLStreamStore">SqlStreamStore</a> Adapter derived from <code>Equinox.EventStore</code> - provides core facilities (but does not connect to a specific database; see sibling <code>SqlStreamStore</code>.* packages). (<a href="https://www.fuget.org/packages/Equinox.SqlStreamStore" rel="nofollow">depends</a> on <code>Equinox</code>, <code>SqlStreamStore &gt;= 1.2.0-beta.8</code>, <code>FSharp.Control.TaskSeq</code>)</li>
<li><code>Equinox.SqlStreamStore.MsSql</code> <a href="https://www.nuget.org/packages/Equinox.SqlStreamStore.MsSql/" rel="nofollow"><img src="https://camo.githubusercontent.com/bfdf6fd37522bbdecfcca4537bb71265e3e00086d1c1cdd8f2a1170794893438/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e4d7353716c2e737667" alt="MsSql NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.SqlStreamStore.MsSql.svg" style="max-width: 100%;"></a>: <a href="https://sqlstreamstore.readthedocs.io/en/latest/sqlserver" rel="nofollow">SqlStreamStore.MsSql</a> Sql Server <code>Connector</code> implementation for <code>Equinox.SqlStreamStore</code> package). (<a href="https://www.fuget.org/packages/Equinox.SqlStreamStore.MsSql" rel="nofollow">depends</a> on <code>Equinox.SqlStreamStore</code>, <code>SqlStreamStore.MsSql &gt;= 1.2.0-beta.8</code>)</li>
<li><code>Equinox.SqlStreamStore.MySql</code> <a href="https://www.nuget.org/packages/Equinox.SqlStreamStore.MySql/" rel="nofollow"><img src="https://camo.githubusercontent.com/e82bc1bca5fcd10f6fea895d930617b8b2b6963f71bf3631524c1c80e71ee971/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e4d7953716c2e737667" alt="MySql NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.SqlStreamStore.MySql.svg" style="max-width: 100%;"></a>: <code>SqlStreamStore.MySql</code> MySQL <code>Connector</code> implementation for <code>Equinox.SqlStreamStore</code> package). (<a href="https://www.fuget.org/packages/Equinox.SqlStreamStore.MySql" rel="nofollow">depends</a> on <code>Equinox.SqlStreamStore</code>, <code>SqlStreamStore.MySql &gt;= 1.2.0-beta.8</code>)</li>
<li><code>Equinox.SqlStreamStore.Postgres</code> <a href="https://www.nuget.org/packages/Equinox.SqlStreamStore.Postgres/" rel="nofollow"><img src="https://camo.githubusercontent.com/4ee4c24b4c6d42bc05552404b751fe076a632579cf43dde427b44162e73480d3/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e53716c53747265616d53746f72652e506f7374677265732e737667" alt="Postgres NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.SqlStreamStore.Postgres.svg" style="max-width: 100%;"></a>: <a href="https://sqlstreamstore.readthedocs.io/en/latest/postgres" rel="nofollow">SqlStreamStore.Postgres</a> PostgreSQL <code>Connector</code> implementation for <code>Equinox.SqlStreamStore</code> package). (<a href="https://www.fuget.org/packages/Equinox.SqlStreamStore.Postgres" rel="nofollow">depends</a> on <code>Equinox.SqlStreamStore</code>, <code>SqlStreamStore.Postgres &gt;= 1.2.0-beta.8</code>)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Projection libraries</h2><a id="user-content-projection-libraries" class="anchor" aria-label="Permalink: Projection libraries" href="#projection-libraries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Equinox does not focus on projection logic - each store brings its own strengths, needs, opportunities and idiosyncrasies. Here's a list of some relevant libraries from sibling projects that get used with regard to this:</p>
<ul dir="auto">
<li><code>FsKafka</code> <a href="https://www.nuget.org/packages/FsKafka/" rel="nofollow"><img src="https://camo.githubusercontent.com/b150e1f0a4b05726d359d0c1fde0aab1fd02bd82860928e2593b58352beab10b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f46734b61666b612e737667" alt="FsKafka NuGet" data-canonical-src="https://img.shields.io/nuget/v/FsKafka.svg" style="max-width: 100%;"></a>: Wraps <code>Confluent.Kafka</code> to provide efficient batched Kafka Producer and Consumer configurations, with basic logging instrumentation. Used in the <a href="https://github.com/jet/propulsion#dotnet-tool-provisioning--projections-test-tool"><code>propulsion sync kafka</code></a> tool command; see <a href="https://github.com/jet/dotnet-templates#propulsion-related"><code>dotnet new proProjector -k; dotnet new proConsumer</code> to generate a sample app</a> using it (see the <code>BatchedAsync</code> and <code>BatchedSync</code> modules in <code>Examples.fs</code>).</li>
<li><code>Propulsion</code> <a href="https://www.nuget.org/packages/Propulsion/" rel="nofollow"><img src="https://camo.githubusercontent.com/26c494bfa0c86de81b264193472ca8d9ffd7bfb6fba442201d46a9295d405cd8/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e737667" alt="Propulsion NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.svg" style="max-width: 100%;"></a>: A library that provides an easy way to implement projection logic. It defines <code>Propulsion.Streams.StreamEvent</code> used to interop with <code>Propulsion.*</code> in processing pipelines for the <code>proProjector</code> and <code>proSync</code> templates in the <a href="https://github.com/jet/dotnet-templates">templates repo</a>, together with the <code>Ingestion</code>, <code>Streams</code>, <code>Progress</code> and <code>Parallel</code> modules that get composed into those processing pipelines. (<a href="https://www.fuget.org/packages/Propulsion" rel="nofollow">depends</a> on <code>Serilog</code>)</li>
<li><code>Propulsion.Cosmos</code> <a href="https://www.nuget.org/packages/Propulsion.Cosmos/" rel="nofollow"><img src="https://camo.githubusercontent.com/30091e24ed8b95684d60dd1ae57703c7b0ed3d66d69b9cdea71fdd9659325a3c/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e436f736d6f732e737667" alt="Propulsion.Cosmos NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.Cosmos.svg" style="max-width: 100%;"></a>: Wraps the <a href="https://github.com/Azure/azure-documentdb-changefeedprocessor-dotnet">Microsoft .NET <code>ChangeFeedProcessor</code> library</a> providing a <a href="/jet/equinox/blob/master/DOCUMENTATION.md#change-feed-processors">processor loop</a> that maintains a continuous query loop per CosmosDB Physical Partition (Range) yielding new or updated documents (optionally unrolling events written by <code>Equinox.CosmosStore</code> for processing or forwarding). (<a href="https://www.fuget.org/packages/Propulsion.Cosmos" rel="nofollow">depends</a> on <code>Equinox.Cosmos</code>, <code>Microsoft.Azure.DocumentDb.ChangeFeedProcessor &gt;= 2.2.5</code>)</li>
<li><code>Propulsion.CosmosStore</code> <a href="https://www.nuget.org/packages/Propulsion.CosmosStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/72b69adcc6ea7f81b005a16f3f8647e470ed453f4a94e6db5b21cad3711e4018/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e436f736d6f7353746f72652e737667" alt="Propulsion.CosmosStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.CosmosStore.svg" style="max-width: 100%;"></a>: Wraps the CosmosDB V3 SDK's Change Feed API, providing a <a href="/jet/equinox/blob/master/DOCUMENTATION.md#change-feed-processors">processor loop</a> that maintains a continuous query loop per CosmosDB Physical Partition (Range) yielding new or updated documents (optionally unrolling events written by <code>Equinox.CosmosStore</code> for processing or forwarding). Used in the <a href="/jet/equinox/blob/master/dotnet-tool-provisioning--benchmarking-tool"><code>propulsion sync stats from cosmos</code></a> tool command; see <a href="#quickstart"><code>dotnet new proProjector</code> to generate a sample app</a> using it. (<a href="https://www.fuget.org/packages/Propulsion.CosmosStore" rel="nofollow">depends</a> on <code>Equinox.CosmosStore</code>)</li>
<li><code>Propulsion.DynamoStore</code> <a href="https://www.nuget.org/packages/Propulsion.DynamoStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/7ebc714ed002cbb1643f7e25e79b9784a09c9e61fa3f0c44a457eedf4dd1d97f/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e44796e616d6f53746f72652e737667" alt="Propulsion.DynamoStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.DynamoStore.svg" style="max-width: 100%;"></a>: Provides a <code>DynamoStoreSource</code> that provides equivalent functionality to <code>Propulsion.CosmosStore</code> in concert with <code>Propulsion.DynamoStore.Lambda</code>; (<a href="https://www.fuget.org/packages/Propulsion.DynamoStore" rel="nofollow">depends</a> on <code>Equinox.DynamoStore</code>)</li>
<li><code>Propulsion.DynamoStore.Lambda</code> <a href="https://www.nuget.org/packages/Propulsion.DynamoStore.Lambda/" rel="nofollow"><img src="https://camo.githubusercontent.com/ec41222e98764de45b8b841aa77e42592d4140be6f08c99cf6e2b61b239d0d83/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e44796e616d6f53746f72652e4c616d6264612e737667" alt="Propulsion.DynamoStore.Lambda NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.DynamoStore.Lambda.svg" style="max-width: 100%;"></a>: Indexes events written by <code>Equinox.DynamoStore</code> via a DynamoDB Streams-triggered Lambda. (Depends on <code>Propulsion.DynamoStore</code>)</li>
<li><code>Propulsion.EventStore</code> <a href="https://www.nuget.org/packages/Propulsion.EventStore/" rel="nofollow"><img src="https://camo.githubusercontent.com/12f8078312176f912c044ee9f5466cb6fa2b0e326937ae5625ba7d792803fb3b/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4576656e7453746f72652e737667" alt="Propulsion.EventStore NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.EventStore.svg" style="max-width: 100%;"></a> Used in the <a href="/jet/equinox/blob/master/dotnet-tool-provisioning--benchmarking-tool"><code>propulsion sync stats from es</code></a> tool command; see <a href="#quickstart"><code>dotnet new proSync</code> to generate a sample app</a> using it. (<a href="https://www.fuget.org/packages/Propulsion.EventStore" rel="nofollow">depends</a> on <code>Equinox.EventStore</code>)</li>
<li><code>Propulsion.EventStoreDb</code> <a href="https://www.nuget.org/packages/Propulsion.EventStoreDb/" rel="nofollow"><img src="https://camo.githubusercontent.com/8b1a90e5f1d071c3cf597a0f0df69a4f2f98abcfa88456c6bdd5ce86ed5cf464/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4576656e7453746f726544622e737667" alt="Propulsion.EventStoreDb NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.EventStoreDb.svg" style="max-width: 100%;"></a> Consumes from <code>EventStoreDB</code> v <code>21.10</code> or later using the gRPC interface. (<a href="https://www.fuget.org/packages/Propulsion.EventStoreDb" rel="nofollow">depends</a> on <code>Equinox.EventStoreDb</code>)</li>
<li><code>Propulsion.MessageDb</code> <a href="https://www.nuget.org/packages/Propulsion.MessageDb" rel="nofollow"><img src="https://camo.githubusercontent.com/d1ad39feb2b6f9a9c9ad7c73dd3c16cdb52405da04b8d56d91da323c3818a8c2/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4d65737361676544622e737667" alt="Propulsion.MessageDb NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.MessageDb.svg" style="max-width: 100%;"></a> Consumes from a <code>MessageDB</code> store (in Postgres) using <code>Npgsql</code>. (<a href="https://www.fuget.org/packages/Propulsion.MessageDb" rel="nofollow">depends</a> on <code>Npgsql</code>, <code>Propulsion.Feed</code>)</li>
<li><code>Propulsion.Kafka</code> <a href="https://www.nuget.org/packages/Propulsion.Kafka/" rel="nofollow"><img src="https://camo.githubusercontent.com/9d4cd9b12aa110fa4ae7bcfc1312ead3ac8b3134b9c7636fefa8e714a4703b23/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f50726f70756c73696f6e2e4b61666b612e737667" alt="Propulsion.Kafka NuGet" data-canonical-src="https://img.shields.io/nuget/v/Propulsion.Kafka.svg" style="max-width: 100%;"></a>: Provides a canonical <code>RenderedSpan</code> that can be used as a default format when projecting events via e.g. the Producer/Consumer pair in <code>dotnet new proProjector -k; dotnet new proConsumer</code>. (<a href="https://www.fuget.org/packages/Propulsion.Kafka" rel="nofollow">depends</a> on <code>Newtonsoft.Json &gt;= 11.0.2</code>, <code>Propulsion</code>, <code>FsKafka</code>)</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><code>dotnet tool</code> provisioning / benchmarking tool</h2><a id="user-content-dotnet-tool-provisioning--benchmarking-tool" class="anchor" aria-label="Permalink: dotnet tool provisioning / benchmarking tool" href="#dotnet-tool-provisioning--benchmarking-tool"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto"><code>Equinox.Tool</code> <a href="https://www.nuget.org/packages/Equinox.Tool/" rel="nofollow"><img src="https://camo.githubusercontent.com/c1398411fca56b2e99e0b6a44ce1f8d4850e58498cc9e05342ece85847bddefe/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e546f6f6c2e737667" alt="Tool NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.Tool.svg" style="max-width: 100%;"></a></p>
<ul dir="auto">
<li>can render events from any of the stores via <code>eqx dump</code>.</li>
<li>incorporates a benchmark scenario runner, running load tests composed of transactions in <code>samples/Store</code> and <code>samples/TodoBackend</code> against any supported store; this allows perf tuning and measurement in terms of both latency and transaction charge aspects. (Install via: <code>dotnet tool install Equinox.Tool -g</code>)</li>
<li>can configure indices in Azure CosmosDB for an <code>Equinox.CosmosStore</code> Container via <code>eqx init</code>. See <a href="#store-data-in-azure-cosmosdb">here</a>.</li>
<li>can search for streams and/or perform a JSON export based on name (<code>p</code>) or Uncompressed <code>u</code>nfold values for an <code>Equinox.CosmosStore</code> Container in Azure CosmosDB`. See <a href="#eqx-query">here</a>.</li>
<li>can create tables in Amazon DynamoDB for <code>Equinox.DynamoStore</code> via <code>eqx initaws</code>.</li>
<li>can initialize databases for <code>SqlStreamStore</code> via <code>eqx initsql</code></li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Starter Project Templates and Sample Applications</h2><a id="user-content-starter-project-templates-and-sample-applications" class="anchor" aria-label="Permalink: Starter Project Templates and Sample Applications" href="#starter-project-templates-and-sample-applications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><code>Equinox.Templates</code> <a href="https://www.nuget.org/packages/Equinox.Templates/" rel="nofollow"><img src="https://camo.githubusercontent.com/a42a31ba0c150a18df7bcc20e04640fd86c24d360f487202b16b645e041eebad/68747470733a2f2f696d672e736869656c64732e696f2f6e756765742f762f457175696e6f782e54656d706c617465732e737667" alt="Templates NuGet" data-canonical-src="https://img.shields.io/nuget/v/Equinox.Templates.svg" style="max-width: 100%;"></a>: <a href="https://github.com/jet/dotnet-templates">The templates repo</a> has C# and F# sample apps. (Install via <code>dotnet new -i Equinox.Templates &amp;&amp; dotnet new eqx --list</code>). See <a href="#quickstart">the quickstart</a> for examples of how to use it.</li>
<li><a href="/jet/equinox/blob/master/samples/Store"><code>samples/Store</code> (in this repo)</a>: Example domain types reflecting examples of how one applies Equinox to a diverse set of stream-based models</li>
<li><a href="/jet/equinox/blob/master/samples/TodoBackend"><code>samples/TodoBackend</code> (in this repo)</a>: Standard <a href="https://todobackend.com" rel="nofollow">https://todobackend.com</a> compliant backend</li>
<li><a href="/jet/equinox/blob/master/samples/Tutorial"><code>samples/Tutorial</code> (in this repo)</a>: Annotated <code>.fsx</code> files with sample Aggregate impls</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Overview</h1><a id="user-content-overview" class="anchor" aria-label="Permalink: Overview" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">The Propulsion Perspective</h2><a id="user-content-the-propulsion-perspective" class="anchor" aria-label="Permalink: The Propulsion Perspective" href="#the-propulsion-perspective"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Equinox and Propulsion have a <a href="https://en.wikipedia.org/wiki/Yin_and_yang" rel="nofollow">Yin and yang</a> relationship; the use cases for both naturally interlock and overlap. It can be relevant to peruse <a href="https://github.com/jet/propulsion/blob/master/DOCUMENTATION.md#overview">the Propulsion Documentation's Overview Diagrams</a> for the complementary perspective (TL;DR its largely the same topology, with elements that are central here de-emphasized over there, and vice versa)</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><a href="https://c4model.com" rel="nofollow">C4</a> Context diagram</h2><a id="user-content-c4-context-diagram" class="anchor" aria-label="Permalink: C4 Context diagram" href="#c4-context-diagram"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Equinox focuses on the <strong>Consistent Processing</strong> element of building an event-sourced system, offering tailored components that interact with a specific <strong>Consistent Event Store</strong>, as laid out here in this <a href="https://c4model.com" rel="nofollow">C4</a> System Context Diagram:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/79d1514fa48c4142c6f7589485def0358864446f5b7766a3e20d5186dc47e699/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e746578742e70756d6c26666d743d737667"><img src="https://camo.githubusercontent.com/79d1514fa48c4142c6f7589485def0358864446f5b7766a3e20d5186dc47e699/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e746578742e70756d6c26666d743d737667" alt="Equinox c4model.com Context Diagram" data-canonical-src="http://www.plantuml.com/plantuml/proxy?cache=no&amp;src=https://raw.github.com/jet/equinox/master/diagrams/context.puml&amp;fmt=svg" style="max-width: 100%;"></a></p>
<p dir="auto"> Propulsion elements (which we consider External to Equinox) support the building of complementary facilities as part of an overall Application:</p>
<ul dir="auto">
<li><strong>Ingesters</strong>: read stuff from outside the Bounded Context of the System. This kind of service covers aspects such as feeding reference data into <strong>Read Models</strong>, ingesting changes into a consistent model via <strong>Consistent Processing</strong>. <em>These services are not acting in reaction to events emanating from the <strong>Consistent Event Store</strong>, as opposed to...</em></li>
<li><strong>Publishers</strong>: react to events as they are arrive from the <strong>Consistent Event Store</strong> by filtering, rendering and producing to feeds for downstreams (here we label that <em>Publish Simple Notifications</em>). <em>While these services may in some cases rely on synchronous queries via <strong>Consistent Processing</strong>, it's never transacting or driving follow-on work; which brings us to...</em></li>
<li><strong>Reactors</strong>: drive reactive actions triggered by either upstream feeds, or events observed in the <strong>Consistent Event Store</strong>. <em>These services handle anything beyond the duties of <strong>Ingesters</strong> or <strong>Publishers</strong>, and will often drive follow-on processing via Process Managers and/or transacting via <strong>Consistent Processing</strong>. In some cases, a reactor app's function may be to progressively compose a notification for a <strong>Publisher</strong> to eventually publish.</em></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><a href="https://c4model.com" rel="nofollow">C4</a> Container diagram</h2><a id="user-content-c4-container-diagram" class="anchor" aria-label="Permalink: C4 Container diagram" href="#c4-container-diagram"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The relevant pieces of the above break down as follows, when we emphasize the <a href="https://c4model.com" rel="nofollow">Containers</a> aspects relevant to Equinox:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/426d24b668b50de1fbd8fbf91d3e1e0c4614dcd12eaabbd9d12df9b02fe2282a/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e7461696e65722e70756d6c26666d743d737667"><img src="https://camo.githubusercontent.com/426d24b668b50de1fbd8fbf91d3e1e0c4614dcd12eaabbd9d12df9b02fe2282a/687474703a2f2f7777772e706c616e74756d6c2e636f6d2f706c616e74756d6c2f70726f78793f63616368653d6e6f267372633d68747470733a2f2f7261772e6769746875622e636f6d2f6a65742f657175696e6f782f6d61737465722f6469616772616d732f636f6e7461696e65722e70756d6c26666d743d737667" alt="Equinox c4model.com Container Diagram" data-canonical-src="http://www.plantuml.com/plantuml/proxy?cache=no&amp;src=https://raw.github.com/jet/equinox/master/diagrams/container.puml&amp;fmt=svg" style="max-width: 100%;"></a></p>
<p dir="auto"><strong><a href="https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#overview">See Overview section in <code>DOCUMENTATION</code>.md for further drill down</a></strong></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">TEMPLATES</h2><a id="user-content-templates" class="anchor" aria-label="Permalink: TEMPLATES" href="#templates"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The best place to start, sample-wise is with the <a href="#quickstart">QuickStart</a>, which walks you through sample code, tuned for approachability, from <code>dotnet new</code> templates stored <a href="https://github.com/jet/dotnet-templates">in a dedicated repo</a>.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">SAMPLES</h2><a id="user-content-samples" class="anchor" aria-label="Permalink: SAMPLES" href="#samples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <code>samples/</code> folder contains various further examples (some of the templates are derived from these), with the complementary goals of:</p>
<ul dir="auto">
<li>being a starting point to see how one might consume the libraries.</li>
<li>acting as <a href="https://martinfowler.com/articles/consumerDrivenContracts.html" rel="nofollow">Consumer Driven Contracts</a> to validate new and pin existing API designs.</li>
<li>providing outline (not official and complete) guidance as to things that are valid to do in an application consuming Equinox components.</li>
<li>to validate that each specific Storage implementation can fulfill the needs of each of the example Services/Aggregates/Applications. (<em>unfortunately this concern makes a lot of the DI wiring more complex than a real application should be; it's definitely a non-goal for every Equinox app to be able to switch between backends, even though that's very much possible to achieve.</em>)</li>
<li>provide sample scripts referenced in the Tutorial</li>
</ul>
<p dir="auto"><a name="user-content-todobackend"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><a href="/jet/equinox/blob/master/samples/TodoBackend">TODOBACKEND, see samples/TodoBackend</a></h3><a id="user-content-todobackend-see-samplestodobackend" class="anchor" aria-label="Permalink: TODOBACKEND, see samples/TodoBackend" href="#todobackend-see-samplestodobackend"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The repo contains a vanilla ASP.NET Core implementation of <a href="https://www.todobackend.com" rel="nofollow">the well-known TodoBackend Spec</a>. <strong>NB the implementation is largely dictated by spec; no architectural guidance expressed or implied ;)</strong>. It can be run via:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&amp; dotnet run --project samples/Web -S es # run against eventstore, omit `es` to use in-memory store, or see PROVISIONING EVENTSTORE
start https://www.todobackend.com/specs/index.html?https://localhost:5001/todos # for low-level debugging / validation of hosting arrangements
start https://www.todobackend.com/client/index.html?https://localhost:5001/todos # standard JavaScript UI
start http://localhost:5341/#/events # see logs triggered by `-S` above in https://getseq.net        "><pre class="notranslate"><code>&amp; dotnet run --project samples/Web -S es # run against eventstore, omit `es` to use in-memory store, or see PROVISIONING EVENTSTORE
start https://www.todobackend.com/specs/index.html?https://localhost:5001/todos # for low-level debugging / validation of hosting arrangements
start https://www.todobackend.com/client/index.html?https://localhost:5001/todos # standard JavaScript UI
start http://localhost:5341/#/events # see logs triggered by `-S` above in https://getseq.net        
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><a href="/jet/equinox/blob/master/samples/Store">STORE, see /samples/Store</a></h3><a id="user-content-store-see-samplesstore" class="anchor" aria-label="Permalink: STORE, see /samples/Store" href="#store-see-samplesstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The core sample in this repo is the <code>Store</code> sample, which contains code and tests extracted from real implementations (with minor simplifications in some cases).</p>
<p dir="auto">These facts mean that:</p>
<ul dir="auto">
<li>some of the code may be less than approachable for a beginner (e.g. some of the code is in its present form for reasons of efficiency)</li>
<li>some of the code may not represent official best practice guidance that the authors would necessarily stand over (e.g., the CQRS pattern is not strictly adhered to in all circumstances; some command designs are not completely correct from an idempotency perspective)</li>
</ul>
<p dir="auto">While these things can of course be perfected through PRs, this is definitely not top of the work list for the purposes of this repo. (We'd be delighted to place links to other samples, including cleanups / rewrites of these samples written with different testing platforms, web platforms, or DDD/CQRS/ES design flavors right here).</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><a href="https://github.com/gregoryyoung/m-r/tree/master/SimpleCQRS">m-r</a> port, <a href="/jet/equinox/blob/master/samples/Store/Domain/InventoryItem.fs">see samples/Store/Domain/InventoryItem.fs</a></h3><a id="user-content-m-r-port-see-samplesstoredomaininventoryitemfs" class="anchor" aria-label="Permalink: m-r port, see samples/Store/Domain/InventoryItem.fs" href="#m-r-port-see-samplesstoredomaininventoryitemfs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">For fun, there's a direct translation of the <code>InventoryItem</code> Aggregate and Command Handler from Greg Young's <a href="https://github.com/gregoryyoung/m-r/tree/master/SimpleCQRS"><code>m-r</code></a> demo project <a href="https://github.com/jet/equinox/blob/master/samples/Store/Domain/InventoryItem.fs">as one could write it in F# using Equinox</a>. NB any typical presentation of this example includes copious provisos and caveats about it being a toy example written almost a decade ago.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><a href="/jet/equinox/blob/master/samples/Tutorial"><code>samples/Tutorial</code> (in this repo)</a>: Annotated <code>.fsx</code> files with sample aggregate implementations</h3><a id="user-content-samplestutorial-in-this-repo-annotated-fsx-files-with-sample-aggregate-implementations" class="anchor" aria-label="Permalink: samples/Tutorial (in this repo): Annotated .fsx files with sample aggregate implementations" href="#samplestutorial-in-this-repo-annotated-fsx-files-with-sample-aggregate-implementations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><a href="https://github.com/ameier38">@ameier38</a>'s Tutorial</h3><a id="user-content-ameier38s-tutorial" class="anchor" aria-label="Permalink: @ameier38's Tutorial" href="#ameier38s-tutorial"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://andrewcmeier.com" rel="nofollow">Andrew Meier</a> has written a very complete tutorial modeling a business domain using Equinox and EventStoreDB; includes Dockerized Suave API, test suite using Expecto, build automation using FAKE, and CI using Codefresh; see <a href="https://github.com/ameier38/equinox-tutorial">the repo</a> and its <a href="https://andrewcmeier.com/bi-temporal-event-sourcing" rel="nofollow">overview blog post</a>.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">QuickStart</h2><a id="user-content-quickstart" class="anchor" aria-label="Permalink: QuickStart" href="#quickstart"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Spin up a <a href="https://www.todobackend.com/" rel="nofollow">TodoBackend</a> <code>.fsproj</code> app (<a href="https://github.com/jet/equinox#store-libraries">storing in <code>Equinox.MemoryStore</code> Simulator</a>)</h3><a id="user-content-spin-up-a-todobackend-fsproj-app-storing-in-equinoxmemorystore-simulator" class="anchor" aria-label="Permalink: Spin up a TodoBackend.fsproj app (storing in Equinox.MemoryStore Simulator)" href="#spin-up-a-todobackend-fsproj-app-storing-in-equinoxmemorystore-simulator"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol start="0" dir="auto">
<li>
<p dir="auto">Make a scratch area</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="mkdir ExampleApp
cd ExampleApp "><pre>mkdir ExampleApp
cd ExampleApp </pre></div>
</li>
<li>
<p dir="auto">Use a <code>dotnet new</code> template to get fresh code in your repo</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet new -i Equinox.Templates # see source in https://github.com/jet/dotnet-templates
dotnet new eqxweb -t # -t for todos, defaults to memory store (-m) # use --help to see options regarding storage subsystem configuration etc"><pre>dotnet new <span class="pl-k">-</span>i Equinox.Templates <span class="pl-c"><span class="pl-c">#</span> see source in https://github.com/jet/dotnet-templates</span>
dotnet new eqxweb <span class="pl-k">-</span>t <span class="pl-c"><span class="pl-c">#</span> -t for todos, defaults to memory store (-m) # use --help to see options regarding storage subsystem configuration etc</span></pre></div>
</li>
<li>
<p dir="auto">Run the <code>TodoBackend</code>:</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet run --project Web"><pre>dotnet run <span class="pl-k">--</span>project Web</pre></div>
</li>
<li>
<p dir="auto">Run the standard <code>TodoMvc</code> frontend against your locally-hosted, fresh backend (See generated <code>README.md</code> for more details)</p>
<ul dir="auto">
<li>Todo JavaScript client App: <a href="https://www.todobackend.com/client/index.html?https://localhost:5001/todos" rel="nofollow">https://www.todobackend.com/client/index.html?https://localhost:5001/todos</a></li>
<li>Run individual JS specification tests: <a href="https://www.todobackend.com/specs/index.html?https://localhost:5001/todos" rel="nofollow">https://www.todobackend.com/specs/index.html?https://localhost:5001/todos</a></li>
</ul>
</li>
</ol>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Spin up a <a href="https://www.todobackend.com/" rel="nofollow">TodoBackend</a> <code>.csproj</code> ... with C# code</h3><a id="user-content-spin-up-a-todobackend-csproj--with-c-code" class="anchor" aria-label="Permalink: Spin up a TodoBackend.csproj ... with C# code" href="#spin-up-a-todobackend-csproj--with-c-code"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">While Equinox is implemented in F#, and F# is a great fit for writing event-sourced domain models, <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/style-guide/component-design-guidelines" rel="nofollow">the APIs are not F#-specific</a>; there's a <a href="https://github.com/jet/dotnet-templates/tree/master/equinox-web-csharp">C# edition of the template</a>. The instructions are identical to the rest, but you need to use the <code>eqxwebcs</code> template instead of <code>eqxweb</code>.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Store data in <a href="https://eventstore.org" rel="nofollow">EventStore</a></h3><a id="user-content-store-data-in-eventstore" class="anchor" aria-label="Permalink: Store data in EventStore" href="#store-data-in-eventstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>
<p dir="auto">install EventStore locally (requires admin privilege)</p>
<ul dir="auto">
<li>
<p dir="auto">For Windows, install with Chocolatey:</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cinst eventstore-oss -y # where cinst is an invocation of the Chocolatey Package Installer on Windows"><pre>cinst eventstore<span class="pl-k">-</span>oss <span class="pl-k">-</span>y <span class="pl-c"><span class="pl-c">#</span> where cinst is an invocation of the Chocolatey Package Installer on Windows</span></pre></div>
</li>
<li>
<p dir="auto">For OSX, install with <code>brew cask install eventstore</code></p>
</li>
</ul>
</li>
<li>
<p dir="auto">start the local EventStore instance on any OS:</p>
<ul dir="auto">
<li>Check out the github.com/jet/equinox repo</li>
<li><code>docker compose up</code></li>
</ul>
<p dir="auto">For more complete instructions, follow <a href="https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose" rel="nofollow">https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose</a></p>
</li>
<li>
<p dir="auto">generate sample app with EventStore wiring from template and start</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet new eqxweb -t -e # -t for todos, -e for eventstore
dotnet run --project Web"><pre>dotnet new eqxweb <span class="pl-k">-</span>t <span class="pl-k">-</span>e <span class="pl-c"><span class="pl-c">#</span> -t for todos, -e for eventstore</span>
dotnet run <span class="pl-k">--</span>project Web</pre></div>
</li>
<li>
<p dir="auto">browse writes at <a href="http://localhost:2113/web/index.html#/streams" rel="nofollow">http://localhost:2113/web/index.html#/streams</a></p>
</li>
</ol>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Store data in <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/introduction" rel="nofollow">Azure CosmosDB</a></h3><a id="user-content-store-data-in-azure-cosmosdb" class="anchor" aria-label="Permalink: Store data in Azure CosmosDB" href="#store-data-in-azure-cosmosdb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>
<p dir="auto"><em>export 3x env vars</em> (see <a href="#run-cosmosdb-benchmark-when-provisioned">provisioning instructions</a>)</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$env:EQUINOX_COSMOS_CONNECTION=&quot;AccountEndpoint=https://....;AccountKey=....=;&quot;
$env:EQUINOX_COSMOS_DATABASE=&quot;equinox-test&quot;
$env:EQUINOX_COSMOS_CONTAINER=&quot;equinox-test&quot;"><pre><span class="pl-smi">$<span class="pl-c1">env:</span>EQUINOX_COSMOS_CONNECTION</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>AccountEndpoint=https://....;AccountKey=....=;<span class="pl-pds">"</span></span>
<span class="pl-smi">$<span class="pl-c1">env:</span>EQUINOX_COSMOS_DATABASE</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>equinox-test<span class="pl-pds">"</span></span>
<span class="pl-smi">$<span class="pl-c1">env:</span>EQUINOX_COSMOS_CONTAINER</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>equinox-test<span class="pl-pds">"</span></span></pre></div>
</li>
<li>
<p dir="auto">use the <code>eqx</code> tool to initialize the database and/or container (using preceding env vars)</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet tool uninstall Equinox.Tool -g
dotnet tool install Equinox.Tool -g --prerelease
eqx init -ru 400 cosmos # generates a database+container, adds optimized indexes"><pre>dotnet tool uninstall Equinox.Tool <span class="pl-k">-</span>g
dotnet tool install Equinox.Tool <span class="pl-k">-</span>g <span class="pl-k">--</span>prerelease
eqx init <span class="pl-k">-</span>ru <span class="pl-c1">400</span> cosmos <span class="pl-c"><span class="pl-c">#</span> generates a database+container, adds optimized indexes</span></pre></div>
</li>
<li>
<p dir="auto">generate sample app from template, with CosmosDB wiring</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet new eqxweb -t -c # -t for todos, -c for cosmos
dotnet run --project Web"><pre>dotnet new eqxweb <span class="pl-k">-</span>t <span class="pl-k">-</span>c <span class="pl-c"><span class="pl-c">#</span> -t for todos, -c for cosmos</span>
dotnet run <span class="pl-k">--</span>project Web</pre></div>
</li>
<li>
<p dir="auto">Use the <code>eqx</code> tool to dump stats relating the contents of the CosmosDB store</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# run queries to determine how many streams, docs, events there are in the container
eqx -V stats -P cosmos # -P to run in parallel # -V to show underlying query being used"><pre><span class="pl-c"><span class="pl-c">#</span> run queries to determine how many streams, docs, events there are in the container</span>
eqx <span class="pl-k">-</span>V stats <span class="pl-k">-</span>P cosmos <span class="pl-c"><span class="pl-c">#</span> -P to run in parallel # -V to show underlying query being used</span></pre></div>
</li>
<li>
<p dir="auto">Use the <code>eqx</code> tool to query streams and/or snapshots in a CosmosDB store</p>
<p dir="auto"><a name="user-content-eqx-query"></a></p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# Add indexing of the `u`nfolds borne by Tip Items: 1) `c` for the case name 2) `d` for fields of uncompressed unfolds 
eqx init -m serverless --indexunfolds cosmos -d db -c $EQUINOX_COSMOS_VIEWS

# query all streams LIKE &quot;$User-%&quot; with `Snapshotted2` unfolds. Batches of up to 100,000 events
eqx query -cn '$User' -un Snapshotted2 cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000

# use a wild card (LIKE) for the stream name 
eqx query -cl '$Us%' -un Snapshotted cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000
# &gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE &quot;$Us%&quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = &quot;Snapshotted&quot;) {}
# &gt; Page 7166s, 7166u, 0e 320.58RU 3.9s {}
# &gt; Page 1608s, 1608u, 0e 68.59RU 0.9s {}
# &gt; TOTALS 1c, 8774s, 389.17RU 4.7s {}   

# Skip loading the _etag to simulate a query where you will only render the result (not `Transact` against it)
eqx query -cn '$User' -m readonly -un Snapshotted cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000
# &gt; Querying ReadOnly: SELECT c.u FROM c WHERE c.p LIKE &quot;$User-%&quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = &quot;Snapshotted&quot;) {}
# &gt; Page 8774s, 8774u, 0e 342.33RU 3.8s {}
# &gt; TOTALS 0c, 8774s, 342.33RU 3.8s {} #  cheaper and only one batch as no .p or ._etag 

# add criteria filtering based on an Uncompressed Unfold
eqx query -cn '$User' -un EmailIndex -uc 'u.d.email = &quot;a@b.com&quot;' cosmos -d db -c $EQUINOX_COSMOS_VIEWS -b 100000
# &gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE &quot;$User-%&quot; AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = &quot;EmailIndex&quot; AND u.d.email = &quot;a@b.com&quot;) {}
# &gt; Page 0s, 0u, 0e 2.8RU 0.7s {}
# &gt; TOTALS 0c, 0s, 2.80RU 0.7s {} #  only 2.8RU if nothing is returned

# DUMP ONE STREAM TO A FILE (equivalent to queries performed by CosmosStore.AccessStrategy.Unoptimized)
# Can be imported into another store via `propulsion sync cosmos from json`
eqx query -sn 'user-f28fb6feea00550e93ca77b6f29899cd' -o dump-user.json cosmos -d db -c $EQUINOX_COSMOS_CONTAINER -b 9999
# &gt; Dumping Raw content to ./dump-user.json {}
# &gt; Querying Raw: SELECT * FROM c WHERE c.p = &quot;user-f28fb6feea00550e93ca77b6f29899cd&quot; AND 1=1 {}
# &gt; Page 9s, 1u, 10e 3.23RU 0.5s 0.0MiB age 0002.10:04:13 {} #  2.80 if no results, adds per KiB charge if there are results 
# &gt; TOTALS 1c, 9s, 3.23RU R/W 0.0/0.0MiB 3.9s {}

# DUMP FULL CONTENT OF THE CONTAINER TO A FILE
# Can be imported into another store via `propulsion sync cosmos from json`
eqx query -o ../dump-240216.json cosmos -d db -c $EQUINOX_COSMOS_CONTAINER -b 9999                             
# &gt; Dumping Raw content to ~/dumps/dump-240216.json {}
# &gt; No StreamName or CategoryName/CategoryLike specified - Unfold Criteria better be unambiguous {}
# &gt; Querying Raw: SELECT * FROM c WHERE 1=1 AND 1=1 {}
# &gt; Page 2972s, 748u, 3112e 108.9RU 3.8s 4.0MiB age 0212.18:00:45 {}
# &gt; Page 3211s, 777u, 3161e 112.29RU 3.3s 4.0MiB age 0212.09:06:02 {}
# &gt; Page 3003s, 663u, 3172e 110.33RU 3.4s 4.0MiB age 0211.04:09:12 {}
# &lt;chop&gt;
# &gt; Page 2768s, 498u, 3153e 107.46RU 3.0s 4.0MiB age 0016.13:09:02 {}
# &gt; Page 2806s, 505u, 3198e 107.17RU 3.0s 4.0MiB age 0010.18:52:45 {}
# &gt; Page 2903s, 601u, 3188e 107.53RU 3.1s 4.0MiB age 0004.05:24:51 {}
# &gt; Page 2638s, 316u, 3019e 93.09RU 2.5s 3.4MiB age 0000.05:08:38 {}
# &gt; TOTALS 11c, 206,356s, 7,886.75RU R/W 290.4/290.4MiB 225.3s {}

# Prepare a breakdown of which categories are using the most capacity within the store
eqx -Q top cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# Page 3276&gt;3276i 3276s    0e 3991u 4.00&gt;4.00&lt;4.22MiB 103.74RU  3.5s D+M 5.1 C+C 0.00 201ms age 0000.00:33:13 {}
# Page 3177&gt;3177i 3177s    0e 4593u 4.00&gt;4.01&lt;4.20MiB 105.22RU  3.2s D+M 4.7 C+C 0.00 146ms age 0000.02:23:48 {}
# Page 2708&gt;2708i 2708s    0e 5044u 4.00&gt;4.00&lt;4.19MiB 105.76RU  3.4s D+M 4.5 C+C 0.00  84ms age 0002.23:10:55 {}
...
# Page 4334&gt;4334i 4334s    0e 5038u 4.00&gt;4.00&lt;4.19MiB 112.59RU  2.9s D+M 4.2 C+C 0.00 109ms age 0000.00:00:59 {}
# Page 1637&gt;1637i 1637s    0e 2939u 2.40&gt;2.41&lt;2.52MiB  64.12RU  1.7s D+M 2.5 C+C 0.00  39ms age 0000.00:18:03 {}
# TOTALS 47,200i 9c 47,200s 0e 79,262u read 0.1GiB output 0.1GiB JSON 0.1GiB D+M(inflated) 0.1GiB C+C 0.00MiB Parse 1.516s Total 1,750.73RU 54.2s {}
#    24064i   40.75MiB E       0     0.0 U   48128    33.6 D+M   35.0 C+C   0.0 $Friend {}
#     6372i   13.18MiB E       0     0.0 U   12744    11.4 D+M   23.9 C+C   0.0 $Tenant {}
#     6374i    5.41MiB E       0     0.0 U    6374     3.6 D+M    5.4 C+C   0.0 $Role0 {}
#     5992i    5.09MiB E       0     0.0 U    5992     3.4 D+M    5.1 C+C   0.0 $Role {}
#     1574i    1.95MiB E       0     0.0 U    1574     1.5 D+M    2.0 C+C   0.0 $Permission {}
#     1575i    1.79MiB E       0     0.0 U    3150     1.3 D+M    1.2 C+C   0.0 $User {}
#      445i    0.51MiB E       0     0.0 U     483     0.4 D+M    0.8 C+C   0.0 $Invoice3 {}
#      410i    0.46MiB E       0     0.0 U     423     0.3 D+M    0.8 C+C   0.0 $Invoice2 {}
#      394i    0.44MiB E       0     0.0 U     394     0.3 D+M    0.7 C+C   0.0 $Invoice {}

# Drill into the Friend data (different test data to preceding article)
eqx top -cn '$Friend' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# Page 4787&gt;4787i 4787s    0e 4787u 4.00&gt;4.00&lt;4.19MiB 218.54RU  3.6s D+M 4.5 C+C 0.00 259ms age 0013.22:52:15 {}
# Page 4955&gt;4955i 4955s    0e 4955u 4.00&gt;4.00&lt;4.19MiB 200.20RU  3.2s D+M 4.1 C+C 0.00 202ms age 0013.22:52:18 {}
# Page 4715&gt;4715i 4715s    0e 4715u 4.00&gt;4.00&lt;4.21MiB 201.26RU  3.2s D+M 4.4 C+C 0.00 145ms age 0013.22:52:22 {}
# Page 4884&gt;4884i 4884s    0e 4884u 4.00&gt;4.00&lt;4.20MiB 198.97RU  3.2s D+M 4.1 C+C 0.00  95ms age 0013.22:52:31 {}
# Page 4620&gt;4620i 4620s    0e 4620u 4.00&gt;4.00&lt;4.20MiB 194.76RU  3.0s D+M 4.7 C+C 0.00 140ms age 0013.22:52:28 {}
# Page 4840&gt;4840i 4840s    0e 4840u 4.00&gt;4.00&lt;4.19MiB 198.43RU  3.2s D+M 4.2 C+C 0.00 136ms age 0013.22:52:34 {}
# Page 4791&gt;4791i 4791s    0e 4791u 4.00&gt;4.00&lt;4.21MiB 200.20RU  3.0s D+M 4.2 C+C 0.00 137ms age 0014.02:23:24 {}
# Page 3906&gt;3906i 3906s    0e 3906u 3.01&gt;3.02&lt;3.15MiB 158.28RU  2.6s D+M 2.9 C+C 0.00 142ms age 0013.23:13:51 {}
# TOTALS 37,498i 1c 37,498s 0e 37,498u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 1.264s Total 1,570.64RU 30.0s {}
#    37498i   32.55MiB E       0     0.1 U   37498    21.7 D+M   33.2 C+C   0.0 $Friend {}

# DRY RUN of deleting (note no `-f` supplied)
eqx destroy -cn '$Friend' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# W Dry-run of deleting items based on SELECT c.p, c.id, ARRAYLENGTH(c.e) AS es, ARRAYLENGTH(c.u) AS us FROM c WHERE c.p LIKE &quot;$Friend%&quot; {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.21&gt;0.76   415.07RRU   1.4s 0.00WRU/s   0.0s {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.48&gt;0.76   404.70RRU   0.8s 0.00WRU/s   0.0s {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.32&gt;0.76   395.36RRU   1.1s 0.00WRU/s   0.0s {}
# I Page  7501&gt; 7501i    7501s      0e   7501u    6.01&gt;0.57   299.60RRU   1.0s 0.00WRU/s   0.0s {}
# I TOTALS 37,498i 1c 37,498s 0e 37,498u read 31.0MiB output 2.9MiB 1,514.73RRU Avg 0.00WRU/s Delete 0.00WRU Total 7.8s {}

# Whack them (note the `--force` supplied)
eqx destroy -cn '$Friend' --force cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# W DESTROYING all Items WHERE c.p LIKE &quot;$ResourceRole%&quot; {}
# I .. Deleted  6347i    6347s      0e   6347u 1,671.52WRU/s   30.0s {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.21&gt;0.76   415.17RRU   1.2s 1,678.54WRU/s  47.2s {}
# I .. Deleted  6363i    6363s      0e   6363u 1,703.29WRU/s   30.0s {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.48&gt;0.76   404.70RRU   1.1s 1,685.49WRU/s  47.8s {}
# I .. Deleted  6001i    6001s      0e   6001u 1,571.94WRU/s   30.0s {}
# I Page  9999&gt; 9999i    9999s      0e   9999u    8.32&gt;0.76   395.36RRU   1.0s 1,582.18WRU/s  50.1s {}
^C           

# Get impatient; up the concurrency (-w 192) from the default 32 (note the `--force` supplied)
eqx destroy -cn '$Friend' --force -w 192 cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# W DESTROYING all Items WHERE c.p LIKE &quot;$ResourceRole%&quot; {}
# I Page  3946&gt; 3946i    3946s      0e   3946u    3.05&gt;0.30   176.23RRU   0.8s 5,107.71WRU/s   6.1s {}
# I TOTALS 3,946i 1c 3,946s 0e 3,946u read 3.0MiB output 0.3MiB 176.23RRU Avg 3,058.48WRU/s Delete 31,360.10WRU Total 10.3s {}

# Analyze the largest streams in the '$Permission' category 
eqx top -S -cl '$Perm%' cosmos -d db -c $EQUINOX_COSMOS_CONTAINER
# I Page  254&gt; 254i  254s    0e  254u 4.33&gt;4.33&lt;4.65MiB 349.76RU  3.9s D+M 8.2 C+C 0.00 105ms age 0013.23:34:02 {}
# I Page 1671&gt;1671i 1671s    0e 1671u 2.39&gt;2.40&lt;2.54MiB  91.57RU  2.1s D+M 2.9 C+C 0.00  99ms age 0013.23:34:07 {}
# I TOTALS 1,925i 1,925c 1,925s 0e 1,925u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 0.207s Total 441.33RU 9.4s {}
# I     1925i    7.19MiB E       0     0.0 U    1925     6.6 D+M   11.1 C+C   0.0 $Permission {}
# I        1i    1.75MiB E       0     0.0 U       1     1.8 D+M    3.1 C+C   0.0 $Permission-5292b7cd524d509bb969bd82abf39461 {}
# I        1i    1.38MiB E       0     0.0 U       1     1.4 D+M    2.5 C+C   0.0 $Permission-244b72fb0238595494b5cb3f9bd1abf7 {}
# I        1i    0.79MiB E       0     0.0 U       1     0.8 D+M    1.5 C+C   0.0 $Permission-68a13e8398b352c5b8e22ec18ab2bbb6 {}
# I        1i    0.57MiB E       0     0.0 U       1     0.6 D+M    1.1 C+C   0.0 $Permission-ea4d1f46014a5bf6bbd97d3ec5723266 {}
# I        1i    0.13MiB E       0     0.0 U       1     0.1 D+M    0.2 C+C   0.0 $Permission-65b58d132ff857bb81b08a5bb69732d2 {}
# I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-a7bcc3370ad15ae68041745ca55166cf {}
# I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-03032ccf597857d9aa9c64b10288af8c {}"><pre><span class="pl-c"><span class="pl-c">#</span> Add indexing of the `u`nfolds borne by Tip Items: 1) `c` for the case name 2) `d` for fields of uncompressed unfolds </span>
eqx init <span class="pl-k">-</span>m serverless <span class="pl-k">--</span>indexunfolds cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_VIEWS</span>

<span class="pl-c"><span class="pl-c">#</span> query all streams LIKE "$User-%" with `Snapshotted2` unfolds. Batches of up to 100,000 events</span>
eqx query <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$User<span class="pl-pds">'</span></span> <span class="pl-k">-</span>un Snapshotted2 cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_VIEWS</span> <span class="pl-k">-</span>b <span class="pl-c1">100000</span>

<span class="pl-c"><span class="pl-c">#</span> use a wild card (LIKE) for the stream name </span>
eqx query <span class="pl-k">-</span>cl <span class="pl-s"><span class="pl-pds">'</span>$Us%<span class="pl-pds">'</span></span> <span class="pl-k">-</span>un Snapshotted cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_VIEWS</span> <span class="pl-k">-</span>b <span class="pl-c1">100000</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE "$Us%" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = "Snapshotted") {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 7166s, 7166u, 0e 320.58RU 3.9s {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 1608s, 1608u, 0e 68.59RU 0.9s {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; TOTALS 1c, 8774s, 389.17RU 4.7s {}   </span>

<span class="pl-c"><span class="pl-c">#</span> Skip loading the _etag to simulate a query where you will only render the result (not `Transact` against it)</span>
eqx query <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$User<span class="pl-pds">'</span></span> <span class="pl-k">-</span>m readonly <span class="pl-k">-</span>un Snapshotted cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_VIEWS</span> <span class="pl-k">-</span>b <span class="pl-c1">100000</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Querying ReadOnly: SELECT c.u FROM c WHERE c.p LIKE "$User-%" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = "Snapshotted") {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 8774s, 8774u, 0e 342.33RU 3.8s {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; TOTALS 0c, 8774s, 342.33RU 3.8s {} #  cheaper and only one batch as no .p or ._etag </span>

<span class="pl-c"><span class="pl-c">#</span> add criteria filtering based on an Uncompressed Unfold</span>
eqx query <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$User<span class="pl-pds">'</span></span> <span class="pl-k">-</span>un EmailIndex <span class="pl-k">-</span>uc <span class="pl-s"><span class="pl-pds">'</span>u.d.email = "a@b.com"<span class="pl-pds">'</span></span> cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_VIEWS</span> <span class="pl-k">-</span>b <span class="pl-c1">100000</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Querying Default: SELECT c.p, c.u[0].D, c.u[0].d, c._etag FROM c WHERE c.p LIKE "$User-%" AND EXISTS (SELECT VALUE u FROM u IN c.u WHERE u.c = "EmailIndex" AND u.d.email = "a@b.com") {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 0s, 0u, 0e 2.8RU 0.7s {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; TOTALS 0c, 0s, 2.80RU 0.7s {} #  only 2.8RU if nothing is returned</span>

<span class="pl-c"><span class="pl-c">#</span> DUMP ONE STREAM TO A FILE (equivalent to queries performed by CosmosStore.AccessStrategy.Unoptimized)</span>
<span class="pl-c"><span class="pl-c">#</span> Can be imported into another store via `propulsion sync cosmos from json`</span>
eqx query <span class="pl-k">-</span>sn <span class="pl-s"><span class="pl-pds">'</span>user-f28fb6feea00550e93ca77b6f29899cd<span class="pl-pds">'</span></span> <span class="pl-k">-</span>o dump<span class="pl-k">-</span>user.json cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span> <span class="pl-k">-</span>b <span class="pl-c1">9999</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Dumping Raw content to ./dump-user.json {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Querying Raw: SELECT * FROM c WHERE c.p = "user-f28fb6feea00550e93ca77b6f29899cd" AND 1=1 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 9s, 1u, 10e 3.23RU 0.5s 0.0MiB age 0002.10:04:13 {} #  2.80 if no results, adds per KiB charge if there are results </span>
<span class="pl-c"><span class="pl-c">#</span> &gt; TOTALS 1c, 9s, 3.23RU R/W 0.0/0.0MiB 3.9s {}</span>

<span class="pl-c"><span class="pl-c">#</span> DUMP FULL CONTENT OF THE CONTAINER TO A FILE</span>
<span class="pl-c"><span class="pl-c">#</span> Can be imported into another store via `propulsion sync cosmos from json`</span>
eqx query <span class="pl-k">-</span>o ..<span class="pl-k">/</span>dump<span class="pl-k">-</span><span class="pl-c1">240216.</span>json cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span> <span class="pl-k">-</span>b <span class="pl-c1">9999</span>                             
<span class="pl-c"><span class="pl-c">#</span> &gt; Dumping Raw content to ~/dumps/dump-240216.json {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; No StreamName or CategoryName/CategoryLike specified - Unfold Criteria better be unambiguous {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Querying Raw: SELECT * FROM c WHERE 1=1 AND 1=1 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 2972s, 748u, 3112e 108.9RU 3.8s 4.0MiB age 0212.18:00:45 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 3211s, 777u, 3161e 112.29RU 3.3s 4.0MiB age 0212.09:06:02 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 3003s, 663u, 3172e 110.33RU 3.4s 4.0MiB age 0211.04:09:12 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &lt;chop&gt;</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 2768s, 498u, 3153e 107.46RU 3.0s 4.0MiB age 0016.13:09:02 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 2806s, 505u, 3198e 107.17RU 3.0s 4.0MiB age 0010.18:52:45 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 2903s, 601u, 3188e 107.53RU 3.1s 4.0MiB age 0004.05:24:51 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; Page 2638s, 316u, 3019e 93.09RU 2.5s 3.4MiB age 0000.05:08:38 {}</span>
<span class="pl-c"><span class="pl-c">#</span> &gt; TOTALS 11c, 206,356s, 7,886.75RU R/W 290.4/290.4MiB 225.3s {}</span>

<span class="pl-c"><span class="pl-c">#</span> Prepare a breakdown of which categories are using the most capacity within the store</span>
eqx <span class="pl-k">-</span>Q top cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> Page 3276&gt;3276i 3276s    0e 3991u 4.00&gt;4.00&lt;4.22MiB 103.74RU  3.5s D+M 5.1 C+C 0.00 201ms age 0000.00:33:13 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 3177&gt;3177i 3177s    0e 4593u 4.00&gt;4.01&lt;4.20MiB 105.22RU  3.2s D+M 4.7 C+C 0.00 146ms age 0000.02:23:48 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 2708&gt;2708i 2708s    0e 5044u 4.00&gt;4.00&lt;4.19MiB 105.76RU  3.4s D+M 4.5 C+C 0.00  84ms age 0002.23:10:55 {}</span>
...
<span class="pl-c"><span class="pl-c">#</span> Page 4334&gt;4334i 4334s    0e 5038u 4.00&gt;4.00&lt;4.19MiB 112.59RU  2.9s D+M 4.2 C+C 0.00 109ms age 0000.00:00:59 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 1637&gt;1637i 1637s    0e 2939u 2.40&gt;2.41&lt;2.52MiB  64.12RU  1.7s D+M 2.5 C+C 0.00  39ms age 0000.00:18:03 {}</span>
<span class="pl-c"><span class="pl-c">#</span> TOTALS 47,200i 9c 47,200s 0e 79,262u read 0.1GiB output 0.1GiB JSON 0.1GiB D+M(inflated) 0.1GiB C+C 0.00MiB Parse 1.516s Total 1,750.73RU 54.2s {}</span>
<span class="pl-c"><span class="pl-c">#</span>    24064i   40.75MiB E       0     0.0 U   48128    33.6 D+M   35.0 C+C   0.0 $Friend {}</span>
<span class="pl-c"><span class="pl-c">#</span>     6372i   13.18MiB E       0     0.0 U   12744    11.4 D+M   23.9 C+C   0.0 $Tenant {}</span>
<span class="pl-c"><span class="pl-c">#</span>     6374i    5.41MiB E       0     0.0 U    6374     3.6 D+M    5.4 C+C   0.0 $Role0 {}</span>
<span class="pl-c"><span class="pl-c">#</span>     5992i    5.09MiB E       0     0.0 U    5992     3.4 D+M    5.1 C+C   0.0 $Role {}</span>
<span class="pl-c"><span class="pl-c">#</span>     1574i    1.95MiB E       0     0.0 U    1574     1.5 D+M    2.0 C+C   0.0 $Permission {}</span>
<span class="pl-c"><span class="pl-c">#</span>     1575i    1.79MiB E       0     0.0 U    3150     1.3 D+M    1.2 C+C   0.0 $User {}</span>
<span class="pl-c"><span class="pl-c">#</span>      445i    0.51MiB E       0     0.0 U     483     0.4 D+M    0.8 C+C   0.0 $Invoice3 {}</span>
<span class="pl-c"><span class="pl-c">#</span>      410i    0.46MiB E       0     0.0 U     423     0.3 D+M    0.8 C+C   0.0 $Invoice2 {}</span>
<span class="pl-c"><span class="pl-c">#</span>      394i    0.44MiB E       0     0.0 U     394     0.3 D+M    0.7 C+C   0.0 $Invoice {}</span>

<span class="pl-c"><span class="pl-c">#</span> Drill into the Friend data (different test data to preceding article)</span>
eqx top <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$Friend<span class="pl-pds">'</span></span> cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4787&gt;4787i 4787s    0e 4787u 4.00&gt;4.00&lt;4.19MiB 218.54RU  3.6s D+M 4.5 C+C 0.00 259ms age 0013.22:52:15 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4955&gt;4955i 4955s    0e 4955u 4.00&gt;4.00&lt;4.19MiB 200.20RU  3.2s D+M 4.1 C+C 0.00 202ms age 0013.22:52:18 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4715&gt;4715i 4715s    0e 4715u 4.00&gt;4.00&lt;4.21MiB 201.26RU  3.2s D+M 4.4 C+C 0.00 145ms age 0013.22:52:22 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4884&gt;4884i 4884s    0e 4884u 4.00&gt;4.00&lt;4.20MiB 198.97RU  3.2s D+M 4.1 C+C 0.00  95ms age 0013.22:52:31 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4620&gt;4620i 4620s    0e 4620u 4.00&gt;4.00&lt;4.20MiB 194.76RU  3.0s D+M 4.7 C+C 0.00 140ms age 0013.22:52:28 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4840&gt;4840i 4840s    0e 4840u 4.00&gt;4.00&lt;4.19MiB 198.43RU  3.2s D+M 4.2 C+C 0.00 136ms age 0013.22:52:34 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 4791&gt;4791i 4791s    0e 4791u 4.00&gt;4.00&lt;4.21MiB 200.20RU  3.0s D+M 4.2 C+C 0.00 137ms age 0014.02:23:24 {}</span>
<span class="pl-c"><span class="pl-c">#</span> Page 3906&gt;3906i 3906s    0e 3906u 3.01&gt;3.02&lt;3.15MiB 158.28RU  2.6s D+M 2.9 C+C 0.00 142ms age 0013.23:13:51 {}</span>
<span class="pl-c"><span class="pl-c">#</span> TOTALS 37,498i 1c 37,498s 0e 37,498u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 1.264s Total 1,570.64RU 30.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span>    37498i   32.55MiB E       0     0.1 U   37498    21.7 D+M   33.2 C+C   0.0 $Friend {}</span>

<span class="pl-c"><span class="pl-c">#</span> DRY RUN of deleting (note no `-f` supplied)</span>
eqx destroy <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$Friend<span class="pl-pds">'</span></span> cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> W Dry-run of deleting items based on SELECT c.p, c.id, ARRAYLENGTH(c.e) AS es, ARRAYLENGTH(c.u) AS us FROM c WHERE c.p LIKE "$Friend%" {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.21&gt;0.76   415.07RRU   1.4s 0.00WRU/s   0.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.48&gt;0.76   404.70RRU   0.8s 0.00WRU/s   0.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.32&gt;0.76   395.36RRU   1.1s 0.00WRU/s   0.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  7501&gt; 7501i    7501s      0e   7501u    6.01&gt;0.57   299.60RRU   1.0s 0.00WRU/s   0.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I TOTALS 37,498i 1c 37,498s 0e 37,498u read 31.0MiB output 2.9MiB 1,514.73RRU Avg 0.00WRU/s Delete 0.00WRU Total 7.8s {}</span>

<span class="pl-c"><span class="pl-c">#</span> Whack them (note the `--force` supplied)</span>
eqx destroy <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$Friend<span class="pl-pds">'</span></span> <span class="pl-k">--</span>force cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> W DESTROYING all Items WHERE c.p LIKE "$ResourceRole%" {}</span>
<span class="pl-c"><span class="pl-c">#</span> I .. Deleted  6347i    6347s      0e   6347u 1,671.52WRU/s   30.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.21&gt;0.76   415.17RRU   1.2s 1,678.54WRU/s  47.2s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I .. Deleted  6363i    6363s      0e   6363u 1,703.29WRU/s   30.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.48&gt;0.76   404.70RRU   1.1s 1,685.49WRU/s  47.8s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I .. Deleted  6001i    6001s      0e   6001u 1,571.94WRU/s   30.0s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  9999&gt; 9999i    9999s      0e   9999u    8.32&gt;0.76   395.36RRU   1.0s 1,582.18WRU/s  50.1s {}</span>
^C           

<span class="pl-c"><span class="pl-c">#</span> Get impatient; up the concurrency (-w 192) from the default 32 (note the `--force` supplied)</span>
eqx destroy <span class="pl-k">-</span>cn <span class="pl-s"><span class="pl-pds">'</span>$Friend<span class="pl-pds">'</span></span> <span class="pl-k">--</span>force <span class="pl-k">-</span>w <span class="pl-c1">192</span> cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> W DESTROYING all Items WHERE c.p LIKE "$ResourceRole%" {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  3946&gt; 3946i    3946s      0e   3946u    3.05&gt;0.30   176.23RRU   0.8s 5,107.71WRU/s   6.1s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I TOTALS 3,946i 1c 3,946s 0e 3,946u read 3.0MiB output 0.3MiB 176.23RRU Avg 3,058.48WRU/s Delete 31,360.10WRU Total 10.3s {}</span>

<span class="pl-c"><span class="pl-c">#</span> Analyze the largest streams in the '$Permission' category </span>
eqx top <span class="pl-k">-</span>S <span class="pl-k">-</span>cl <span class="pl-s"><span class="pl-pds">'</span>$Perm%<span class="pl-pds">'</span></span> cosmos <span class="pl-k">-</span>d db <span class="pl-k">-</span>c <span class="pl-smi">$EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-c"><span class="pl-c">#</span> I Page  254&gt; 254i  254s    0e  254u 4.33&gt;4.33&lt;4.65MiB 349.76RU  3.9s D+M 8.2 C+C 0.00 105ms age 0013.23:34:02 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I Page 1671&gt;1671i 1671s    0e 1671u 2.39&gt;2.40&lt;2.54MiB  91.57RU  2.1s D+M 2.9 C+C 0.00  99ms age 0013.23:34:07 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I TOTALS 1,925i 1,925c 1,925s 0e 1,925u read 0.0GiB output 0.0GiB JSON 0.0GiB D+M(inflated) 0.0GiB C+C 0.00MiB Parse 0.207s Total 441.33RU 9.4s {}</span>
<span class="pl-c"><span class="pl-c">#</span> I     1925i    7.19MiB E       0     0.0 U    1925     6.6 D+M   11.1 C+C   0.0 $Permission {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    1.75MiB E       0     0.0 U       1     1.8 D+M    3.1 C+C   0.0 $Permission-5292b7cd524d509bb969bd82abf39461 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    1.38MiB E       0     0.0 U       1     1.4 D+M    2.5 C+C   0.0 $Permission-244b72fb0238595494b5cb3f9bd1abf7 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    0.79MiB E       0     0.0 U       1     0.8 D+M    1.5 C+C   0.0 $Permission-68a13e8398b352c5b8e22ec18ab2bbb6 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    0.57MiB E       0     0.0 U       1     0.6 D+M    1.1 C+C   0.0 $Permission-ea4d1f46014a5bf6bbd97d3ec5723266 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    0.13MiB E       0     0.0 U       1     0.1 D+M    0.2 C+C   0.0 $Permission-65b58d132ff857bb81b08a5bb69732d2 {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-a7bcc3370ad15ae68041745ca55166cf {}</span>
<span class="pl-c"><span class="pl-c">#</span> I        1i    0.02MiB E       0     0.0 U       1     0.0 D+M    0.0 C+C   0.0 $Permission-03032ccf597857d9aa9c64b10288af8c {}</span></pre></div>
</li>
<li>
<p dir="auto">Use <code>propulsion sync</code> tool to run a CosmosDB ChangeFeedProcessor</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet tool uninstall Propulsion.Tool -g
dotnet tool install Propulsion.Tool -g --prerelease

propulsion init -ru 400 cosmos # generates a -aux container for the ChangeFeedProcessor to maintain consumer group progress within
# -V for verbose ChangeFeedProcessor logging
# `-g projector1` represents the consumer group - &gt;=1 are allowed, allowing multiple independent projections to run concurrently
# stats specifies one only wants stats regarding items (other options include `kafka` to project to Kafka)
# cosmos specifies source overrides (using defaults in step 1 in this instance)
propulsion -V sync -g projector1 stats from cosmos"><pre>dotnet tool uninstall Propulsion.Tool <span class="pl-k">-</span>g
dotnet tool install Propulsion.Tool <span class="pl-k">-</span>g <span class="pl-k">--</span>prerelease

propulsion init <span class="pl-k">-</span>ru <span class="pl-c1">400</span> cosmos <span class="pl-c"><span class="pl-c">#</span> generates a -aux container for the ChangeFeedProcessor to maintain consumer group progress within</span>
<span class="pl-c"><span class="pl-c">#</span> -V for verbose ChangeFeedProcessor logging</span>
<span class="pl-c"><span class="pl-c">#</span> `-g projector1` represents the consumer group - &gt;=1 are allowed, allowing multiple independent projections to run concurrently</span>
<span class="pl-c"><span class="pl-c">#</span> stats specifies one only wants stats regarding items (other options include `kafka` to project to Kafka)</span>
<span class="pl-c"><span class="pl-c">#</span> cosmos specifies source overrides (using defaults in step 1 in this instance)</span>
propulsion <span class="pl-k">-</span>V sync <span class="pl-k">-</span>g projector1 stats <span class="pl-k">from</span> cosmos</pre></div>
</li>
<li>
<p dir="auto">Generate a CosmosDB ChangeFeedProcessor sample <code>.fsproj</code> (without Kafka producer/consumer), using <code>Propulsion.CosmosStore</code></p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet new -i Equinox.Templates

# note the absence of -k means the projector code will be a skeleton that does no processing besides counting the events
dotnet new proProjector

# start one or more Projectors
# `-g projector2` represents the consumer group; &gt;=1 are allowed, allowing multiple independent projections to run concurrently
# cosmos specifies source overrides (using defaults in step 1 in this instance)
dotnet run -- -g projector2 cosmos"><pre>dotnet new <span class="pl-k">-</span>i Equinox.Templates

<span class="pl-c"><span class="pl-c">#</span> note the absence of -k means the projector code will be a skeleton that does no processing besides counting the events</span>
dotnet new proProjector

<span class="pl-c"><span class="pl-c">#</span> start one or more Projectors</span>
<span class="pl-c"><span class="pl-c">#</span> `-g projector2` represents the consumer group; &gt;=1 are allowed, allowing multiple independent projections to run concurrently</span>
<span class="pl-c"><span class="pl-c">#</span> cosmos specifies source overrides (using defaults in step 1 in this instance)</span>
dotnet run <span class="pl-k">--</span> <span class="pl-k">-</span>g projector2 cosmos</pre></div>
</li>
<li>
<p dir="auto">Use <code>propulsion</code> tool to Run a CosmosDB ChangeFeedProcessor, emitting to a Kafka topic</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$env:PROPULSION_KAFKA_BROKER=&quot;instance.kafka.mysite.com:9092&quot; # or use -b	
# `-V` for verbose logging	
# `projector3` represents the consumer group; &gt;=1 are allowed, allowing multiple independent projections to run concurrently	
# `-l 5` to report ChangeFeed lags every 5 minutes	
# `kafka` specifies one wants to emit to Kafka	
# `temp-topic` is the topic to emit to	
# `cosmos` specifies source overrides (using defaults in step 1 in this instance)	
propulsion -V sync -g projector3 -l 5 kafka temp-topic from cosmos	"><pre><span class="pl-smi">$<span class="pl-c1">env:</span>PROPULSION_KAFKA_BROKER</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>instance.kafka.mysite.com:9092<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> or use -b	</span>
<span class="pl-c"><span class="pl-c">#</span> `-V` for verbose logging	</span>
<span class="pl-c"><span class="pl-c">#</span> `projector3` represents the consumer group; &gt;=1 are allowed, allowing multiple independent projections to run concurrently	</span>
<span class="pl-c"><span class="pl-c">#</span> `-l 5` to report ChangeFeed lags every 5 minutes	</span>
<span class="pl-c"><span class="pl-c">#</span> `kafka` specifies one wants to emit to Kafka	</span>
<span class="pl-c"><span class="pl-c">#</span> `temp-topic` is the topic to emit to	</span>
<span class="pl-c"><span class="pl-c">#</span> `cosmos` specifies source overrides (using defaults in step 1 in this instance)	</span>
propulsion <span class="pl-k">-</span>V sync <span class="pl-k">-</span>g projector3 <span class="pl-k">-</span>l <span class="pl-c1">5</span> kafka temp<span class="pl-k">-</span>topic <span class="pl-k">from</span> cosmos	</pre></div>
</li>
<li>
<p dir="auto">Generate CosmosDB <a href="https://github.com/jet/propulsion#feeding-to-kafka">Kafka Projector and Consumer</a> <code>.fsproj</code>ects (using <code>Propulsion.Kafka</code>)</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cat readme.md # more complete instructions regarding the code

# -k requests inclusion of Apache Kafka support
md projector | cd
dotnet new proProjector -k

# start one or more Projectors (see above for more examples/info re the Projector.fsproj)

$env:PROPULSION_KAFKA_BROKER=&quot;instance.kafka.mysite.com:9092&quot; # or use -b
$env:PROPULSION_KAFKA_TOPIC=&quot;topic0&quot; # or use -t
dotnet run -- -g projector4 -t topic0 cosmos

# generate a consumer app
md consumer | cd
dotnet new proConsumer

# start one or more Consumers
$env:PROPULSION_KAFKA_GROUP=&quot;consumer1&quot; # or use -g
dotnet run -- -t topic0 -g consumer1"><pre>cat readme.md <span class="pl-c"><span class="pl-c">#</span> more complete instructions regarding the code</span>

<span class="pl-c"><span class="pl-c">#</span> -k requests inclusion of Apache Kafka support</span>
md projector <span class="pl-k">|</span> cd
dotnet new proProjector <span class="pl-k">-</span>k

<span class="pl-c"><span class="pl-c">#</span> start one or more Projectors (see above for more examples/info re the Projector.fsproj)</span>

<span class="pl-smi">$<span class="pl-c1">env:</span>PROPULSION_KAFKA_BROKER</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>instance.kafka.mysite.com:9092<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> or use -b</span>
<span class="pl-smi">$<span class="pl-c1">env:</span>PROPULSION_KAFKA_TOPIC</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>topic0<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> or use -t</span>
dotnet run <span class="pl-k">--</span> <span class="pl-k">-</span>g projector4 <span class="pl-k">-</span>t topic0 cosmos

<span class="pl-c"><span class="pl-c">#</span> generate a consumer app</span>
md consumer <span class="pl-k">|</span> cd
dotnet new proConsumer

<span class="pl-c"><span class="pl-c">#</span> start one or more Consumers</span>
<span class="pl-smi">$<span class="pl-c1">env:</span>PROPULSION_KAFKA_GROUP</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>consumer1<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> or use -g</span>
dotnet run <span class="pl-k">--</span> <span class="pl-k">-</span>t topic0 <span class="pl-k">-</span>g consumer1</pre></div>
</li>
<li>
<p dir="auto">Generate an Archive container; Generate a ChangeFeedProcessor App to mirror desired streams from the Primary to it</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# once
eqx init -ru 400 cosmos -c equinox-test-archive

md archiver | cd

# Generate a template app that'll sync from the Primary (i.e. equinox-test)
# to the Archive (i.e. equinox-test-archive)
dotnet new proArchiver

# TODO edit Handler.fs to add criteria for what to Archive
# - Normally you won't want to Archive stuff like e.g. `Sync-` checkppoint streams
# - Any other ephemeral application streams can be excluded too

# -w 4 # constrain parallel writers in order to leave headroom for readers; Archive container should be cheaper to run
# -S -t 40 # emit log messages for Sync calls costing &gt; 40 RU
# -md 20 (or lower) is recommended to be nice to the writers - the archiver can afford to lag
dotnet run -c Release -- -w 4 -S -t 40 -g ArchiverConsumer `
  cosmos -md 20 -c equinox-test -a equinox-test-aux `
  cosmos -c equinox-test-archive "><pre><span class="pl-c"><span class="pl-c">#</span> once</span>
eqx init <span class="pl-k">-</span>ru <span class="pl-c1">400</span> cosmos <span class="pl-k">-</span>c equinox<span class="pl-k">-</span><span class="pl-c1">test-archive</span>

md archiver <span class="pl-k">|</span> cd

<span class="pl-c"><span class="pl-c">#</span> Generate a template app that'll sync from the Primary (i.e. equinox-test)</span>
<span class="pl-c"><span class="pl-c">#</span> to the Archive (i.e. equinox-test-archive)</span>
dotnet new proArchiver

<span class="pl-c"><span class="pl-c">#</span> TODO edit Handler.fs to add criteria for what to Archive</span>
<span class="pl-c"><span class="pl-c">#</span> - Normally you won't want to Archive stuff like e.g. `Sync-` checkppoint streams</span>
<span class="pl-c"><span class="pl-c">#</span> - Any other ephemeral application streams can be excluded too</span>

<span class="pl-c"><span class="pl-c">#</span> -w 4 # constrain parallel writers in order to leave headroom for readers; Archive container should be cheaper to run</span>
<span class="pl-c"><span class="pl-c">#</span> -S -t 40 # emit log messages for Sync calls costing &gt; 40 RU</span>
<span class="pl-c"><span class="pl-c">#</span> -md 20 (or lower) is recommended to be nice to the writers - the archiver can afford to lag</span>
dotnet run <span class="pl-k">-</span>c Release <span class="pl-k">--</span> <span class="pl-k">-</span>w <span class="pl-c1">4</span> <span class="pl-k">-</span>S <span class="pl-k">-</span>t <span class="pl-c1">40</span> <span class="pl-k">-</span>g ArchiverConsumer <span class="pl-k">`</span>
  cosmos <span class="pl-k">-</span>md <span class="pl-c1">20</span> <span class="pl-k">-</span>c equinox<span class="pl-k">-</span>test <span class="pl-k">-</span>a equinox<span class="pl-k">-</span><span class="pl-c1">test-aux</span> <span class="pl-k">`</span>
  cosmos <span class="pl-k">-</span>c equinox<span class="pl-k">-</span><span class="pl-c1">test-archive</span> </pre></div>
</li>
<li>
<p dir="auto">Use a ChangeFeedProcessor driven from the Archive Container to Prune the Primary</p>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="md pruner | cd

# Generate a template app that'll read from the Archive (i.e. equinox-test-archive)
# and prune expired events from the Primary (i.e. equinox-test)
dotnet new proPruner

# TODO edit Handler.fs to add criteria for what to Prune
# - While its possible to prune the minute it's archived, normally you'll want to allow a time lag before doing so

# -w 2 # constrain parallel pruners in order to not consume RUs excessively on Primary
# -md 10 (or lower) is recommended to contrain consumption on the Archive - Pruners lagging is rarely critical
dotnet run -c Release -- -w 2 -g PrunerConsumer `
  cosmos -md 10 -c equinox-test-archive -a equinox-test-aux `
  cosmos -c equinox-test"><pre>md pruner <span class="pl-k">|</span> cd

<span class="pl-c"><span class="pl-c">#</span> Generate a template app that'll read from the Archive (i.e. equinox-test-archive)</span>
<span class="pl-c"><span class="pl-c">#</span> and prune expired events from the Primary (i.e. equinox-test)</span>
dotnet new proPruner

<span class="pl-c"><span class="pl-c">#</span> TODO edit Handler.fs to add criteria for what to Prune</span>
<span class="pl-c"><span class="pl-c">#</span> - While its possible to prune the minute it's archived, normally you'll want to allow a time lag before doing so</span>

<span class="pl-c"><span class="pl-c">#</span> -w 2 # constrain parallel pruners in order to not consume RUs excessively on Primary</span>
<span class="pl-c"><span class="pl-c">#</span> -md 10 (or lower) is recommended to contrain consumption on the Archive - Pruners lagging is rarely critical</span>
dotnet run <span class="pl-k">-</span>c Release <span class="pl-k">--</span> <span class="pl-k">-</span>w <span class="pl-c1">2</span> <span class="pl-k">-</span>g PrunerConsumer <span class="pl-k">`</span>
  cosmos <span class="pl-k">-</span>md <span class="pl-c1">10</span> <span class="pl-k">-</span>c equinox<span class="pl-k">-</span><span class="pl-c1">test-archive</span> <span class="pl-k">-</span>a equinox<span class="pl-k">-</span><span class="pl-c1">test-aux</span> <span class="pl-k">`</span>
  cosmos <span class="pl-k">-</span>c equinox<span class="pl-k">-</span>test</pre></div>
</li>
</ol>
<p dir="auto"><a name="user-content-sqlstreamstore"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Use <a href="https://github.com/SQLStreamStore/SQLStreamStore">SqlStreamStore</a></h3><a id="user-content-use-sqlstreamstore" class="anchor" aria-label="Permalink: Use SqlStreamStore" href="#use-sqlstreamstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">SqlStreamStore is provided in the samples and the <code>eqx</code> tool:</p>
<ul dir="auto">
<li>being able to supply <code>ms</code>, <code>my</code>, <code>pg</code> flag to <code>eqx loadtest</code>, e.g. <code>eqx loadtest -t cart -f 50 -d 5 -C -U ms -c "sqlserverconnectionstring" -s schema</code></li>
<li>being able to supply <code>ms</code>, <code>my</code>, <code>pg</code> flag to <code>eqx dump</code>, e.g. <code>eqx dump -CU "Favorites-ab25cc9f24464d39939000aeb37ea11a" ms -c "sqlserverconnectionstring" -s schema</code></li>
<li>being able to supply <code>ms</code>, <code>my</code>, <code>pg</code> flag to Web sample, e.g. <code>dotnet run --project samples/Web/ -- my -c "mysqlconnectionstring"</code></li>
<li>being able to supply <code>ms</code>, <code>my</code>, <code>pg</code> flag to new <code>eqx initsql</code> command e.g. <code>eqx initsql pg -c "postgresconnectionstring" -u p "usercredentialsNotToBeLogged" -s schema</code></li>
</ul>
<div class="highlight highlight-source-powershell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cd ~/code/equinox

# set up the DB/schema
dotnet run --project tools/Equinox.Tool -- initsql pg -c &quot;connectionstring&quot; -p &quot;u=un;p=password&quot; -s &quot;schema&quot;

# run a benchmark
dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -C -U pg -c &quot;connectionstring&quot; -p &quot;u=un;p=password&quot; -s &quot;schema&quot;

# run the webserver, -A to autocreate schema on connection
dotnet run --project samples/Web/ -- my -c &quot;mysqlconnectionstring&quot; -A

# set up the DB/schema
eqx initsql pg -c &quot;connectionstring&quot; -p &quot;u=un;p=password&quot; -s &quot;schema&quot;

# run a benchmark
eqx loadtest -t saveforlater -f 50 -d 5 -C -U pg -c &quot;connectionstring&quot; -p &quot;u=un;p=password&quot; -s &quot;schema&quot; 
eqx dump &quot;SavedForLater-ab25cc9f24464d39939000aeb37ea11a&quot; pg -c &quot;connectionstring&quot; -p &quot;u=un;p=password&quot; -s &quot;schema&quot; # show stored JSON (Guid shown in eqx loadtest output) "><pre>cd ~<span class="pl-k">/</span>code<span class="pl-k">/</span>equinox

<span class="pl-c"><span class="pl-c">#</span> set up the DB/schema</span>
dotnet run <span class="pl-k">--</span>project tools<span class="pl-k">/</span>Equinox.Tool <span class="pl-k">--</span> initsql pg <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>connectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>p <span class="pl-s"><span class="pl-pds">"</span>u=un;p=password<span class="pl-pds">"</span></span> <span class="pl-k">-</span>s <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> run a benchmark</span>
dotnet run <span class="pl-k">-</span>c Release <span class="pl-k">--</span>project tools<span class="pl-k">/</span>Equinox.Tool <span class="pl-k">--</span> loadtest <span class="pl-k">-</span>t saveforlater <span class="pl-k">-f</span> <span class="pl-c1">50</span> <span class="pl-k">-</span>d <span class="pl-c1">5</span> <span class="pl-k">-</span>C <span class="pl-k">-</span>U pg <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>connectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>p <span class="pl-s"><span class="pl-pds">"</span>u=un;p=password<span class="pl-pds">"</span></span> <span class="pl-k">-</span>s <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> run the webserver, -A to autocreate schema on connection</span>
dotnet run <span class="pl-k">--</span>project samples<span class="pl-k">/</span>Web<span class="pl-k">/</span> <span class="pl-k">--</span> my <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>mysqlconnectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>A

<span class="pl-c"><span class="pl-c">#</span> set up the DB/schema</span>
eqx initsql pg <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>connectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>p <span class="pl-s"><span class="pl-pds">"</span>u=un;p=password<span class="pl-pds">"</span></span> <span class="pl-k">-</span>s <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">#</span> run a benchmark</span>
eqx loadtest <span class="pl-k">-</span>t saveforlater <span class="pl-k">-f</span> <span class="pl-c1">50</span> <span class="pl-k">-</span>d <span class="pl-c1">5</span> <span class="pl-k">-</span>C <span class="pl-k">-</span>U pg <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>connectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>p <span class="pl-s"><span class="pl-pds">"</span>u=un;p=password<span class="pl-pds">"</span></span> <span class="pl-k">-</span>s <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span> 
eqx dump <span class="pl-s"><span class="pl-pds">"</span>SavedForLater-ab25cc9f24464d39939000aeb37ea11a<span class="pl-pds">"</span></span> pg <span class="pl-k">-</span>c <span class="pl-s"><span class="pl-pds">"</span>connectionstring<span class="pl-pds">"</span></span> <span class="pl-k">-</span>p <span class="pl-s"><span class="pl-pds">"</span>u=un;p=password<span class="pl-pds">"</span></span> <span class="pl-k">-</span>s <span class="pl-s"><span class="pl-pds">"</span>schema<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> show stored JSON (Guid shown in eqx loadtest output) </span></pre></div>
<p dir="auto"><a name="user-content-message-db"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Use <a href="http://docs.eventide-project.org/user-guide/message-db/" rel="nofollow">MessageDB</a></h3><a id="user-content-use-messagedb" class="anchor" aria-label="Permalink: Use MessageDB" href="#use-messagedb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">MessageDb support is provided in the samples and the <code>eqx</code> tool:</p>
<ul dir="auto">
<li>being able to supply <code>mdb</code> flag to <code>eqx loadtest</code>, e.g. <code>eqx loadtest -f 50 -d 5 -C -U mdb -c "pgconnectionstring"</code></li>
<li>being able to supply <code>mdb</code> flag to <code>eqx dump</code>, e.g. <code>eqx dump -CU "Favorites-ab25cc9f24464d39939000aeb37ea11a" mdb -c "pgconnectionstring"</code></li>
<li>being able to supply <code>mdb</code> flag to Web sample, e.g. <code>dotnet run --project samples/Web/ -- mdb -c "pgconnectionstring"</code></li>
</ul>
<p dir="auto">Equinox does not provide utilities for configuring or installing MessageDB. See <a href="http://docs.eventide-project.org/user-guide/message-db/install.html" rel="nofollow">MessageDB's installation documentation</a>.</p>
<p dir="auto">In addition to the default access strategy of reading the whole stream forwards in batches, the following access strategies are supported in MessageDb:</p>
<p dir="auto"><code>AccesStrategy.LatestKnownEvent</code></p>
<ul dir="auto">
<li>Uses message-db's <code>get_last_stream_message</code> API to only ever fetch the last event in a stream</li>
<li>This is useful for aggregates whose entire state can be constructed from the latest event (e.g. a stream that stores checkpoints)</li>
<li>NOTE: The last event should be decodable by the supplied codec. Otherwise you'll receive the initial state.</li>
</ul>
<p dir="auto"><code>AccessStrategy.AdjacentSnapshots</code></p>
<ul dir="auto">
<li>Generates and stores a snapshot event in an adjacent <code>{Category}:snapshot-{StreamId}</code> stream</li>
<li>The generation happens every <code>batchSize</code> events. This means the state of the stream can be reconstructed with exactly 2 round-trips to the database.
<ul dir="auto">
<li>The first round-trip fetches the most recent event of type <code>snapshotEventCaseName</code> from the snapshot stream.</li>
<li>The second round-trip fetches <code>batchSize</code> events from the position of the snapshot</li>
</ul>
</li>
</ul>
<p dir="auto"><a name="user-content-dynamodb"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Use <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html" rel="nofollow">Amazon DynamoDB</a></h3><a id="user-content-use-amazon-dynamodb" class="anchor" aria-label="Permalink: Use Amazon DynamoDB" href="#use-amazon-dynamodb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">DynamoDB is supported in the samples and the <code>eqx</code> tool equivalent to the CosmosDB support as described:</p>
<ul dir="auto">
<li>being able to supply <code>dynamo</code> source to <code>eqx loadtest</code> wherever <code>cosmos</code> works, e.g. <code>eqx loadtest -t cart -f 50 -d 5 -CU dynamo -s http://localhost:8000 -t TableName</code></li>
<li>being able to supply <code>dynamo</code> flag to <code>eqx dump</code>, e.g. <code>eqx dump -CU "Favorites-ab25cc9f24464d39939000aeb37ea11a" dynamo</code></li>
<li>being able to supply <code>dynamo</code> flag to Web sample, e.g. <code>dotnet run --project samples/Web/ -- dynamo -s http://localhost:8000</code></li>
<li>being able to supply <code>dynamo</code> flag to <code>eqx initaws</code> command e.g. <code>eqx initaws -r 10 -w 10 -s new dynamo -t TableName</code></li>
</ul>
<ol dir="auto">
<li>
<p dir="auto">The tooling and samples in this repo default to using the following environment variables (see <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html" rel="nofollow">AWS CLI UserGuide</a>
for more detailed guidance as to specific configuration)</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="$env:EQUINOX_DYNAMO_SERVICE_URL=&quot;https://dynamodb.us-west-2.amazonaws.com&quot; # Simulator: &quot;http://localhost:8000&quot;
$env:EQUINOX_DYNAMO_ACCESS_KEY_ID=&quot;AKIAIOSFODNN7EXAMPLE&quot;
$env:EQUINOX_DYNAMO_SECRET_ACCESS_KEY=&quot;AwJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&quot;
$env:EQUINOX_DYNAMO_TABLE=&quot;equinox-test&quot;
$env:EQUINOX_DYNAMO_TABLE_ARCHIVE=&quot;equinox-test-archive&quot;"><pre><span class="pl-smi">$env</span>:EQUINOX_DYNAMO_SERVICE_URL=<span class="pl-s"><span class="pl-pds">"</span>https://dynamodb.us-west-2.amazonaws.com<span class="pl-pds">"</span></span> <span class="pl-c"><span class="pl-c">#</span> Simulator: "http://localhost:8000"</span>
<span class="pl-smi">$env</span>:EQUINOX_DYNAMO_ACCESS_KEY_ID=<span class="pl-s"><span class="pl-pds">"</span>AKIAIOSFODNN7EXAMPLE<span class="pl-pds">"</span></span>
<span class="pl-smi">$env</span>:EQUINOX_DYNAMO_SECRET_ACCESS_KEY=<span class="pl-s"><span class="pl-pds">"</span>AwJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY<span class="pl-pds">"</span></span>
<span class="pl-smi">$env</span>:EQUINOX_DYNAMO_TABLE=<span class="pl-s"><span class="pl-pds">"</span>equinox-test<span class="pl-pds">"</span></span>
<span class="pl-smi">$env</span>:EQUINOX_DYNAMO_TABLE_ARCHIVE=<span class="pl-s"><span class="pl-pds">"</span>equinox-test-archive<span class="pl-pds">"</span></span></pre></div>
</li>
<li>
<p dir="auto">Tour of the tools/samples:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cd ~/code/equinox

# start the simulator at http://localhost:8000 and an admin console at http://localhost:8001/
docker compose up dynamodb-local dynamodb-admin -d

# Establish the table in us-east-1 - keys come from $EQUINOX_DYNAMO_ACCESS_KEY_ID and $EQUINOX_DYNAMO_SECRET_ACCESS_KEY
dotnet run --project tools/Equinox.Tool -- initaws -r 10 -w 10 -s new dynamo -t TableName -su https://dynamodb.us-east-1.amazonaws.com

# Check the status and get the streams ARN - keys come from AWS SDK config for us-east-1 region
dotnet run --project tools/Equinox.Tool -- stats dynamo -t TableName -sr us-east-1

# run a benchmark
dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -CU dynamo

# run the webserver
dotnet run --project samples/Web/ -- dynamo -t TableName

# run a benchmark connecting to the webserver
eqx loadtest -t saveforlater -f 50 -d 5 -CU web
eqx dump &quot;SavedForLater-ab25cc9f24464d39939000aeb37ea11a&quot; dynamo # show stored JSON (Guid shown in eqx loadtest output) "><pre><span class="pl-c1">cd</span> <span class="pl-k">~</span>/code/equinox

<span class="pl-c"><span class="pl-c">#</span> start the simulator at http://localhost:8000 and an admin console at http://localhost:8001/</span>
docker compose up dynamodb-local dynamodb-admin -d

<span class="pl-c"><span class="pl-c">#</span> Establish the table in us-east-1 - keys come from $EQUINOX_DYNAMO_ACCESS_KEY_ID and $EQUINOX_DYNAMO_SECRET_ACCESS_KEY</span>
dotnet run --project tools/Equinox.Tool -- initaws -r 10 -w 10 -s new dynamo -t TableName -su https://dynamodb.us-east-1.amazonaws.com

<span class="pl-c"><span class="pl-c">#</span> Check the status and get the streams ARN - keys come from AWS SDK config for us-east-1 region</span>
dotnet run --project tools/Equinox.Tool -- stats dynamo -t TableName -sr us-east-1

<span class="pl-c"><span class="pl-c">#</span> run a benchmark</span>
dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 50 -d 5 -CU dynamo

<span class="pl-c"><span class="pl-c">#</span> run the webserver</span>
dotnet run --project samples/Web/ -- dynamo -t TableName

<span class="pl-c"><span class="pl-c">#</span> run a benchmark connecting to the webserver</span>
eqx loadtest -t saveforlater -f 50 -d 5 -CU web
eqx dump <span class="pl-s"><span class="pl-pds">"</span>SavedForLater-ab25cc9f24464d39939000aeb37ea11a<span class="pl-pds">"</span></span> dynamo <span class="pl-c"><span class="pl-c">#</span> show stored JSON (Guid shown in eqx loadtest output) </span></pre></div>
</li>
<li>
<p dir="auto">Useful articles</p>
</li>
</ol>
<ul dir="auto">
<li><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TroubleshootingThrottling.html" rel="nofollow">Troubleshooting throttling issues in Amazon DynamoDB</a></li>
<li><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TroubleshootingLatency.html" rel="nofollow">Troubleshooting latency issues in Amazon DynamoDB</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">BENCHMARKS</h3><a id="user-content-benchmarks" class="anchor" aria-label="Permalink: BENCHMARKS" href="#benchmarks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A key facility of this repo is being able to run load tests, either in process against a nominated store, or via HTTP to a nominated instance of <code>samples/Web</code> ASP.NET Core host app. The following test suites are implemented at present:</p>
<ul dir="auto">
<li><code>Favorite</code> - Simulate a very enthusiastic user that favorites something once per second
<ul dir="auto">
<li>the test generates an ever-growing state that can only be managed efficiently if you apply either caching, snapshotting or both</li>
<li>NB due to being unbounded, <code>Snapshot</code> and <code>MultiSnapshot</code> etc. (even <code>RollingState</code> or <code>Custom</code>) will eventually hit the Store's limits (4MB/event for EventStore, 3MB/Item (document) for CosmosDB)</li>
</ul>
</li>
<li><code>SaveForLater</code> - Simulate a happy shopper that saves 3 items per second, and empties the Save For Later list whenever it is full (when it hits 50 items)
<ul dir="auto">
<li>Snapshotting helps a lot</li>
<li>Caching is not as essential as it is for the <code>Favorite</code> test (as long as you have either caching or snapshotting, that is)</li>
</ul>
</li>
<li><code>Todo</code> - Keeps a) getting the list b) adding an item c) clearing the list when it hits 1000 items.
<ul dir="auto">
<li>the <code>Cleared</code> event acts as a natural event to use in the <code>isOrigin</code> check. This makes snapshotting less crucial than it is, for example, in the case of the <code>Favorite</code> test</li>
<li>the <code>-s</code> parameter can be used to adjust the maximum item text length from the default (<code>100</code>, implying average length of 50)</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">BUILDING</h2><a id="user-content-building" class="anchor" aria-label="Permalink: BUILDING" href="#building"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Please note the <a href="#quickstart">QuickStart</a> is probably the best way to gain an overview - these instructions are intended to illustrated various facilities of the build script for people making changes.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">build and run</h3><a id="user-content-build-and-run" class="anchor" aria-label="Permalink: build and run" href="#build-and-run"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Run, including running the tests that assume you've got a local EventStore and pointers to a CosmosDB database and container prepared (see <a href="#provisioning">PROVISIONING</a>):</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./build.ps1"><pre class="notranslate"><code>./build.ps1
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">build, skipping tests that require a Store instance</h3><a id="user-content-build-skipping-tests-that-require-a-store-instance" class="anchor" aria-label="Permalink: build, skipping tests that require a Store instance" href="#build-skipping-tests-that-require-a-store-instance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./build -s"><pre class="notranslate"><code>./build -s
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">build, skipping all tests</h3><a id="user-content-build-skipping-all-tests" class="anchor" aria-label="Permalink: build, skipping all tests" href="#build-skipping-all-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="dotnet pack build.proj"><pre class="notranslate"><code>dotnet pack build.proj
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">build, skip EventStore tests</h3><a id="user-content-build-skip-eventstore-tests" class="anchor" aria-label="Permalink: build, skip EventStore tests" href="#build-skip-eventstore-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./build -se"><pre class="notranslate"><code>./build -se
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">build, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB</h3><a id="user-content-build-skip-eventstore-tests-skip-auto-provisioning--de-provisioning-cosmosdb" class="anchor" aria-label="Permalink: build, skip EventStore tests, skip auto-provisioning / de-provisioning CosmosDB" href="#build-skip-eventstore-tests-skip-auto-provisioning--de-provisioning-cosmosdb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./build -se -scp"><pre class="notranslate"><code>./build -se -scp
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Run EventStore benchmark on .NET Core (when provisioned)</h3><a id="user-content-run-eventstore-benchmark-on-net-core-when-provisioned" class="anchor" aria-label="Permalink: Run EventStore benchmark on .NET Core (when provisioned)" href="#run-eventstore-benchmark-on-net-core-when-provisioned"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">At present, .NET Core seems to show comparable perf under normal load, but becomes very unpredictable under load. The following benchmark should produce pretty consistent levels of reads and writes, and can be used as a baseline for investigation:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&amp; dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 1000 -d 5 -C -U es"><pre class="notranslate"><code>&amp; dotnet run -c Release --project tools/Equinox.Tool -- loadtest -t saveforlater -f 1000 -d 5 -C -U es
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">run Web benchmark</h3><a id="user-content-run-web-benchmark" class="anchor" aria-label="Permalink: run Web benchmark" href="#run-web-benchmark"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The CLI can drive the Store and TodoBackend samples in the <code>samples/Web</code> ASP.NET Core app. Doing so requires starting a web process with an appropriate store (EventStore in this example, but can be <code>memory</code> / omitted etc. as in the other examples)</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">in Window 1</h4><a id="user-content-in-window-1" class="anchor" aria-label="Permalink: in Window 1" href="#in-window-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&amp; dotnet run -c Release --project samples/Web -- -C -U es"><pre class="notranslate"><code>&amp; dotnet run -c Release --project samples/Web -- -C -U es
</code></pre></div>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">in Window 2</h4><a id="user-content-in-window-2" class="anchor" aria-label="Permalink: in Window 2" href="#in-window-2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="dotnet tool install -g Equinox.Tool --prerelease # only once
eqx loadtest -t saveforlater -f 200 web"><pre class="notranslate"><code>dotnet tool install -g Equinox.Tool --prerelease # only once
eqx loadtest -t saveforlater -f 200 web
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">run CosmosDB benchmark (when provisioned)</h3><a id="user-content-run-cosmosdb-benchmark-when-provisioned" class="anchor" aria-label="Permalink: run CosmosDB benchmark (when provisioned)" href="#run-cosmosdb-benchmark-when-provisioned"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="dotnet run --project tools/Equinox.Tool -- loadtest `
  cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER"><pre class="notranslate"><code>dotnet run --project tools/Equinox.Tool -- loadtest `
  cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER
</code></pre></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">PROVISIONING</h2><a id="user-content-provisioning" class="anchor" aria-label="Permalink: PROVISIONING" href="#provisioning"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Provisioning EventStore (when not using -s or -se)</h3><a id="user-content-provisioning-eventstore-when-not-using--s-or--se" class="anchor" aria-label="Permalink: Provisioning EventStore (when not using -s or -se)" href="#provisioning-eventstore-when-not-using--s-or--se"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There's a <code>docker-compose.yml</code> file in the root, so installing <code>docker-compose</code> and then running <code>docker-compose up</code> rigs a local 3-node cluster, which is assumed to be configured for <code>Equinox.EventStore.Integration</code> and <code>Equinox.EventStoreDb.Integration</code></p>
<p dir="auto">For more complete instructions, follow <a href="https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose" rel="nofollow">https://developers.eventstore.com/server/v21.10/installation.html#use-docker-compose</a></p>
<p dir="auto"><a name="user-content-provisioning-cosmosdb"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Provisioning CosmosDB (when not using build.ps1 -sc to skip verification)</h3><a id="user-content-provisioning-cosmosdb-when-not-using-buildps1--sc-to-skip-verification" class="anchor" aria-label="Permalink: Provisioning CosmosDB (when not using build.ps1 -sc to skip verification)" href="#provisioning-cosmosdb-when-not-using-buildps1--sc-to-skip-verification"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Using Azure Cosmos DB Service</h4><a id="user-content-using-azure-cosmos-db-service" class="anchor" aria-label="Permalink: Using Azure Cosmos DB Service" href="#using-azure-cosmos-db-service"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="dotnet run --project tools/Equinox.Tool -- init -ru 400 `
    cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER
# Same for a Archive Container for integration testing of the archive store fallback mechanism
$env:EQUINOX_COSMOS_CONTAINER_ARCHIVE=&quot;equinox-test-archive&quot;
dotnet run --project tools/Equinox.Tool -- init -ru 400 `
    cosmos -s $env:EQUINOX_COSMOS_CONNECTION -d $env:EQUINOX_COSMOS_DATABASE -c $env:EQUINOX_COSMOS_CONTAINER_ARCHIVE"><pre>dotnet run --project tools/Equinox.Tool -- init -ru 400 <span class="pl-s"><span class="pl-pds">`</span></span>
<span class="pl-s">    cosmos -s <span class="pl-smi">$env</span>:EQUINOX_COSMOS_CONNECTION -d <span class="pl-smi">$env</span>:EQUINOX_COSMOS_DATABASE -c <span class="pl-smi">$env</span>:EQUINOX_COSMOS_CONTAINER</span>
<span class="pl-s"><span class="pl-c"><span class="pl-c">#</span> Same for a Archive Container for integration testing of the archive store fallback mechanism</span></span>
<span class="pl-s"><span class="pl-smi">$env</span>:EQUINOX_COSMOS_CONTAINER_ARCHIVE=<span class="pl-s"><span class="pl-pds">"</span>equinox-test-archive<span class="pl-pds">"</span></span></span>
<span class="pl-s">dotnet run --project tools/Equinox.Tool -- init -ru 400 <span class="pl-pds">`</span></span>
    cosmos -s <span class="pl-smi">$env</span>:EQUINOX_COSMOS_CONNECTION -d <span class="pl-smi">$env</span>:EQUINOX_COSMOS_DATABASE -c <span class="pl-smi">$env</span>:EQUINOX_COSMOS_CONTAINER_ARCHIVE</pre></div>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Using Cosmos Emulator on an Intel Mac</h4><a id="user-content-using-cosmos-emulator-on-an-intel-mac" class="anchor" aria-label="Permalink: Using Cosmos Emulator on an Intel Mac" href="#using-cosmos-emulator-on-an-intel-mac"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">NOTE There's <a href="https://github.com/Azure/azure-cosmos-db-emulator-docker/issues/54#issuecomment-1399067365" data-hovercard-type="issue" data-hovercard-url="/Azure/azure-cosmos-db-emulator-docker/issues/54/hovercard">no Apple Silicon emulator available as yet</a>.</p>
<p dir="auto">NOTE Have not tested with the Windows Emulator, but it should work with analogous steps.</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="docker compose up equinox-cosmos -d
bash docker-compose-cosmos.sh"><pre>docker compose up equinox-cosmos -d
bash docker-compose-cosmos.sh</pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Provisioning SqlStreamStore</h3><a id="user-content-provisioning-sqlstreamstore" class="anchor" aria-label="Permalink: Provisioning SqlStreamStore" href="#provisioning-sqlstreamstore"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There's a <code>docker-compose.yml</code> file in the root, so installing <code>docker-compose</code> and then running <code>docker-compose up</code> rigs local <code>equinox-mssql</code>, <code>equinox-mysql</code> and <code>equinox-postgres</code> servers and databases at known ports. <em>NOTE The <code>Equinox.SqlStreamStore.*.Integration</code> suites currently assume this is in place and will otherwise fail</em>.</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">DEPROVISIONING</h2><a id="user-content-deprovisioning" class="anchor" aria-label="Permalink: DEPROVISIONING" href="#deprovisioning"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Deprovisioning (aka nuking) EventStore data resulting from tests to reset baseline</h3><a id="user-content-deprovisioning-aka-nuking-eventstore-data-resulting-from-tests-to-reset-baseline" class="anchor" aria-label="Permalink: Deprovisioning (aka nuking) EventStore data resulting from tests to reset baseline" href="#deprovisioning-aka-nuking-eventstore-data-resulting-from-tests-to-reset-baseline"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">While EventStore rarely shows any negative effects from repeated load test runs, it can be useful for various reasons to drop all the data generated by the load tests by casting it to the winds:-</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# requires admin privilege
rm $env:ProgramData\chocolatey\lib\eventstore-oss\tools\data"><pre class="notranslate"><code># requires admin privilege
rm $env:ProgramData\chocolatey\lib\eventstore-oss\tools\data
</code></pre></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Deprovisioning CosmosDB</h3><a id="user-content-deprovisioning-cosmosdb" class="anchor" aria-label="Permalink: Deprovisioning CosmosDB" href="#deprovisioning-cosmosdb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <a href="#provisioning">provisioning</a> step spins up RUs in CosmosDB for the Container, which will keep draining your account until you reach a spending limit (if you're lucky!). <em>When finished running any test, it's critical to drop the RU allocations back down again via some mechanism (either delete the container or reset the RU provision down to the lowest possible value)</em>.</p>
<ul dir="auto">
<li>Kill the container and/or database</li>
<li>Use the portal to change the allocation</li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">RELEASING</h1><a id="user-content-releasing" class="anchor" aria-label="Permalink: RELEASING" href="#releasing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">*The perfect is the enemy of the good; <a href="https://github.com/jet/equinox/issues/80" data-hovercard-type="issue" data-hovercard-url="/jet/equinox/issues/80/hovercard">all this should of course be automated, but the elephant will be consumed in small bites rather than waiting till someone does it perfectly</a>. This documents the actual release checklist as it stands right now. Any small helping bites much appreciated  *</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Tagging releases</h2><a id="user-content-tagging-releases" class="anchor" aria-label="Permalink: Tagging releases" href="#tagging-releases"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This repo uses <a href="https://github.com/adamralph/minver">MinVer</a>; <a href="https://github.com/adamralph/minver#how-it-works">see here</a> for more information on how it works.</p>
<p dir="auto">All non-alpha releases derive from tagged commits on <code>master</code> or <code>vX</code> branch. The tag defines the nuget package id etc. that the release will bear (<code>dotnet pack</code> uses the <code>MinVer</code> package to grab the value from the commit)</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">Checklist</h2><a id="user-content-checklist" class="anchor" aria-label="Permalink: Checklist" href="#checklist"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto"> the Azure Pipelines script does not run the integration tests, so these need to be run manually via the following steps:</p>
<ul dir="auto">
<li><a href="#provisioning">Provision</a>:
<ul dir="auto">
<li>Set environment variables x 4 for a CosmosDB database and container (you might need to <code>eqx init</code>)</li>
<li>Add a <code>EQUINOX_COSMOS_CONTAINER_ARCHIVE</code> environment variable referencing a separate (<code>eqx init</code> initialized) CosmosDB Container that will be used to house fallback events in the <a href="https://github.com/jet/equinox/pull/247" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/247/hovercard">Fallback mechanism's tests</a></li>
<li><code>docker-compose up</code> to start
<ul dir="auto">
<li>3 servers for the <code>SqlStreamStore.*.Integration</code> test suites (NOTE: manual step for MS SQL)</li>
<li>3 <code>EventStoreDB</code> cluster nodes</li>
<li>DynamoDB local and admin images and (<code>dynamodb-local</code>, <code>dynamodb-admin</code>)</li>
</ul>
</li>
</ul>
</li>
<li>Run <code>./build.ps1</code> in PowerShell (or PowerShell Core on MacOS via <code>brew install cask pwsh</code>)</li>
</ul>
</li>
<li>
<p dir="auto"><a href="/jet/equinox/blob/master/CHANGELOG.md">CHANGELOG</a> should be up to date</p>
</li>
<li>
<p dir="auto">commit should be tagged (remember to do <code>git push --tags</code> when pushing)</p>
</li>
<li>
<p dir="auto">after the push has resulted in a successful build, click through from the commit on github thru to the Azure Pipelines build state and verify <em>all</em> artifacts bear the correct version suffix (if the tags were not pushed alongside the commit, they can be wrong). Then, and only then, do the Release (which will upload to nuget.org using a nuget API key that has upload permissions for the packages)</p>
</li>
<li>
<p dir="auto"><em>When adding new packages</em>: For safety, the NuGet API Key used by the Azure DevOps Releases step can only upload new versions of existing packages. As a result, the first version of any new package needs to be manually uploaded out of band. (then invite jet.com to become owner so subsequent releases can do an automated upload [after the request has been (manually) accepted])</p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">FAQ</h2><a id="user-content-faq" class="anchor" aria-label="Permalink: FAQ" href="#faq"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">What <em>is</em> Equinox?</h3><a id="user-content-what-is-equinox" class="anchor" aria-label="Permalink: What is Equinox?" href="#what-is-equinox"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">OK, I've read the README and the tagline. I still don't know what it does! Really, what's the TL;DR ?</p>
<ul dir="auto">
<li>supports storing events in <a href="https://eventstore.org" rel="nofollow">EventStore</a>, including working with existing data you may have (that's where it got its start)</li>
<li>includes a proprietary optimized Store implementation that only needs an empty Azure CosmosDB Account or Amazon DynamoDB Table to get going</li>
<li>provides all the necessary infrastructure to build idempotent synchronous command processing against all of the stores; your Domain code intentionally doesn't need to reference <em>any</em> Equinox modules whatsoever (although for smaller systems, you'll often group <code>Events</code>+<code>Fold</code>+<code>interpret</code>/<code>decide</code>+<code>Service</code> in a single <code>module</code>, which implies a reference to <a href="/jet/equinox/blob/master/src/Equinox">the core <code>Equinox</code> package</a>).</li>
<li>following on from the previous point: you just write the unit tests without any Equinox-specific hoops to jump through; this really works very well indeed, assuming you're writing the domain code and the tests in F#. If you're working in a more verbose language, you may end up building some test helpers. We don't envisage Equinox mandating a specific pattern on the unit testing side (consistent naming such as <code>Events.Event</code>+<code>evolve</code>+<code>fold</code>+<code>Command</code>+<code>interpret</code>/<code>decide</code> can help though).</li>
<li>it helps with integration testing decision processes by
<ul dir="auto">
<li>staying out of your way as much as possible</li>
<li>providing an in-memory store that implements the same interface as the concrete stores (CosmosDB, EventStore, etc.)  stores do</li>
</ul>
</li>
<li>There is a projection story, but it's not baked in - any 3 proper architects can come up with at least 3 wrong and 3 right ways of running those:-
<ul dir="auto">
<li>For EventStore, you can use its' projections facilities directly. There's also a <code>Propulsion.EventStore</code> that serves the needs of <code>dotnet new proSync</code>..</li>
<li>for CosmosDB, you use the <code>Propulsion.CosmosStore</code> libraries to consume the CosmosDB ChangeFeed using the <code>Microsoft.Azure.Cosmos</code> library's change feed support (and, optionally, project to/consume from Kafka) using the sample app templates (<code>dotnet new proProjector</code>).</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Should I use Equinox to learn event sourcing ?</h3><a id="user-content-should-i-use-equinox-to-learn-event-sourcing-" class="anchor" aria-label="Permalink: Should I use Equinox to learn event sourcing ?" href="#should-i-use-equinox-to-learn-event-sourcing-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You <em>could</em>. However the Equinox codebase itself is not designed to be a tutorial; it's extracted from production systems and optimized; there is no pedagogical mission. <a href="https://github.com/thinkbeforecoding/FsUno.Prod">FsUno.Prod</a> on the other hand has this specific intention, walking though that is highly recommended. Also <a href="https://eventstore.org/" rel="nofollow">EventStore</a>, being a widely implemented and well-respected open source system has some excellent learning materials and documentation with a wide usage community (search for <code>DDD-CQRS-ES</code> Discord).</p>
<p dir="auto">Having said that, we'd love to see a set of tutorials written by people looking from different angles, and over time will likely do one too ... there's no reason why the answer to this question can't become "<strong>of course!</strong>"</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Can I use it for really big projects?</h3><a id="user-content-can-i-use-it-for-really-big-projects" class="anchor" aria-label="Permalink: Can I use it for really big projects?" href="#can-i-use-it-for-really-big-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can. Folks in Jet do; we also have systems where we have no plans to use it, or anything like it. That's OK; there are systems where having precise control over one's data access is critical. And (shush, don't tell anyone!) some find writing this sort of infrastructure to be a very fun design challenge that beats doing domain modelling any day...</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Can I use it for really small projects and tiny microservices?</h3><a id="user-content-can-i-use-it-for-really-small-projects-and-tiny-microservices" class="anchor" aria-label="Permalink: Can I use it for really small projects and tiny microservices?" href="#can-i-use-it-for-really-small-projects-and-tiny-microservices"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can. Folks in Jet do; but we also have systems where we have no plans to use it, or anything like it as it would be overkill even for people familiar with Equinox.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">OK, but <em>should</em> I use Equinox for a small project ?</h3><a id="user-content-ok-but-should-i-use-equinox-for-a-small-project-" class="anchor" aria-label="Permalink: OK, but should I use Equinox for a small project ?" href="#ok-but-should-i-use-equinox-for-a-small-project-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You'll learn a lot from building your own equivalent wrapping layer. Given the array of concerns Equinox is trying to address, there's no doubt that a simpler solution is always possible if you constrain the requirements to specifics of your context with regard to a) scale b) complexity of domain c) degree to which you use or are likely to use &gt;1 data store. You can and should feel free to grab slabs of Equinox's implementation and whack it into an <code>Infrastructure.fs</code> in your project too (note you should adhere to the rules of the <a href="/jet/equinox/blob/master/LICENSE">Apache 2 license</a>). If you find there's a particular piece you'd really like isolated or callable as a component and it's causing you pain as <a href="https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming)" rel="nofollow">you're using it over and over in ~ &gt;= 3 projects</a>, please raise an Issue though !</p>
<p dir="auto">Having said that, getting good logging, some integration tests and getting lots of off-by-one errors off your plate is nice; the point of <a href="https://github.com/ddd-cqrs-es/community">DDD-CQRS-ES</a> is to get beyond toy examples to the good stuff - Domain Modelling on your actual domain.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">What client languages are supported ?</h3><a id="user-content-what-client-languages-are-supported-" class="anchor" aria-label="Permalink: What client languages are supported ?" href="#what-client-languages-are-supported-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The main language in mind for consumption is of course F# - many would say that F# and event sourcing are a dream pairing; little direct effort has been expended polishing it to be comfortable to consume from other .NET languages, the <code>dotnet new eqxwebcs</code> template represents the current state. In Equinox V4, the <code>DeciderCore</code> interface offers an interface that uses C#-friendly <code>Task</code> and <code>Func</code> types (compared to <code>Decider</code>, which uses <code>async</code> and curried function signatures to provide an idiomatic F# experience, which is possible, but cumbersome to use from C#)</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto">You say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?</h2><a id="user-content-you-say-i-can-use-volatile-memory-for-integration-tests-could-this-also-be-used-for-learning-how-to-get-started-building-event-sourcing-programs-with-equinox" class="anchor" aria-label="Permalink: You say I can use volatile memory for integration tests, could this also be used for learning how to get started building event sourcing programs with equinox?" href="#you-say-i-can-use-volatile-memory-for-integration-tests-could-this-also-be-used-for-learning-how-to-get-started-building-event-sourcing-programs-with-equinox"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The <code>MemoryStore</code> is intended to implement the complete semantics of a durable store (aside from caching). The main benefit of using it is that any tests using it have zero environment dependencies. In some cases this can be very useful for demo apps or generators (rather than assuming a specific store at a specific endpoint and/or credentials, there is something to point at which does not require configuration or assumptions.). The single problem of course is that it's all in-process; the minute you stop the host, the items on your list will of course disappear. In general, EventStore is also an attractive option for prototyping; the open source edition is trivial to install and has a Web UI that lets you navigate events being produced etc.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">OK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?</h3><a id="user-content-ok-so-it-supports-cosmosdb-dynamodb-eventstoredb-messagedb-and-sqlstreamstore-and-might-even-support-more-in-the-future-i-really-dont-intend-to-shift-datastores-period-why-would-i-take-on-this-complexity-only-to-get-the-lowest-common-denominator-" class="anchor" aria-label="Permalink: OK, so it supports CosmosDB, DynamoDB, EventStoreDB, MessageDB and SqlStreamStore and might even support more in the future. I really don't intend to shift datastores. Period. Why would I take on this complexity only to get the lowest common denominator ?" href="#ok-so-it-supports-cosmosdb-dynamodb-eventstoredb-messagedb-and-sqlstreamstore-and-might-even-support-more-in-the-future-i-really-dont-intend-to-shift-datastores-period-why-would-i-take-on-this-complexity-only-to-get-the-lowest-common-denominator-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Yes, you have decisions to make; Equinox is not a panacea - there is no one size fits all. While the philosophy of Equinox is a) provide an opinionated store-neutral <a href="/jet/equinox/blob/master/DOCUMENTATION.md#Programming-Model">Programming Model</a> with a good pull toward a big <a href="https://blog.codinghorror.com/falling-into-the-pit-of-success/" rel="nofollow">pit of success</a>, while not closing the door to using store-specific features where relevant, having a dedicated interaction is always going to afford you more power and control.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Is there a guide to building the simplest possible hello world "counter" sample, that simply counts with an add and a subtract event?</h3><a id="user-content-is-there-a-guide-to-building-the-simplest-possible-hello-world-counter-sample-that-simply-counts-with-an-add-and-a-subtract-event" class="anchor" aria-label="Permalink: Is there a guide to building the simplest possible hello world &quot;counter&quot; sample, that simply counts with an add and a subtract event?" href="#is-there-a-guide-to-building-the-simplest-possible-hello-world-counter-sample-that-simply-counts-with-an-add-and-a-subtract-event"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Yes; <a href="https://github.com/jet/equinox/blob/master/samples/Tutorial/Counter.fsx"><code>Counter.fsx</code> in th Tutorial project in this repo</a>. It may also be worth starting with the <a href="/jet/equinox/blob/master/DOCUMENTATION.md#api">API Guide in DOCUMENTATION.md</a>. An alternate way is to look at the <code>Todo.fs</code> files emitted by <a href="https://github.com/jet/dotnet-templates"><code>dotnet new equinoxweb</code></a> in the <a href="#quickstart">QuickStart</a>.</p>
<p dir="auto"><a name="user-content-why-snapshots-in-stream"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Why do the snapshots go in the same stream in <code>Equinox.EventStore</code> and <code>Equinox.SqlStreamStore</code> ?  <a href="https://github.com/chrisjhoare">@chrisjhoare</a></h3><a id="user-content-why-do-the-snapshots-go-in-the-same-stream-in-equinoxeventstore-and-equinoxsqlstreamstore--pray-chrisjhoare" class="anchor" aria-label="Permalink: Why do the snapshots go in the same stream in Equinox.EventStore and Equinox.SqlStreamStore ? :pray: @chrisjhoare" href="#why-do-the-snapshots-go-in-the-same-stream-in-equinoxeventstore-and-equinoxsqlstreamstore--pray-chrisjhoare"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I've been looking through the snapshotting code recently. Can see the snapshot events go in the same stream as regular events. Presume this is to save on operations to read/write the streams? and a bit less overhead maintaining two serializers? Are there any other advantages? I quite like it this way but think i saw the <a href="https://eventstore.org" rel="nofollow">geteventstore</a> advice was separate streams so just interested in any other reasoning behind it</p>
<p dir="auto">The reason GES recommends against is that the entire db is built on writing stuff once in an append only manner (which is a great design from most aspects). This means your choices are:</p>
<ul dir="auto">
<li>embed snapshots in the same stream, but do that sparingly, as you can't delete them (implemented in Equinox as <code>AccessStrategy.RollingSnapshots</code>)</li>
<li>keep snapshots elsewhere (typically in a sister stream with the max items set to 1
<ul dir="auto">
<li>which the EventStoreDB background scavenging process will tidy up (but it ain't free)</li>
<li>which is a separate roundtrip (which is not the end of the world in GES but is still another thing to go wrong)</li>
<li>which can't be written as a transaction, i.e. you'd need to write the snapshot after (and only after) a successful write (and worry about inconsistency)
That general advice/trade-offs on snapshotting applies to most systems.</li>
</ul>
</li>
</ul>
<p dir="auto">The answer as to why that strategy is available in in <code>Equinox.EventStore</code> is for based on use cases (the second strategy was actually implemented in a bespoke manner initially by <a href="https://github.com/eiriktsarpalis">@eiriktsarpalis</a>:</p>
<ul dir="auto">
<li>streams like <code>Favorites</code> where every event is small (add sku, drop sku), and the snapshot is pretty compact (list of skus) (but note it is ever growing)</li>
<li>streams like <code>SavedForLater</code> items where the state rolls over regularly - even after 5 years and 1000s of items moving in and out, there's a constraint of max 50 items which makes a snapshot pretty light. (The other trick is that a <code>Cleared</code> event counts as a valid starting state for the fold - and we don't write a snapshot if we have one of those)</li>
</ul>
<p dir="auto">The big win is latency in querying contexts - given that access strategy, you're guaranteed to be able to produce the full state of the aggregate with a single roundtrip (if max batch size is 200, the snapshots are written every 200 items so reading backward 200 guarantees a snapshot will be included)</p>
<p dir="auto">The secondary benefit is of course that you have an absolute guarantee there will always be a snapshot, and if a given write succeeds, there will definitely be a snapshot in the <code>maxBatchSize</code> window (but it still copes if there isn't - i.e. you can add snapshotting after the fact)</p>
<p dir="auto"><code>Equinox.SqlStreamStore</code> implements this scheme too - it's easier to do things like e.g. replace the bodies of snapshot events with <code>nulls</code> as a maintenance task in that instance</p>
<p dir="auto">Initially, <code>Equinox.CosmosStore</code> implemented the same strategy as the <code>Equinox.EventStore</code> (it started as a cut and paste of the it). However the present implementation takes advantage of the fact that in a Document Store, you can ... update documents - thus, snapshots (termed unfolds) are saved in a custom field (it's an array) in the Tip document - every update includes an updated snapshot (which is zipped to save read and write costs) that overwrites the unfolds entirely. You're currently always guaranteed that the snapshots are in sync with the latest event by virtue of how the stored proc writes. The DynamoDB impl follows the same strategy.</p>
<p dir="auto">I expand (too much!) on some more of the considerations in <a href="https://github.com/jet/equinox/blob/master/DOCUMENTATION.md">https://github.com/jet/equinox/blob/master/DOCUMENTATION.md</a></p>
<p dir="auto">The other thing that should be pointed out is the caching can typically cover a lot of perf stuff as long as stream lengths stay sane - Snapshotting (esp polluting the stream with snapshot events should definitely be toward the bottom of your list of tactics for managing a stream efficiently given long streams are typically a design smell)</p>
<p dir="auto">NOTE The newer <code>Equinox.MessageDb</code> store binding implements snapshotting as separated events in a separate category.</p>
<p dir="auto"><a name="user-content-changing-access-strategy"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Changing Access / Representation strategies in <code>Equinox.CosmosStore</code> - what happens?</h3><a id="user-content-changing-access--representation-strategies-in-equinoxcosmosstore---what-happens" class="anchor" aria-label="Permalink: Changing Access / Representation strategies in Equinox.CosmosStore - what happens?" href="#changing-access--representation-strategies-in-equinoxcosmosstore---what-happens"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">Does Equinox adapt the stream if we start writing with <code>Equinox.CosmosStore.AccessStrategy.RollingState</code> and change to <code>Snapshotted</code> for instance? It could take the last RollingState writing and make the first snapshot ?</p>
</blockquote>
<blockquote>
<p dir="auto">what about the opposite? It deletes all events and start writing <code>RollingState</code> ?</p>
</blockquote>
<p dir="auto">TL;DR yes and no respectively</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Some context</h4><a id="user-content-some-context" class="anchor" aria-label="Permalink: Some context" href="#some-context"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Firstly, it's recommended to read the <a href="/jet/equinox/blob/master/DOCUMENTATION.md#access-strategies">documentation section on Access Strategies</a></p>
<p dir="auto">General rules:</p>
<ul dir="auto">
<li>Events are the atoms from which state is built, they live forever in immutable Batch documents.</li>
<li>There is a special Batch with <code>id = "-1"</code>, entitled the <em>Tip</em>.</li>
<li>Snapshots/unfolds live in the <code>.u</code> array in the Tip doc.
loading/build of state is composed of</li>
<li>regardless of what happens, Events are <em>never</em> destroyed, updated or touched in any way, ever. Having said that, if your Event DU does not match them, they're also as good as not there from the point of view of how State is established.</li>
<li>Reads always get the <code>Tip</code> first (one exception: <code>Unoptimized</code> mode skips reading the <code>Tip</code> as, by definition, you're not using snapshots/unfolds/any tricks), Writes always touch the <code>Tip</code> (yes, even in <code>Unoptimized</code> mode; there's no such thing as a stream that has ever been written to that does not have a <code>Tip</code>).</li>
<li>In the current implementation, the calling code in the server figures out everything that's going to go in the <del>snapshots</del> unfolds list if this sync is successful.</li>
</ul>
<p dir="auto">The high level skeleton of the loading in a given access strategy is:
a) load and decode unfolds from tip (followed by events, if and only if necessary)
b) offer the events to an <code>isOrigin</code> function to allow us to stop when we've got a start point (a Reset Event, a relevant snapshot, or, failing that, the start of the stream)</p>
<p dir="auto">It may be helpful to look at <a href="https://github.com/jet/equinox/blob/master/src/Equinox.CosmosStore/CosmosStore.fs#L1295">how an <code>AccessStrategy</code> is mapped to <code>isOrigin</code>, <code>toSnapshot</code> and <code>transmute</code> lambdas internally</a></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Aaand answering the question</h4><a id="user-content-aaand-answering-the-question" class="anchor" aria-label="Permalink: Aaand answering the question" href="#aaand-answering-the-question"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Whenever a State is being built, it always loads <code>Tip</code> first and shows any <del>events</del> <del>snapshots</del> <em>unfolds</em> in there...</p>
<p dir="auto">If <code>isOrigin</code> says no to those and/or the <code>EventType</code>s of those unfolds are not in the union / event type to which the codec is mapping, the next thing is a query backwards of the Batches of events, in order.</p>
<p dir="auto">All those get pushed onto a stack until we either hit the start, or <code>isOrigin</code> says - yes, we can start from here (at which point all the decoded events are then passed (in forward order) to the <code>fold</code> to make the <code>'state</code>).</p>
<p dir="auto">So, if you are doing <code>RollingState</code> or any other mode, there are still events and unfolds; and they all have <code>EventType</code>s - there are just some standard combos of steps that happen.</p>
<p dir="auto">If the <code>EventType</code> of the Event or Unfold matches, the <code>fold</code>/<code>evolve</code> will see them and build <code>'state</code> from that.</p>
<p dir="auto">Then, whenever you emit events from a <code>decide</code> or <code>interpret</code>, the <code>AccessStrategy</code> will define what happens next; a mix of:</p>
<ul dir="auto">
<li>write actual events (not if <code>RollingState</code>)</li>
<li>write updated unfolds/snapshots</li>
<li>remove or adjust events before they get passed down to the <code>sync</code> stored procedure (<code>Custom</code>, <code>RollingState</code>, <code>LatestKnownEvent</code> modes)</li>
</ul>
<p dir="auto">Ouch, not looking forward to reading all that logic :frown: ? <a href="https://github.com/jet/equinox/blob/master/src/Equinox.CosmosStore/CosmosStore.fs#1109">Have a read, it's really not that </a>.</p>
<p dir="auto"><a name="user-content-how-is-expectedversion-managed"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">Help me understand how the <code>expectedVersion</code> is used with EventStoreDB - it seems very confusing  <a href="https://github.com/dharmaturtle">@dharmaturtle</a></h3><a id="user-content-help-me-understand-how-the-expectedversion-is-used-with-eventstoredb---it-seems-very-confusing-pray-dharmaturtle" class="anchor" aria-label="Permalink: Help me understand how the expectedVersion is used with EventStoreDB - it seems very confusing :pray: @dharmaturtle" href="#help-me-understand-how-the-expectedversion-is-used-with-eventstoredb---it-seems-very-confusing-pray-dharmaturtle"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">I'm having some trouble understanding how Equinox+ESDB handles "expected version". Most of the examples use <code>Equinox.Decider.Transact</code> which is storage agnostic and doesn't offer any obvious concurrency checking. In <code>Equinox.EventStore.Context</code>, there's a <code>Sync</code> that takes a <code>Token</code> which holds a <code>streamVersion</code>. Should I be be using that instead of <code>Transact</code>?</p>
</blockquote>
<p dir="auto">The bulk of the implementation is in <a href="https://github.com/jet/equinox/blob/master/src/Equinox/Stream.fs#L32"><code>Equinox/Stream.fs</code></a>, see the <code>let run</code> function.</p>
<p dir="auto">There are <a href="https://github.com/jet/equinox/blob/master/DOCUMENTATION.md#code-diagrams-for-equinoxeventstore--equinoxsqlstreamstore">sequence diagrams in Documentation MD</a> but I'll summarize here:</p>
<ul dir="auto">
<li>As you suggest, <code>Transact</code> is definitely the API you want to be be using</li>
<li>The assumption in Equinox is that you <em>always</em> want to do a version check - if you don't, you can't process idempotently, why incur the cost of an ordered append only store? (there is a lower <code>Sync</code> operation which does a blind write to the store in <code>Equinox.CosmosStore</code> which allows you to do a non-version-checked write in that context (its implemented and exposed as the stored procedure needs to handle the concept). For EventStoreDB, if you have such a special case, you can use its APIs directly)</li>
<li>The inner API with the <code>Sync</code> is the 'store interface' which represents the actual processing needed to do a version-checked write (The <code>Sync</code> one does not handle retries and is only used for the last attempt, when there are no subsequent retries)</li>
<li>The main reason for the separation is that no ephemeral state is held by Equinox in anything like e.g. Unit Of Work during the course of a <code>decide</code> function being invoked - the <code>(token,state)</code> tuple represents all the things known at the point of loading, and the <code>Sync</code> can use anything it stashed in there when it has proposed events passed to it, as the contract involves the caller resupplying that context.</li>
<li>Another consideration is that its easy to introduce off by one errors when there's an expectedVersion in play, so encapsulating this is no bad thing (in addition to it being something that you don't want to be passing around in your domain logic)</li>
</ul>
<p dir="auto">But why, you might ask? the API is designed such that the token can store any kind of state relevant to the <code>Sync</code> operation.</p>
<p dir="auto">a. for SqlStreamStore and EventStore, when writing rolling snapshots, we need to retain the index of the last Rolling Snapshot that was written, if we encountered it during loading (e.g. if we read V198-100 and there was a snapshot at at V101, then we need to write a new one iff the events we are writing would make event 101 be &gt; batchSize events away, i.e. we need to always include a RollingSnapshot to maintain the "if you read the last page, it will include a rolling snapshot" guarantee)</p>
<p dir="auto">b. for CosmosDB, the <code>expectedVersion</code> can actually be an <code>expectedEtag</code> - this is how <code>AccessStrategy.RollingState</code> works - this allows one to update Unfolds without having to add an event every time just to trigger a change in the version</p>
<p dir="auto">(The second usage did not necessitate an interface change - i.e. the Token mechanism was introduced to handle the first case, and just happened to fit the second case)</p>
<blockquote>
<p dir="auto">Alternatively, I'm seeing in <code>proReactor</code> that there's a <code>decide</code> that does version checking. Is this recommended? <a href="https://github.com/jet/dotnet-templates/blob/3329510601450ab77bcc40df7a407c5f0e3c8464/propulsion-reactor/TodoSummary.fs#L30-L52">code</a></p>
</blockquote>
<p dir="auto">If you need to know the version in your actual handler, QueryEx and other such APIs alongside Transact expose it (e.g. if you want to include a version to accompany a directly rendered piece of data). (Note that doing this - including a version in a rendering of something should not be a goto strategy - i.e. having APIs that pass around expectedVersion is not a good idea in general)</p>
<p dir="auto">The typical case for using the version in the output is to be able to publish a versioned summary on a feed, so someone else can build a version-checking idempotent Ingester..... Which brings us to:</p>
<p dir="auto">For that particular reactor, a different thing is going on though: the input value is versioned, and we don't write if the value is in date e.g. if you reset the checkpoint on the projector, it can re-run all the work idempotently:</p>
<p dir="auto">a. version 3 of something is never temporarily overwritten with V2 and then V3</p>
<p dir="auto">b. no redundant writes take place (and no expensive RU costs are incurred in Cosmos)</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">What kind of values does <code>ISyncContext.Version</code> return; i.e. what numeric value is yielded for an empty stream?  <a href="https://github.com/ragiano215">@ragiano215</a></h3><a id="user-content-what-kind-of-values-does-isynccontextversion-return-ie-what-numeric-value-is-yielded-for-an-empty-stream-pray-ragiano215" class="anchor" aria-label="Permalink: What kind of values does ISyncContext.Version return; i.e. what numeric value is yielded for an empty stream? :pray: @ragiano215" href="#what-kind-of-values-does-isynccontextversion-return-ie-what-numeric-value-is-yielded-for-an-empty-stream-pray-ragiano215"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Independent of the backing store being used, Equinox uses <code>0</code>-based versioning, i.e. the version value is equal to the number of events in the stream. Each event's <code>Index</code> is <code>0</code>-based, akin to how a .NET array is numbered:</p>
<ul dir="auto">
<li><strong><code>1</code> when the first event is written</strong></li>
<li><em><code>0</code> when there's no events</em></li>
</ul>
<blockquote>
<p dir="auto">Side note: for contrast, EventStoreDB employs a different (<code>-1</code>-based) scheme in order to have <code>-1</code>/<code>-2</code> etc represent various <code>expectedVersion</code> conditions</p>
<ul dir="auto">
<li><strong><code>0</code> when the first event is written to the stream</strong></li>
<li><em><code>-1</code> when the stream exists and is empty but has metadata defined</em></li>
<li><em><code>-2</code> when the stream doesn't exist</em></li>
</ul>
</blockquote>
<p dir="auto">Note that for <code>Equinox.CosmosStore</code> with a
<a href="https://github.com/jet/dotnet-templates/tree/master/propulsion-pruner">pruner</a>-<a href="https://github.com/jet/dotnet-templates/tree/master/propulsion-archiver">archiver</a>
pair configured, the primary store may have been stripped of events due to the operation of the pruner.
In this case, it will however retain the version of the stream in the tip document, and if that's non-<code>0</code>,
will attempt to load the archived events from the Archive store.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">What is Equinox's behavior if one does a <code>Query</code> on a 'non-existent' stream?  <a href="https://github.com/ragiano215">@ragiano215</a></h3><a id="user-content-what-is-equinoxs-behavior-if-one-does-a-query-on-a-non-existent-stream-pray-ragiano215" class="anchor" aria-label="Permalink: What is Equinox's behavior if one does a Query on a 'non-existent' stream? :pray: @ragiano215" href="#what-is-equinoxs-behavior-if-one-does-a-query-on-a-non-existent-stream-pray-ragiano215"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Example: I have an app serving a GET endpoint for a customer order, but the id supplied within the URL is for an order that hasn't yet been created.</p>
<p dir="auto">Note firstly that Equinox treats a non-existent stream as an empty stream. For the use case stated, it's first
recommended that the state is defined to represent this non-existent / uninitialized phase, e.g.: defining a DU with a
variant <code>Initial</code>, or in some way following the <a href="https://en.wikipedia.org/wiki/Null_object_pattern" rel="nofollow">Null Object Pattern</a>.
This value would thus be used as the <code>Fold.initial</code> for the Category. The app will use a <code>.Query</code>/<code>.QueryEx</code> on the relevant Decider,
and Equinox will supply the <em>initial</em> value for the <code>project</code> function to render from (as a pattern match).</p>
<blockquote>
<p dir="auto">Side note: the original question is for a read operation, but there's an interesting consideration if we are doing a <code>Transact</code>. Say,
for instance, that there's a PUT API endpoint where the code would register a fresh customer order for the customer in its order list
via the Decider's <code>Transact</code> operation. As an optimization, one can utilize the <code>AssumeEmpty</code> hint as the <code>Equinox.LoadOption</code> to
hint that it's worth operating on the assumption that the stream is empty. When the internal sync operation attempts to perform the write,
that assumption will be tested; every write is always version checked.
In the scenario where we are dealing with a rerun of an attempt to create an order (lets say the call timed out, but the processing actually
concluded successfully on another node of the API server cluster just prior to the caller giving up), the version check will determine that
the expected version is <em>not</em> <code>0</code> (as expected when a stream is <em>Empty</em>), but instead <code>1</code> (as the preceding invocation wrote one event).
In this case, the loop will then use the <code>fold</code> function from the <code>initial</code> state, folding in the single event (via the <code>evolve</code> function),
passing that state to the <code>decider</code> function, which, assuming it's implemented in an <a href="https://en.wikipedia.org/wiki/Idempotence" rel="nofollow"><em>idempotent</em></a>
manner, will indicate that there are no events to be written.</p>
</blockquote>
<p dir="auto"><a name="user-content-what-is-a-decider"></a></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">What is a Decider? How does the Equinox <code>type Decider</code> relate to Jrmie's concept of one?  <a href="https://github.com/rmaziarka">@rmaziarka</a></h3><a id="user-content-what-is-a-decider-how-does-the-equinox-type-decider-relate-to-jrmies-concept-of-one-pray-rmaziarka" class="anchor" aria-label="Permalink: What is a Decider? How does the Equinox type Decider relate to Jrmie's concept of one? :pray: @rmaziarka" href="#what-is-a-decider-how-does-the-equinox-type-decider-relate-to-jrmies-concept-of-one-pray-rmaziarka"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The best treatments of the concept of a Decider are:</p>
<ol dir="auto">
<li><a href="https://thinkbeforecoding.com/post/2021/12/17/functional-event-sourcing-decider" rel="nofollow">Jrmie's intro post</a> - it's not short, but its required reading for anyone considering event sourcing, regardless of whether you're even going to use a functional programmign language to do so.</li>
<li>There's a very thorough treatment with code walk-through and discussion in <a href="https://www.youtube.com/watch?v=kgYGMVDHQHs" rel="nofollow">this 2h45m video</a> on <a href="https://www.youtube.com/channel/UCSoUh4ikepF3LkMchruSSaQ" rel="nofollow">Event Driven Information Systems</a> with <a href="https://twitter.com/thinkb4coding" rel="nofollow">Jrmie Chassaing, @thinkb4coding</a></li>
</ol>
<p dir="auto">As teased in both, there will hopefully eventually (but hopefully not <a href="https://github.com/ylorph/The-Inevitable-Event-Centric-Book">inevitably</a>) be a book at some point too :fingers_crossed:</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">In Equinox</h4><a id="user-content-in-equinox" class="anchor" aria-label="Permalink: In Equinox" href="#in-equinox"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The Equinox <code>type Decider</code> exposes an <a href="https://github.com/jet/equinox/blob/master/src/Equinox/Decider.fs#L11-L96">API that covers the needs of making Consistent Decisions against a State derived from Events on a Stream</a>. At a high level, we have:</p>
<ul dir="auto">
<li><code>Transact*</code> functions - these run a decision function that may result in a change to the State, including management of the retry cycle when a consistency violation occurs during the syncing of the state with the backing store (See <a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control" rel="nofollow">Optmimistic Concurrency Control</a>). Some variants can also yield an outcome to the caller after the syncing to the store has taken place.</li>
<li><code>Query*</code> functions - these run a render function projecting from the State that the Decider manages (but can't mutate it or trigger changes). The concept of <a href="https://martinfowler.com/bliki/CQRS.html" rel="nofollow">CQRS</a> is a consideration here - using the Decider to read state should not be a default approach (but equally should not be considered off limits).</li>
</ul>
<blockquote>
<p dir="auto">NOTE the <code>Decider</code> itself in Equinox does not directly touch all three of the ingredients - while you pass it a <code>decide</code> function, the <code>initial</code> and <code>fold</code> functions, are  supplied to the specific store library (e.g. <code>Equinox.CosmosStore.CosmosStoreCategory</code>), as that manages the loading, snapshotting, syncing and caching of the state and events.</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">In general</h4><a id="user-content-in-general" class="anchor" aria-label="Permalink: In general" href="#in-general"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">While the concept of a Decider plays well with Event Sourcing and many different types of Stores, it's important to note that neither storage or event sourcing is a prerequisite. A lot of the value of the concept is that you can and should be able to talk about and implement one without reference to any specific store implementation (or even thinking about it ever being stored - it can also be used to manage in-memory structures such as UI trees etc). By the same token, you can decorate/proxy a Decider with loading or saving behavior (not limited to just 'copying the commands'), e.g. you might be syncing saves of changes to a backend in near-real time while the front end is reflecting changes instantaneously.</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Consistency</h4><a id="user-content-consistency" class="anchor" aria-label="Permalink: Consistency" href="#consistency"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><em>In any system, any decision (or even query) processed by a Decider should be concurrency controlled</em>.</p>
<blockquote>
<p dir="auto">NOTE: the situation might be different if working in an environment where a particular concurrency model is emphasized. E.g.: if you're running in an Actor based system, one may map a decider to an actor. With this, any impetus to change state would be forwarded to that one actor and in a serial fashion. Potentials for conflicts would be managed by a supervisor.</p>
<p dir="auto">Another example where the situation could be different is if you're building an in-memory decision system to support a game etc as Jrmie does in the talk. There's only one so that concern is side-stepped.</p>
</blockquote>
<p dir="auto"><em>When applying the concept of a Decider to event sourcing, the consistency requirement means <a href="https://domaincentric.net/blog/eventstoredb-vs-kafka" rel="nofollow">there's more to the exercise than emitting events into a thing those marketing centers on Events</a></em>. There needs to be a way in the overall processing of a decision that manages a concurrency conflict by taking the state that superseded the one you based the original decision on (the <em>origin state</em>), and re-running the decision based on the reality of that conflicting <em>actual state</em>. The resync operation that needs to take place in that instance can be managed by reloading from events, reloading from a snapshot, or by taking events since your local state and <code>fold</code>ing those Events on top of that.</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">The ingredients</h4><a id="user-content-the-ingredients" class="anchor" aria-label="Permalink: The ingredients" href="#the-ingredients"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">With Deciders in general, and Equinox in particular, the following elements are involved:</p>
<ul dir="auto">
<li>a <code>State</code> type, on which decisions can be based. This can be updated as a consequence of a decision, e.g. the item identifiers in a cart and the associated quantities</li>
<li>a <code>decide</code> function, which is presented a <code>State</code>, and returns a decision, which we use to update the State, if, and only if there is no concurrency conflict when applying them, e.g. the <code>decider</code> might validate that it's acceptable to start a process at the present time, returning the identifier of the process; if there is already one in flight, it can return the identifier of that already-started process (covered under the term idempotency further onwards)</li>
<li>an <code>initial</code> State, from which we start if there's nothing in the store, e.g. an empty list of product codes representing nothing in the cart</li>
<li>an <code>Event</code> type (think a Discriminated union). This might have cases like <code>Cleared</code>, <code>QuantityChanged</code>, <code>ItemAdded</code> (in some cases only a snapshot of the state is persisted, but in Equinox, changes are always represented in terms of the relevant Event type for a given Decider)</li>
<li>the Events are logically represented as an ordered list of events (could be an in memory array, a stream in ESDB, documents with a Tip as with <code>Equinox.CosmosStore</code> etc). In some cases e.g. <code>RollingState</code> mode, they may get folded and snapshotted when stored)</li>
<li>the State is established by <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)" rel="nofollow"><code>fold</code></a>ing the sequence of <code>Event</code>s, starting from an <code>initial</code> state. This value <a href="https://en.wikipedia.org/wiki/Persistent_data_structure" rel="nofollow">should not be mutated by the <code>fold</code> function</a>.</li>
</ul>
<p dir="auto">With the Equinox <code>type Decider</code>, the typical <code>decide</code> signature used with the <code>Transact</code> API has the following signature:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="  context -&gt; inputsAndOrCommand -&gt; 'State -&gt; Event list"><pre class="notranslate"><code>  context -&gt; inputsAndOrCommand -&gt; 'State -&gt; Event list
</code></pre></div>
<blockquote>
<p dir="auto">NOTE: There are more advanced forms that allow the <code>decide</code> function to be <code>Async</code>, inspect the State's <code>Version</code> and/or to also return a <code>'result</code>, which will be yielded to the caller driving the Decision as the return value of the <code>Transact</code> function.</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">So what kind of a thing is a Decider then?</h4><a id="user-content-so-what-kind-of-a-thing-is-a-decider-then" class="anchor" aria-label="Permalink: So what kind of a thing is a Decider then?" href="#so-what-kind-of-a-thing-is-a-decider-then"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Is it a marketing term? Jrmie's way of explaining an app?</p>
<p dir="auto">I'd present the fact that Equinox:</p>
<ul dir="auto">
<li>was initially generalised and extracted from working code using ESDB in (by most measures) a successful startup written in a mix of F# and C# by the usual mix of devs, experience levels, awareness of event sourcing patterns and language/domain backgrounds</li>
<li>for a long time only had its MemoryStore as the thing to force it to be store agnostic</li>
<li>did not fundamentally change to add idiomatic support for a Document database (CosmosDB)</li>
<li>did not change to add idiomatic support for DynamoDB</li>
<li>can and has been used at every stage in an e-commerce pipeline</li>
<li>is presently aligning pretty neatly with diverse domains without any changes/extensions, both for me and others</li>
</ul>
<p dir="auto">... as evidence for Decider being <em>a pattern language</em> (analogous to how event sourcing and many modern event sourced UI paradigms share a lot of common patterns).</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">... about the process of making <em>decisions</em></h4><a id="user-content--about-the-process-of-making-decisions" class="anchor" aria-label="Permalink: ... about the process of making decisions" href="#-about-the-process-of-making-decisions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Finally, I'd say that a key thing the Decider concept brings is a richer way of looking at event sourcing than the typical event sourcing 101 examples you might see:</p>
<ul dir="auto">
<li>de-emphasizing one way calls into the void that map commands to events without deduplicating and/or yielding a result (not saying that you shouldn't do the simplest thing -- you absolutely should)</li>
<li>de-emphasizing the notion that all projection handlers don't get more exciting than sitting there looking for <code>MyThingCreated</code> and doing an <code>INSERT</code> with a try/catch for duplicate inserts as a way to make it idempotent (and that every stream design must have a Created event because that's the magic recipe)</li>
</ul>
<p dir="auto">The missing part beyond that basic anemic stuff is where the value lies:</p>
<ul dir="auto">
<li>any interesting system <em>makes <em>decisions</em></em>:</li>
<li>a decision can yield a result alongside the events that are needed to manifest the state change</li>
<li>any decision process can and should consider <a href="https://en.wikipedia.org/wiki/Idempotence" rel="nofollow">idempotency</a> - if you initiate a process/request something, a retry can't be a special case you don't worry about. Taking correct handling of such retry and/or replay scenarios into consideration should not be an afterthought, but instead be a concern on your day to day checklist when writing a decision function. Of course idempotency can be handled in many ways
<ul dir="auto">
<li>sometimes before processing gets to the Decider - i.e. any outer layer of the processing can have semantics that cover the idempotency requirement</li>
<li>sometimes within the Decider itself (e.g. a decision can yield the unique id generated the first time the request was triggered on every subsequent invocation)</li>
<li>sometimes it can be handled externally (e.g. one might not maintain the state that would be necessary to fully deduplicate triggerings and rely on the EventStoreDB and SqlStreamStore idempotent write deduplication mechanism to elide the redundant the writes just in time)</li>
<li>A Decider can also be decorated/proxied to add idempotency. As <a href="https://github.com/thinkbeforecoding">Jrmie</a> <a href="https://github.com/jet/equinox/pull/299#discussion_r748744034" data-hovercard-type="pull_request" data-hovercard-url="/jet/equinox/pull/299/hovercard">mentioned here</a>, and in his talk, you can also naturally <em>layer idempotency on a decider. You can make a generic function
<code>D&lt;Cmd,Event,State&gt; -&gt; D&lt;(IdCmd), Event, (State(Id Set))&gt;</code> where <code>Id</code> is a command identifier. In the <code>decide</code> function it checks whether the id is in the set. In the <code>evolve</code> function, it adds the id to the set.</em></li>
</ul>
</li>
<li>it can let you drive a set of reactions in a fault-tolerant and scalable (both perf/system size, and management/separation of complexity)  manner</li>
<li>a Decider should generally be maintaining one or more invariants associated with the underlying state it represents; if there isn't some element of your system doing that, you might as well be dumping stuff in a log or mutating a CRUD model.</li>
</ul>
<p dir="auto">Quite frequently, a Decider may internally operate as a Process Manager, encapsulating a <a href="https://en.wikipedia.org/wiki/Finite-state_machine" rel="nofollow">State Machine</a>. That is to say, there will be a subset of the Deciders in a system that are providing APIs that support some overall protocol that enforces some lifecycle rules.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">With <code>Equinox.CosmosStore</code>, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as <code>Equinox.Decider.Transact</code>?  <a href="https://github.com/rmaziarka">@rmaziarka</a></h3><a id="user-content-with-equinoxcosmosstore-it-seems-it-should-be-possible-to-handle-saving-multiple-events-from-multiple-streams-as-an-atomic-transaction-as-long-as-they-share-the-same-partition-key-in-cosmos-db-however-there-doesnt-seem-to-be-any-way-to-do-that-with-apis-such-as-equinoxdecidertransact-pray-rmaziarka" class="anchor" aria-label="Permalink: With Equinox.CosmosStore, it seems it should be possible to handle saving multiple events from multiple streams as an atomic transaction, as long as they share the same partition key in Cosmos DB. However there doesn't seem to be any way to do that with APIs such as Equinox.Decider.Transact? :pray: @rmaziarka" href="#with-equinoxcosmosstore-it-seems-it-should-be-possible-to-handle-saving-multiple-events-from-multiple-streams-as-an-atomic-transaction-as-long-as-they-share-the-same-partition-key-in-cosmos-db-however-there-doesnt-seem-to-be-any-way-to-do-that-with-apis-such-as-equinoxdecidertransact-pray-rmaziarka"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">I'm asking because I had this idea which I was workshopping with a friend, that it could solve typical sync problems in typical availability domains.</p>
</blockquote>
<blockquote>
<p dir="auto">Let's assume that our domain is Bike Sharing in different cities. Users can reserve a bike, and then access it and ride.</p>
</blockquote>
<blockquote>
<p dir="auto">In our system we would have two subdomains:</p>
<ul dir="auto">
<li>Inventory - responsible for being sure that is bike (resource) is ready to be used</li>
<li>Orders - responsible for tracking information regarding reservations, orders etc</li>
</ul>
</blockquote>
<blockquote>
<p dir="auto">There could be different subdomains as Orders, that would be using Inventory under the hood - like Repairing.</p>
</blockquote>
<blockquote>
<p dir="auto">In the system we would like to a) block a particular bike for the user and b) at the same time create a reservation for them to store all important business information.</p>
</blockquote>
<blockquote>
<p dir="auto">So we use and save data to the 2 different streams of data - typical ES problem.</p>
</blockquote>
<blockquote>
<p dir="auto">We could use event handers / sagas but it brings another level of complexity.</p>
</blockquote>
<blockquote>
<p dir="auto">In the case above we could assume that data inside a single city will be so small, that even with prolonged usage it won't fill the whole CosmosDB partition. So we could use it to handle saving 2 events in the same time. (My actual system is not Bike Sharing, and I'm confident of a lack of explosive growth!)</p>
</blockquote>
<blockquote>
<p dir="auto">Saving a <code>BikeBlocked</code> event would be handled in a transaction along with the <code>ReservationMade</code>. So we wouldn't end up with the situation that bike is blocked and reservation is not made or conversely.</p>
</blockquote>
<blockquote>
<p dir="auto">What do you think of this idea? Does it sound reasonable?</p>
</blockquote>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Why not keep it simple and have it one logical partition: a high level perspective</h4><a id="user-content-why-not-keep-it-simple-and-have-it-one-logical-partition-a-high-level-perspective" class="anchor" aria-label="Permalink: Why not keep it simple and have it one logical partition: a high level perspective" href="#why-not-keep-it-simple-and-have-it-one-logical-partition-a-high-level-perspective"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I'd actually attack this problem from an event modeling perspective first (Event Storming and other such things are reasonable too, but I personally found the rampup on EM to be reasonable, and it definitely forces you to traverse the right concerns. <a href="https://eventmodeling.org/posts/what-is-event-modeling" rel="nofollow">Good intro article re Event Modeling</a>.</p>
<p dir="auto">Once you cover enough scenarios of any non-CRUD system, I'd be surprised if you truly end up with a model with just 2 logical streams that you want to combine into 1 for simplicity of event storage because you are covering all the cases and can reason about the model cleanly.</p>
<p dir="auto">When you have a reasonable handle from a few passes over that (watch our for analysis paralysis, but also don't assume you can keep it simple via  and not talking to enough people who understand the whole needs of the system, aka )</p>
<p dir="auto">For any set of decisions you control in a single <em>Decider</em> you need to:</p>
<ul dir="auto">
<li>be able to establish all relevant state to back the decision making efficiently (point reads of single documents, etag-backed caching, small streams, not having to filter out things you don't need)</li>
<li>be able to write it with a concurrency check (all writers to all stuff under control of the decider are all contenting for the write capacity, i.e provisioned RUs)</li>
<li>be able to see the changes on a feed in a useful way (in order of writes, with related stuff easily accessible and no stuff you don't care about)</li>
<li>be able to write it efficiently - if you can't absorb the maximum writes needed, you need to find a way to split it out to multiple logical streams (and hence Deciders)</li>
<li>have a set of event contracts, folding logic and decision making logic that a person can read, reason about and test</li>
<li>have ways to manage evolution over time of the rules, the event schema and the inevitable need to handle scenarios you didnt envisage, or are genuinely new</li>
<li>minimize speculative just in case, well intentioned and/or future-proofing complexity - there'll be plenty challenging complexity fun without you adding to the mix</li>
<li>you don't want to have to think about anything outside a given Decider when drawing stuff on a whiteboard, looking at a dashboard, looking at metrics, writing a test unless it makes things fundamentally easier</li>
</ul>
<p dir="auto">That's a lot of things.</p>
<p dir="auto"><strong>Before we go on, consider this: you want to minimise how much stuff a single Decider does. Adding stuff into a Decider does not add complexity linearly. There is no technical low level silver bullet solution to this problem.</strong></p>
<p dir="auto">Right, strap yourself in; there's no TL;DR for this one ;)</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Preamble</h4><a id="user-content-preamble" class="anchor" aria-label="Permalink: Preamble" href="#preamble"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First, I'd refer to some good resources in this space, which describe key functions of an Event Store</p>
<ul dir="auto">
<li>Yves Lorphelin's <a href="https://github.com/ylorph/RandomThoughts/blob/master/2019.08.09_expectations_for_an_event_store.md">Expectations for an Event Store</a></li>
<li>The <a href="https://www.eventstore.com/blog/requirements-for-the-storage-of-events" rel="nofollow">Evolved Version of that, with a slightly different focus</a></li>
</ul>
<p dir="auto">Next, I'd like to call out some things that Equinox is focused on delivering, regardless of the backing store:</p>
<ul dir="auto">
<li>concurrency-controlled updates
<ul dir="auto">
<li>to a single consistency control unit (stream) at a time (underlying stores in general rarely provide support for more than that, but more importantly, a huge number of use cases in a huge number of systems have natural mappings to this without anyone having to do evil things or write thousands of lines of code)</li>
<li>no major focus on blind-writes, even if there is low level support and/or things work if you go direct and do it out of band)</li>
<li>provide a good story for managing the writing of the first event in a stream in an efficient manner</li>
</ul>
</li>
<li>have a story for providing a Change Feed
<ul dir="auto">
<li>typically via a matching Propulsion library (fully ordered for SSS and ESDB, ordered at stream level for CosmosDB and DynamoDB)</li>
</ul>
</li>
<li>have a story for caching and efficient usage of each store to the best degree possible
<ul dir="auto">
<li><code>Equinox.SqlStreamStore</code>
<ul dir="auto">
<li>caching is supported and recommended to minimise reads</li>
<li>in-stream snapshots sometimes help but there are tradeoffs</li>
</ul>
</li>
<li><code>Equinox.EventStore</code>
<ul dir="auto">
<li>caching is supported, but less important/relevant than it is with SSS as ESDB has good caching support and options</li>
<li>Equinox in-stream snapshots sometimes help but there are tradeoffs)</li>
</ul>
</li>
<li><code>Equinox.CosmosStore</code> and <code>Equinox.DynamoStore</code>
<ul dir="auto">
<li>multiple events are packed into each document (critical to avoid per-Item space and indexing overhead - limits are configurable)</li>
<li>etag-checked RollingState access mode enables allow you to achieve optimal perf and RU cost via the same API without writing an event every time</li>
</ul>
</li>
<li><code>Equinox.CosmosStore</code>
<ul dir="auto">
<li>etag-checked read caching (use without that is not recommended in general, though you absolutely will and should turn it off for some streams)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p dir="auto"><strong>The provision of the changefeed needs to be considered as a primary factor in the overall design if you're trying to build a general store - the nature of what you are seeking to provide (max latency and ordering guarantees etc) will be a major factor in designing the schema for how you manage the encoding and updating of the items in the store</strong></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Sagas?</h4><a id="user-content-sagas" class="anchor" aria-label="Permalink: Sagas?" href="#sagas"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">In the system we would like to block particular bike for the user. But at the same time create a reservation for them to store all important business information. So we use and save data to the 2 different streams of data - typical ES problem. We could use event handers / sagas but it brings another level of complexity.</p>
</blockquote>
<p dir="auto">There will always be complexity in any interesting system that should not just be a CRUD layer over a relational DB.
Taking particular solution patterns off the table from the off is definitely something you need to be careful to avoid.
As an analogy: Having lots of classes in a system can make a mess. But collapsing it all into as few as possible can result in ISP and SRP violations and actually make for a hard to navigate and grok system, despite there being less files and less lines of code (aka complexity). Coupling things can sometimes keep things Simple, but can also sometimes simply couple things.</p>
<p dir="auto">In my personal experience</p>
<ol dir="auto">
<li><a href="https://event-driven.io/en/saga_process_manager_distributed_transactions/" rel="nofollow">Sagas, PMs and related patterns and techniques</a> can be scary, and there are not many good examples out there in an event sourcing context</li>
<li>You can build a significant number of systems without ever intentionally applying any of those patterns</li>
</ol>
<p dir="auto">But, also IME:
3) They're pretty fundamental
4) They are not as hard as you think when you've done two of them
5) Proper stores enable good ways to manage them
6) They enable you to keep the overall complexity of a system down by decoupling things one might artificially couple if you're working with a toolbox where you've denied yourself a space for PMs and Sagas</p>
<p dir="auto">In other words, my YAGNI detector was on high alert for it, as it seems yours is </p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Transactional writes?</h4><a id="user-content-transactional-writes" class="anchor" aria-label="Permalink: Transactional writes?" href="#transactional-writes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<blockquote>
<p dir="auto">In the case above we could assume that data inside a single city will be so small, that even with the long usage it won't complete the whole CosmosDB partition. So we could use it to handle saving 2 events in the same time.</p>
</blockquote>
<p dir="auto">For avoidance of doubt:</p>
<ul dir="auto">
<li>being able to write two events to a single stream as an atomic action is a perfectly normal thing to do (Equinox itself, and any credible Event Store supports it).</li>
<li>being able to write to two <em>streams</em> atomically is not a commonly supported operation for Event Stores.</li>
</ul>
<p dir="auto">You're correct to identify the maximum amount of data being managed in a scope as a critical consideration when coupling stuff within a logical partition in order to be able to achieve consistency when managing updates across two set of related pieces of information.</p>
<p dir="auto">Specifically wrt CosmosDB, the following spring to mind without looking anything up:</p>
<ul dir="auto">
<li>The max amount of data in any logical partition is 20GB. I would not be shocked if it was 50GB some time soon. But it's not going to be a TB any time soon. When that's gone, you need to delete things</li>
<li>All updates in a logical partition are hitting the exact same thing on the same node of a physical partition</li>
<li>All reads are also hitting that</li>
<li>The maximum amount of RUs you can give that physical partition is 5000 RU (or is it 10000 RU?)</li>
<li>the more data you have in a single logical partition, the more pages in the indexes, the higher the RU cost for equivalent things (the amount in other logical partitions does not have this effect)</li>
<li><a href="/jet/equinox/blob/master/DOCUMENTATION.md#growth-handling-strategies">hotspots at either logical partition or physical partition levels</a></li>
<li>if you do an event per document, you are hosed</li>
<li>if you don't have an e-tag checked write or read scheme, you won't be able to load state efficiently without resorting to queries</li>
</ul>
<p dir="auto">In other words, it's looking like you're painted into a corner: you can't shard, can't scale and are asking for hotspotted partition issues. Correct, that doesn't always matter. But even if you have 10 cities, you can't afford for the two busiest ones to be hosted on the same node as that's going to be the one suffering rate limiting. Trust me, it's not even worth thinking about tricks to manage this fundamental problem (trying to influence the sharding etc is going to be real complexity you do not want to be explaining to other engineers on a whiteboard or a 5am conf call)</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">So why do all these things spring to mind ?</h4><a id="user-content-so-why-do-all-these-things-spring-to-mind-" class="anchor" aria-label="Permalink: So why do all these things spring to mind ?" href="#so-why-do-all-these-things-spring-to-mind-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>This desire comes up all the time - I've had this conversation with tens of engineers with various years of programming, years as users of document databases, years of writing event sourced systems on this topic. I don't believe many have walked away still believing there's an easy way around this either.</li>
<li>I have done lots of benchmarking (measuring latency, RUs, handling of concurrency conflicts) of pretty much every possible approach on Cosmos DB</li>
<li>I've done lots of CosmosDB specific reading on this - MS has actually got pretty good docs (most useful ones I'm aware of are linked from <a href="/jet/equinox/blob/master/DOCUMENTATION.md">DOCUMENTATION.md</a>)</li>
<li>I've read and watched lots of stuff on various DBs. Most of that can be replaced with <a href="https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321" rel="nofollow">https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321</a> and some in-date equivalent of <a href="https://martinfowler.com/books/nosql.html" rel="nofollow">https://martinfowler.com/books/nosql.html</a></li>
<li>Cosmos DB, when used with Mechanical Sympathy (read: Billing Model Sympathy) at the forefront of one's mind is absolutely a good product that can be extremely cost effective and provide excellent performance
<em>However</em>, you are pretty much guaranteed to not get that good  experience without reading, measuring and iterating (I've seen many people with much bigger brains than me prove that over and over - the bad things you hear about Cosmos DB are true too, and are not only caused by the below average drivers)</li>
</ul>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">TL;DR on Cosmos DB for storing events (but really for all usages)</h4><a id="user-content-tldr-on-cosmos-db-for-storing-events-but-really-for-all-usages" class="anchor" aria-label="Permalink: TL;DR on Cosmos DB for storing events (but really for all usages)" href="#tldr-on-cosmos-db-for-storing-events-but-really-for-all-usages"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>You can't update or the changefeed gets out of order (but there are lots of other reasons not to do updates beyond that)</li>
<li>You need to do etag-checked reads and writes or go home</li>
<li>Each Item/Document costs you about 500 bytes in headers and space in all the indexes so you need to strongly consider &gt;1 event/document</li>
<li>Queries are way more costly than point reads. It's called a Document database because the single thing it does best on this planet is read or update ONE document. Read/write cost rule of thumb is per KB, but has logarithmic properties too, i.e. 50K is not always 50x the cost of 1K</li>
<li>Keep documents on the small side. (Max doc/item size for CosmosDB is 2MB, max stored proc arg size is 1MB, 1MB induces roundtrip latency and write contention etc). DynamoDB sets max doc size at 400KB for similar reasons. ESDB allows 4MB but that's less of a problem for it.</li>
<li>Keep the combined sizes of items/documents in a logical partition as small as possible but no smaller. Cosmos DB has a hard limit of 20GB per logical partition, but in practice, the latency to read or walk that amount of content and/or documents will hit you long before that.</li>
<li>Keep documents uniform in size where possible. Consider taking a write overhead hit to preserve read efficiency or scalability. (inc considering compression)
wrt 3+4+5, Equinox.Cosmos default max doc size is 30KB. On occasion where paying a write overhead is merited, I've used/recommended 500K and 1 MB for various reasons. That's the exception more than the rule.</li>
</ul>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Why think about it and explain it at such a low level?</h4><a id="user-content-why-think-about-it-and-explain-it-at-such-a-low-level" class="anchor" aria-label="Permalink: Why think about it and explain it at such a low level?" href="#why-think-about-it-and-explain-it-at-such-a-low-level"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Why think about this problem from such a low level perspective? Why not just stick to the high level given that's equally important to get right, and if correctly will more often yield a cleanly implementable solution?</p>
<p dir="auto">Many people have a strong desire to write the least amount of code possible, and that's not unreasonable. The most critical question is going to be, does it work at all? Due to the combination of factors above, the answer is looking pretty clear. You can write the code and run it to be sure. I already have, in spike branches, and will save you the spoiler.</p>
<p dir="auto">However, the fundamental things that arise when viewing it at a low/storage design level, also have high level issues in terms of modelling the software too, and different people will understand them better from different angles</p>
<p dir="auto">I've witnessed people attempt to 'solve' the fundamental low level issues by working around reality, moving it all into a Cosmos DB Stored Procedure (Yes, you can guess the outcome). Please don't even think about that, no matter how much tech tricks you'll learn!</p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto">Conclusion</h4><a id="user-content-conclusion" class="anchor" aria-label="Permalink: Conclusion" href="#conclusion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>You know what's coming next: You don't want to merge two Deciders and 'Just' bring it all under a nice tidy transaction to avoid thinking about Process Managers and/or other techniques.</strong></p>
<p dir="auto">If you're still serious about making the time investment to write a PoC (or a real) implementation of a Store on a Document DB such as CosmosDB (and/or even writing a SQL-backed one without studying the prior art in that space intently), you can't afford <em>not</em> to invest that time in <a href="https://www.youtube.com/watch?v=kgYGMVDHQHs" rel="nofollow">watching a 2h45m video about Deciders!</a>.</p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto">OK, but you didn't answer my question, you just talked about stuff you wanted to talk about!</h3><a id="user-content-ok-but-you-didnt-answer-my-question-you-just-talked-about-stuff-you-wanted-to-talk-about" class="anchor" aria-label="Permalink: OK, but you didn't answer my question, you just talked about stuff you wanted to talk about!" href="#ok-but-you-didnt-answer-my-question-you-just-talked-about-stuff-you-wanted-to-talk-about"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Please raise a question-Issue, and we'll be delighted to either answer directly, or incorporate the question and answer here</p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">Acknowledgements</h1><a id="user-content-acknowledgements" class="anchor" aria-label="Permalink: Acknowledgements" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The diagrams in this README.md and the DOCUMENTATION.md would not and could not have happened without the hard work and assistance of at least:</p>
<ul dir="auto">
<li><a href="https://github.com/simonbrowndotje">@simonbrowndotje</a> taking the time to define and evangelize the <a href="https://c4model.com/" rel="nofollow">C4 model</a>. It's highly recommended to view <a href="https://www.youtube.com/watch?v=x2-rSnhpw0g&amp;feature=emb_logo" rel="nofollow">the talk linked from <code>c4model.com</code></a>.</li>
<li>the wonder that is <a href="https://plantuml.com/" rel="nofollow">PlantUml</a>; authoring them <a href="https://github.com/jet/equinox/tree/master/diagrams">in text</a> with <a href="https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml" rel="nofollow">the CVSCode PlantUML plugin</a> is a delight. The inline images are also presently rendered by the <a href="https://plantuml.com/server" rel="nofollow">PlantUml proxy</a></li>
<li><a href="https://github.com/skleanthous">@skleanthous</a> for making <em>and documenting</em> <a href="https://github.com/skleanthous/C4-PlantumlSkin/blob/master/README.md">C4-PlantUmlSkin</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto">FURTHER READING</h1><a id="user-content-further-reading" class="anchor" aria-label="Permalink: FURTHER READING" href="#further-reading"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">See <a href="/jet/equinox/blob/master/DOCUMENTATION.md"><code>DOCUMENTATION.md</code></a> and <a href="https://github.com/jet/propulsion/blob/master/DOCUMENTATION.md">Propulsion's <code>DOCUMENTATION.md</code></a></p>
</article></div></div></div></div></div> <!-- --> <!-- --> <script type="application/json" id="__PRIMER_DATA_:R0:__">{"resolvedServerColorMode":"day"}</script></div>
</react-partial>


      <input type="hidden" data-csrf="true" value="QD87KpYp9b5HVw1jVSw9GtzGIT2h1fNSulXbPPpMQ80yQCRsdjCkLPQgemzegaGEBF7gggycQz1rrkCch0n0UA==" />
</div>
  <div data-view-component="true" class="Layout-sidebar">      

      <div class="BorderGrid about-margin" data-pjax>
        <div class="BorderGrid-row">
          <div class="BorderGrid-cell">
            <div class="hide-sm hide-md">
  <h2 class="mb-3 h4">About</h2>

      <p class="f4 my-3">
        .NET event sourcing library with CosmosDB, DynamoDB, EventStoreDB, message-db, SqlStreamStore and integration test backends. Focused at stream level; see <a href="https://github.com/jet/propulsion" class="Link--inTextBlock">https://github.com/jet/propulsion</a> for cross-stream projections/subscriptions/reactions
      </p>
      <div class="my-3 d-flex flex-items-center">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link flex-shrink-0 mr-2">
    <path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path>
</svg>
        <span class="flex-auto min-width-0 css-truncate css-truncate-target width-fit">
          <a title="https://github.com/jet/dotnet-templates" role="link" target="_blank" rel="noopener noreferrer nofollow" class="text-bold" href="https://github.com/jet/dotnet-templates">github.com/jet/dotnet-templates</a>
        </span>
      </div>

    <h3 class="sr-only">Topics</h3>
    <div class="my-3">
        <div class="f6">
      <a href="/topics/mysql" title="Topic: mysql" data-view-component="true" class="topic-tag topic-tag-link">
  mysql
</a>
      <a href="/topics/postgres" title="Topic: postgres" data-view-component="true" class="topic-tag topic-tag-link">
  postgres
</a>
      <a href="/topics/sql-server" title="Topic: sql-server" data-view-component="true" class="topic-tag topic-tag-link">
  sql-server
</a>
      <a href="/topics/csharp" title="Topic: csharp" data-view-component="true" class="topic-tag topic-tag-link">
  csharp
</a>
      <a href="/topics/fsharp" title="Topic: fsharp" data-view-component="true" class="topic-tag topic-tag-link">
  fsharp
</a>
      <a href="/topics/dotnet" title="Topic: dotnet" data-view-component="true" class="topic-tag topic-tag-link">
  dotnet
</a>
      <a href="/topics/eventstore" title="Topic: eventstore" data-view-component="true" class="topic-tag topic-tag-link">
  eventstore
</a>
      <a href="/topics/dynamodb" title="Topic: dynamodb" data-view-component="true" class="topic-tag topic-tag-link">
  dynamodb
</a>
      <a href="/topics/event-sourcing" title="Topic: event-sourcing" data-view-component="true" class="topic-tag topic-tag-link">
  event-sourcing
</a>
      <a href="/topics/dotnet-core" title="Topic: dotnet-core" data-view-component="true" class="topic-tag topic-tag-link">
  dotnet-core
</a>
      <a href="/topics/todo-backend" title="Topic: todo-backend" data-view-component="true" class="topic-tag topic-tag-link">
  todo-backend
</a>
      <a href="/topics/sqlstreamstore" title="Topic: sqlstreamstore" data-view-component="true" class="topic-tag topic-tag-link">
  sqlstreamstore
</a>
      <a href="/topics/cosmosdb" title="Topic: cosmosdb" data-view-component="true" class="topic-tag topic-tag-link">
  cosmosdb
</a>
      <a href="/topics/memorystore" title="Topic: memorystore" data-view-component="true" class="topic-tag topic-tag-link">
  memorystore
</a>
      <a href="/topics/message-db" title="Topic: message-db" data-view-component="true" class="topic-tag topic-tag-link">
  message-db
</a>
      <a href="/topics/eventstoredb" title="Topic: eventstoredb" data-view-component="true" class="topic-tag topic-tag-link">
  eventstoredb
</a>
  </div>

    </div>

    <h3 class="sr-only">Resources</h3>
    <div class="mt-2">
      <a class="Link--muted" data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:readme&quot;}" href="#readme-ov-file">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-book mr-2">
    <path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
</svg>
        Readme
</a>    </div>

  
    <h3 class="sr-only">License</h3>
  <div class="mt-2">
    <a href="#Apache-2.0-1-ov-file"
      class="Link--muted"
      
      data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:license&quot;}"
    >
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-1 mr-sm-1 mr-md-2 mr-lg-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
     Apache-2.0 license
    </a>
  </div>




    <h3 class="sr-only">Contributing</h3>
    <div class="mt-2">
      <a href="#contributing-ov-file"
        class="Link--muted"
        
        data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:contributing&quot;}"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-people mr-2">
    <path d="M2 5.5a3.5 3.5 0 1 1 5.898 2.549 5.508 5.508 0 0 1 3.034 4.084.75.75 0 1 1-1.482.235 4 4 0 0 0-7.9 0 .75.75 0 0 1-1.482-.236A5.507 5.507 0 0 1 3.102 8.05 3.493 3.493 0 0 1 2 5.5ZM11 4a3.001 3.001 0 0 1 2.22 5.018 5.01 5.01 0 0 1 2.56 3.012.749.749 0 0 1-.885.954.752.752 0 0 1-.549-.514 3.507 3.507 0 0 0-2.522-2.372.75.75 0 0 1-.574-.73v-.352a.75.75 0 0 1 .416-.672A1.5 1.5 0 0 0 11 5.5.75.75 0 0 1 11 4Zm-5.5-.5a2 2 0 1 0-.001 3.999A2 2 0 0 0 5.5 3.5Z"></path>
</svg>
        Contributing
      </a>
    </div>

    <h3 class="sr-only">Security policy</h3>
    <div class="mt-2">
      <a href="#security-ov-file"
        class="Link--muted"
        
        data-analytics-event="{&quot;category&quot;:&quot;Repository Overview&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;location:sidebar;file:security policy&quot;}"
      >
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-law mr-2">
    <path d="M8.75.75V2h.985c.304 0 .603.08.867.231l1.29.736c.038.022.08.033.124.033h2.234a.75.75 0 0 1 0 1.5h-.427l2.111 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.006.005-.01.01-.045.04c-.21.176-.441.327-.686.45C14.556 10.78 13.88 11 13 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L12.178 4.5h-.162c-.305 0-.604-.079-.868-.231l-1.29-.736a.245.245 0 0 0-.124-.033H8.75V13h2.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.5V3.5h-.984a.245.245 0 0 0-.124.033l-1.289.737c-.265.15-.564.23-.869.23h-.162l2.112 4.692a.75.75 0 0 1-.154.838l-.53-.53.529.531-.001.002-.002.002-.006.006-.016.015-.045.04c-.21.176-.441.327-.686.45C4.556 10.78 3.88 11 3 11a4.498 4.498 0 0 1-2.023-.454 3.544 3.544 0 0 1-.686-.45l-.045-.04-.016-.015-.006-.006-.004-.004v-.001a.75.75 0 0 1-.154-.838L2.178 4.5H1.75a.75.75 0 0 1 0-1.5h2.234a.249.249 0 0 0 .125-.033l1.288-.737c.265-.15.564-.23.869-.23h.984V.75a.75.75 0 0 1 1.5 0Zm2.945 8.477c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327Zm-10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327Z"></path>
</svg>
        Security policy
      </a>
    </div>

  <include-fragment src="/jet/equinox/hovercards/citation/sidebar_partial?tree_name=master" data-nonce="v2:d8b972e4-9933-bd08-a289-908efd99a4db" data-view-component="true">
  

  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>
  <div class="mt-2">
    <a href="/jet/equinox/activity" data-view-component="true" class="Link Link--muted"><svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pulse mr-2">
    <path d="M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z"></path>
</svg>
      <span class="color-fg-muted">Activity</span></a>  </div>

    <div class="mt-2">
      <a href="/jet/equinox/custom-properties" data-view-component="true" class="Link Link--muted"><svg text="gray" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-note mr-2">
    <path d="M0 3.75C0 2.784.784 2 1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM3.5 6.25a.75.75 0 0 1 .75-.75h7a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1-.75-.75Zm.75 2.25h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1 0-1.5Z"></path>
</svg>
        <span class="color-fg-muted">Custom properties</span></a>    </div>

  <h3 class="sr-only">Stars</h3>
  <div class="mt-2">
    <a href="/jet/equinox/stargazers" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star mr-2">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
      <strong>489</strong>
      stars</a>  </div>

  <h3 class="sr-only">Watchers</h3>
  <div class="mt-2">
    <a href="/jet/equinox/watchers" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-eye mr-2">
    <path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.83.88 9.576.43 8.898a1.62 1.62 0 0 1 0-1.798c.45-.677 1.367-1.931 2.637-3.022C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.473 0 2.825-.742 3.955-1.715 1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5c-1.473 0-2.825.742-3.955 1.715-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"></path>
</svg>
      <strong>21</strong>
      watching</a>  </div>

  <h3 class="sr-only">Forks</h3>
  <div class="mt-2">
    <a href="/jet/equinox/forks" data-view-component="true" class="Link Link--muted"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked mr-2">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
      <strong>70</strong>
      forks</a>  </div>


    <div class="mt-2">
      <a class="Link--muted" href="/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fjet%2Fequinox&amp;report=jet+%28user%29">
          Report repository
</a>    </div>
</div>

          </div>
        </div>

        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame">
  <a href="/jet/equinox/releases" data-view-component="true" class="Link--primary no-underline Link">Releases
      <span title="31" data-view-component="true" class="Counter">31</span></a></h2>

  <a class="Link--primary d-flex no-underline" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jet/equinox/releases/tag/4.0.3">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag flex-shrink-0 mt-1 color-fg-success">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
    <div class="ml-2 min-width-0">
      <div class="d-flex">
        <span class="css-truncate css-truncate-target text-bold mr-2" style="max-width: none;">Equinox: Fix stale values/TaskCanceledException with LoadOption.(AllowStale|AnyCachedValue)</span>
        <span title="Label: Latest" data-view-component="true" class="Label Label--success flex-shrink-0">
          Latest
</span>      </div>
      <div class="text-small color-fg-muted"><relative-time datetime="2024-04-11T01:28:13Z" class="no-wrap">Apr 11, 2024</relative-time></div>
    </div>
</a>    <div data-view-component="true" class="mt-3">
      <a text="small" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" href="/jet/equinox/releases" data-view-component="true" class="Link">+ 30 releases</a></div>
              </div>
            </div>

        
        
        
            <div class="BorderGrid-row" hidden>
              <div class="BorderGrid-cell">
                <include-fragment src="/jet/equinox/used_by_list" accept="text/fragment+html" data-nonce="v2:d8b972e4-9933-bd08-a289-908efd99a4db" data-view-component="true">
  

  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>
              </div>
            </div>

        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3">
  <a href="/jet/equinox/graphs/contributors" data-view-component="true" class="Link--primary no-underline Link d-flex flex-items-center">Contributors
      <span title="36" data-view-component="true" class="Counter ml-1">36</span></a></h2>


    <include-fragment aria-busy="true" aria-label="Loading contributors" src="/jet/equinox/contributors_list?count=36&amp;current_repository=equinox&amp;items_to_show=14" data-nonce="v2:d8b972e4-9933-bd08-a289-908efd99a4db" data-view-component="true">
  
      <ul class="list-style-none d-flex flex-wrap mb-n2">
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
          <li class="mb-2 ">
            <div class="Skeleton avatar avatar-user mr-2" style="width:32px;height:32px;"></div>
          </li>
      </ul>

  <div data-show-on-forbidden-error hidden>
    <div class="Box">
  <div class="blankslate-container">
    <div data-view-component="true" class="blankslate blankslate-spacious color-bg-default rounded-2">
      

      <h3 data-view-component="true" class="blankslate-heading">        Uh oh!
</h3>
      <p data-view-component="true">        <p class="color-fg-muted my-2 mb-2 ws-normal">There was an error while loading. <a class="Link--inTextBlock" data-turbo="false" href="" aria-label="Please reload this page">Please reload this page</a>.</p>
</p>

</div>  </div>
</div>  </div>
</include-fragment>

  <div data-view-component="true" class="mt-3">
    <a text="small" href="/jet/equinox/graphs/contributors" data-view-component="true" class="Link--inTextBlock Link">+ 22 contributors</a></div>
              </div>
            </div>

        
        
            <div class="BorderGrid-row">
              <div class="BorderGrid-cell">
                <h2 class="h4 mb-3">Languages</h2>
<div class="mb-2">
  <span data-view-component="true" class="Progress">
    <span style="background-color:#b845fc !important;;width: 99.6%;" itemprop="keywords" data-view-component="true" class="Progress-item color-bg-success-emphasis"></span>
    <span style="background-color:#ededed !important;;width: 0.4%;" itemprop="keywords" data-view-component="true" class="Progress-item color-bg-success-emphasis"></span>
</span></div>
<ul class="list-style-none">
    <li class="d-inline">
        <a class="d-inline-flex flex-items-center flex-nowrap Link--secondary no-underline text-small mr-3" href="/jet/equinox/search?l=f%23"  data-ga-click="Repository, language stats search click, location:repo overview">
          <svg style="color:#b845fc;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill mr-2">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
          <span class="color-fg-default text-bold mr-1">F#</span>
          <span>99.6%</span>
        </a>
    </li>
    <li class="d-inline">
      <span class="d-inline-flex flex-items-center flex-nowrap text-small mr-3">
        <svg style="color:#ededed;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-dot-fill mr-2">
    <path d="M8 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z"></path>
</svg>
        <span class="color-fg-default text-bold mr-1">Other</span>
        <span>0.4%</span>
      </span>
    </li>
</ul>

              </div>
            </div>

              </div>
</div>
  
</div></div>

  </div>


  </div>

</turbo-frame>


    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo" >
  <h2 class='sr-only'>Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="GitHub Homepage" class="footer-octicon mr-2" href="https://github.com">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12 1C5.923 1 1 5.923 1 12c0 4.867 3.149 8.979 7.521 10.436.55.096.756-.233.756-.522 0-.262-.013-1.128-.013-2.049-2.764.509-3.479-.674-3.699-1.292-.124-.317-.66-1.293-1.127-1.554-.385-.207-.936-.715-.014-.729.866-.014 1.485.797 1.691 1.128.99 1.663 2.571 1.196 3.204.907.096-.715.385-1.196.701-1.471-2.448-.275-5.005-1.224-5.005-5.432 0-1.196.426-2.186 1.128-2.956-.111-.275-.496-1.402.11-2.915 0 0 .921-.288 3.024 1.128a10.193 10.193 0 0 1 2.75-.371c.936 0 1.871.123 2.75.371 2.104-1.43 3.025-1.128 3.025-1.128.605 1.513.221 2.64.111 2.915.701.77 1.127 1.747 1.127 2.956 0 4.222-2.571 5.157-5.019 5.432.399.344.743 1.004.743 2.035 0 1.471-.014 2.654-.014 3.025 0 .289.206.632.756.522C19.851 20.979 23 16.854 23 12c0-6.077-4.922-11-11-11Z"></path>
</svg>
</a>
      <span>
        &copy; 2025 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to community&quot;,&quot;label&quot;:&quot;text:community&quot;}" href="https://github.community/" data-view-component="true" class="Link--secondary Link">Community</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mx-2" >
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}"
    >
       Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mx-2">
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent text-left"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}"
    >
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>



    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999"
      data-locale="en"
      data-initial-cookie-consent-allowed=""
      data-cookie-consent-required="false"
    ></ghcc-consent>




  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You cant perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>




    </div>
    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>

